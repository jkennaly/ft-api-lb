{"version":3,"sources":["webpack://festigram/./node_modules/atoa/atoa.js","webpack://festigram/./node_modules/contra/debounce.js","webpack://festigram/./node_modules/contra/emitter.js","webpack://festigram/./node_modules/crossvent/src/crossvent.js","webpack://festigram/./node_modules/crossvent/src/eventmap.js","webpack://festigram/./node_modules/custom-event/index.js","webpack://festigram/./node_modules/dayjs/dayjs.min.js","webpack://festigram/./node_modules/dayjs/plugin/isBetween.js","webpack://festigram/./node_modules/dayjs/plugin/relativeTime.js","webpack://festigram/./node_modules/dayjs/plugin/timezone.js","webpack://festigram/./node_modules/dayjs/plugin/utc.js","webpack://festigram/./node_modules/dragula/classes.js","webpack://festigram/./node_modules/dragula/dragula.js","webpack://festigram/./node_modules/localforage/dist/localforage.js","webpack://festigram/./node_modules/lodash/_DataView.js","webpack://festigram/./node_modules/lodash/_Hash.js","webpack://festigram/./node_modules/lodash/_LazyWrapper.js","webpack://festigram/./node_modules/lodash/_ListCache.js","webpack://festigram/./node_modules/lodash/_LodashWrapper.js","webpack://festigram/./node_modules/lodash/_Map.js","webpack://festigram/./node_modules/lodash/_MapCache.js","webpack://festigram/./node_modules/lodash/_Promise.js","webpack://festigram/./node_modules/lodash/_Set.js","webpack://festigram/./node_modules/lodash/_SetCache.js","webpack://festigram/./node_modules/lodash/_Stack.js","webpack://festigram/./node_modules/lodash/_Symbol.js","webpack://festigram/./node_modules/lodash/_Uint8Array.js","webpack://festigram/./node_modules/lodash/_WeakMap.js","webpack://festigram/./node_modules/lodash/_apply.js","webpack://festigram/./node_modules/lodash/_arrayAggregator.js","webpack://festigram/./node_modules/lodash/_arrayEach.js","webpack://festigram/./node_modules/lodash/_arrayEvery.js","webpack://festigram/./node_modules/lodash/_arrayFilter.js","webpack://festigram/./node_modules/lodash/_arrayIncludes.js","webpack://festigram/./node_modules/lodash/_arrayIncludesWith.js","webpack://festigram/./node_modules/lodash/_arrayLikeKeys.js","webpack://festigram/./node_modules/lodash/_arrayMap.js","webpack://festigram/./node_modules/lodash/_arrayPush.js","webpack://festigram/./node_modules/lodash/_arrayReduce.js","webpack://festigram/./node_modules/lodash/_arraySome.js","webpack://festigram/./node_modules/lodash/_asciiSize.js","webpack://festigram/./node_modules/lodash/_asciiToArray.js","webpack://festigram/./node_modules/lodash/_assignValue.js","webpack://festigram/./node_modules/lodash/_assocIndexOf.js","webpack://festigram/./node_modules/lodash/_baseAggregator.js","webpack://festigram/./node_modules/lodash/_baseAssign.js","webpack://festigram/./node_modules/lodash/_baseAssignIn.js","webpack://festigram/./node_modules/lodash/_baseAssignValue.js","webpack://festigram/./node_modules/lodash/_baseClone.js","webpack://festigram/./node_modules/lodash/_baseCreate.js","webpack://festigram/./node_modules/lodash/_baseDifference.js","webpack://festigram/./node_modules/lodash/_baseEach.js","webpack://festigram/./node_modules/lodash/_baseEvery.js","webpack://festigram/./node_modules/lodash/_baseExtremum.js","webpack://festigram/./node_modules/lodash/_baseFilter.js","webpack://festigram/./node_modules/lodash/_baseFindIndex.js","webpack://festigram/./node_modules/lodash/_baseFlatten.js","webpack://festigram/./node_modules/lodash/_baseFor.js","webpack://festigram/./node_modules/lodash/_baseForOwn.js","webpack://festigram/./node_modules/lodash/_baseGet.js","webpack://festigram/./node_modules/lodash/_baseGetAllKeys.js","webpack://festigram/./node_modules/lodash/_baseGetTag.js","webpack://festigram/./node_modules/lodash/_baseGt.js","webpack://festigram/./node_modules/lodash/_baseHasIn.js","webpack://festigram/./node_modules/lodash/_baseIndexOf.js","webpack://festigram/./node_modules/lodash/_baseInvoke.js","webpack://festigram/./node_modules/lodash/_baseIsArguments.js","webpack://festigram/./node_modules/lodash/_baseIsEqual.js","webpack://festigram/./node_modules/lodash/_baseIsEqualDeep.js","webpack://festigram/./node_modules/lodash/_baseIsMap.js","webpack://festigram/./node_modules/lodash/_baseIsMatch.js","webpack://festigram/./node_modules/lodash/_baseIsNaN.js","webpack://festigram/./node_modules/lodash/_baseIsNative.js","webpack://festigram/./node_modules/lodash/_baseIsRegExp.js","webpack://festigram/./node_modules/lodash/_baseIsSet.js","webpack://festigram/./node_modules/lodash/_baseIsTypedArray.js","webpack://festigram/./node_modules/lodash/_baseIteratee.js","webpack://festigram/./node_modules/lodash/_baseKeys.js","webpack://festigram/./node_modules/lodash/_baseKeysIn.js","webpack://festigram/./node_modules/lodash/_baseLodash.js","webpack://festigram/./node_modules/lodash/_baseLt.js","webpack://festigram/./node_modules/lodash/_baseMap.js","webpack://festigram/./node_modules/lodash/_baseMatches.js","webpack://festigram/./node_modules/lodash/_baseMatchesProperty.js","webpack://festigram/./node_modules/lodash/_baseMean.js","webpack://festigram/./node_modules/lodash/_baseProperty.js","webpack://festigram/./node_modules/lodash/_basePropertyDeep.js","webpack://festigram/./node_modules/lodash/_baseReduce.js","webpack://festigram/./node_modules/lodash/_baseRest.js","webpack://festigram/./node_modules/lodash/_baseSet.js","webpack://festigram/./node_modules/lodash/_baseSetData.js","webpack://festigram/./node_modules/lodash/_baseSetToString.js","webpack://festigram/./node_modules/lodash/_baseSlice.js","webpack://festigram/./node_modules/lodash/_baseSome.js","webpack://festigram/./node_modules/lodash/_baseSum.js","webpack://festigram/./node_modules/lodash/_baseTimes.js","webpack://festigram/./node_modules/lodash/_baseToPairs.js","webpack://festigram/./node_modules/lodash/_baseToString.js","webpack://festigram/./node_modules/lodash/_baseTrim.js","webpack://festigram/./node_modules/lodash/_baseUnary.js","webpack://festigram/./node_modules/lodash/_baseUniq.js","webpack://festigram/./node_modules/lodash/_baseUnset.js","webpack://festigram/./node_modules/lodash/_baseValues.js","webpack://festigram/./node_modules/lodash/_cacheHas.js","webpack://festigram/./node_modules/lodash/_castFunction.js","webpack://festigram/./node_modules/lodash/_castPath.js","webpack://festigram/./node_modules/lodash/_castSlice.js","webpack://festigram/./node_modules/lodash/_cloneArrayBuffer.js","webpack://festigram/./node_modules/lodash/_cloneBuffer.js","webpack://festigram/./node_modules/lodash/_cloneDataView.js","webpack://festigram/./node_modules/lodash/_cloneRegExp.js","webpack://festigram/./node_modules/lodash/_cloneSymbol.js","webpack://festigram/./node_modules/lodash/_cloneTypedArray.js","webpack://festigram/./node_modules/lodash/_composeArgs.js","webpack://festigram/./node_modules/lodash/_composeArgsRight.js","webpack://festigram/./node_modules/lodash/_copyArray.js","webpack://festigram/./node_modules/lodash/_copyObject.js","webpack://festigram/./node_modules/lodash/_copySymbols.js","webpack://festigram/./node_modules/lodash/_copySymbolsIn.js","webpack://festigram/./node_modules/lodash/_coreJsData.js","webpack://festigram/./node_modules/lodash/_countHolders.js","webpack://festigram/./node_modules/lodash/_createAggregator.js","webpack://festigram/./node_modules/lodash/_createAssigner.js","webpack://festigram/./node_modules/lodash/_createBaseEach.js","webpack://festigram/./node_modules/lodash/_createBaseFor.js","webpack://festigram/./node_modules/lodash/_createBind.js","webpack://festigram/./node_modules/lodash/_createCtor.js","webpack://festigram/./node_modules/lodash/_createCurry.js","webpack://festigram/./node_modules/lodash/_createFind.js","webpack://festigram/./node_modules/lodash/_createHybrid.js","webpack://festigram/./node_modules/lodash/_createPartial.js","webpack://festigram/./node_modules/lodash/_createRecurry.js","webpack://festigram/./node_modules/lodash/_createSet.js","webpack://festigram/./node_modules/lodash/_createToPairs.js","webpack://festigram/./node_modules/lodash/_createWrap.js","webpack://festigram/./node_modules/lodash/_customOmitClone.js","webpack://festigram/./node_modules/lodash/_defineProperty.js","webpack://festigram/./node_modules/lodash/_equalArrays.js","webpack://festigram/./node_modules/lodash/_equalByTag.js","webpack://festigram/./node_modules/lodash/_equalObjects.js","webpack://festigram/./node_modules/lodash/_flatRest.js","webpack://festigram/./node_modules/lodash/_freeGlobal.js","webpack://festigram/./node_modules/lodash/_getAllKeys.js","webpack://festigram/./node_modules/lodash/_getAllKeysIn.js","webpack://festigram/./node_modules/lodash/_getData.js","webpack://festigram/./node_modules/lodash/_getFuncName.js","webpack://festigram/./node_modules/lodash/_getHolder.js","webpack://festigram/./node_modules/lodash/_getMapData.js","webpack://festigram/./node_modules/lodash/_getMatchData.js","webpack://festigram/./node_modules/lodash/_getNative.js","webpack://festigram/./node_modules/lodash/_getPrototype.js","webpack://festigram/./node_modules/lodash/_getRawTag.js","webpack://festigram/./node_modules/lodash/_getSymbols.js","webpack://festigram/./node_modules/lodash/_getSymbolsIn.js","webpack://festigram/./node_modules/lodash/_getTag.js","webpack://festigram/./node_modules/lodash/_getValue.js","webpack://festigram/./node_modules/lodash/_getWrapDetails.js","webpack://festigram/./node_modules/lodash/_hasPath.js","webpack://festigram/./node_modules/lodash/_hasUnicode.js","webpack://festigram/./node_modules/lodash/_hashClear.js","webpack://festigram/./node_modules/lodash/_hashDelete.js","webpack://festigram/./node_modules/lodash/_hashGet.js","webpack://festigram/./node_modules/lodash/_hashHas.js","webpack://festigram/./node_modules/lodash/_hashSet.js","webpack://festigram/./node_modules/lodash/_initCloneArray.js","webpack://festigram/./node_modules/lodash/_initCloneByTag.js","webpack://festigram/./node_modules/lodash/_initCloneObject.js","webpack://festigram/./node_modules/lodash/_insertWrapDetails.js","webpack://festigram/./node_modules/lodash/_isFlattenable.js","webpack://festigram/./node_modules/lodash/_isIndex.js","webpack://festigram/./node_modules/lodash/_isIterateeCall.js","webpack://festigram/./node_modules/lodash/_isKey.js","webpack://festigram/./node_modules/lodash/_isKeyable.js","webpack://festigram/./node_modules/lodash/_isLaziable.js","webpack://festigram/./node_modules/lodash/_isMasked.js","webpack://festigram/./node_modules/lodash/_isPrototype.js","webpack://festigram/./node_modules/lodash/_isStrictComparable.js","webpack://festigram/./node_modules/lodash/_listCacheClear.js","webpack://festigram/./node_modules/lodash/_listCacheDelete.js","webpack://festigram/./node_modules/lodash/_listCacheGet.js","webpack://festigram/./node_modules/lodash/_listCacheHas.js","webpack://festigram/./node_modules/lodash/_listCacheSet.js","webpack://festigram/./node_modules/lodash/_mapCacheClear.js","webpack://festigram/./node_modules/lodash/_mapCacheDelete.js","webpack://festigram/./node_modules/lodash/_mapCacheGet.js","webpack://festigram/./node_modules/lodash/_mapCacheHas.js","webpack://festigram/./node_modules/lodash/_mapCacheSet.js","webpack://festigram/./node_modules/lodash/_mapToArray.js","webpack://festigram/./node_modules/lodash/_matchesStrictComparable.js","webpack://festigram/./node_modules/lodash/_memoizeCapped.js","webpack://festigram/./node_modules/lodash/_mergeData.js","webpack://festigram/./node_modules/lodash/_metaMap.js","webpack://festigram/./node_modules/lodash/_nativeCreate.js","webpack://festigram/./node_modules/lodash/_nativeKeys.js","webpack://festigram/./node_modules/lodash/_nativeKeysIn.js","webpack://festigram/./node_modules/lodash/_nodeUtil.js","webpack://festigram/./node_modules/lodash/_objectToString.js","webpack://festigram/./node_modules/lodash/_overArg.js","webpack://festigram/./node_modules/lodash/_overRest.js","webpack://festigram/./node_modules/lodash/_parent.js","webpack://festigram/./node_modules/lodash/_realNames.js","webpack://festigram/./node_modules/lodash/_reorder.js","webpack://festigram/./node_modules/lodash/_replaceHolders.js","webpack://festigram/./node_modules/lodash/_root.js","webpack://festigram/./node_modules/lodash/_setCacheAdd.js","webpack://festigram/./node_modules/lodash/_setCacheHas.js","webpack://festigram/./node_modules/lodash/_setData.js","webpack://festigram/./node_modules/lodash/_setToArray.js","webpack://festigram/./node_modules/lodash/_setToPairs.js","webpack://festigram/./node_modules/lodash/_setToString.js","webpack://festigram/./node_modules/lodash/_setWrapToString.js","webpack://festigram/./node_modules/lodash/_shortOut.js","webpack://festigram/./node_modules/lodash/_stackClear.js","webpack://festigram/./node_modules/lodash/_stackDelete.js","webpack://festigram/./node_modules/lodash/_stackGet.js","webpack://festigram/./node_modules/lodash/_stackHas.js","webpack://festigram/./node_modules/lodash/_stackSet.js","webpack://festigram/./node_modules/lodash/_strictIndexOf.js","webpack://festigram/./node_modules/lodash/_stringSize.js","webpack://festigram/./node_modules/lodash/_stringToArray.js","webpack://festigram/./node_modules/lodash/_stringToPath.js","webpack://festigram/./node_modules/lodash/_toKey.js","webpack://festigram/./node_modules/lodash/_toSource.js","webpack://festigram/./node_modules/lodash/_trimmedEndIndex.js","webpack://festigram/./node_modules/lodash/_unicodeSize.js","webpack://festigram/./node_modules/lodash/_unicodeToArray.js","webpack://festigram/./node_modules/lodash/_updateWrapDetails.js","webpack://festigram/./node_modules/lodash/_wrapperClone.js","webpack://festigram/./node_modules/lodash/assign.js","webpack://festigram/./node_modules/lodash/clone.js","webpack://festigram/./node_modules/lodash/cloneDeep.js","webpack://festigram/./node_modules/lodash/constant.js","webpack://festigram/./node_modules/lodash/countBy.js","webpack://festigram/./node_modules/lodash/curry.js","webpack://festigram/./node_modules/lodash/difference.js","webpack://festigram/./node_modules/lodash/each.js","webpack://festigram/./node_modules/lodash/eq.js","webpack://festigram/./node_modules/lodash/every.js","webpack://festigram/./node_modules/lodash/filter.js","webpack://festigram/./node_modules/lodash/find.js","webpack://festigram/./node_modules/lodash/findIndex.js","webpack://festigram/./node_modules/lodash/first.js","webpack://festigram/./node_modules/lodash/flatMap.js","webpack://festigram/./node_modules/lodash/flatten.js","webpack://festigram/./node_modules/lodash/forEach.js","webpack://festigram/./node_modules/lodash/get.js","webpack://festigram/./node_modules/lodash/hasIn.js","webpack://festigram/./node_modules/lodash/head.js","webpack://festigram/./node_modules/lodash/identity.js","webpack://festigram/./node_modules/lodash/includes.js","webpack://festigram/./node_modules/lodash/invoke.js","webpack://festigram/./node_modules/lodash/isArguments.js","webpack://festigram/./node_modules/lodash/isArray.js","webpack://festigram/./node_modules/lodash/isArrayLike.js","webpack://festigram/./node_modules/lodash/isArrayLikeObject.js","webpack://festigram/./node_modules/lodash/isBoolean.js","webpack://festigram/./node_modules/lodash/isBuffer.js","webpack://festigram/./node_modules/lodash/isEqual.js","webpack://festigram/./node_modules/lodash/isFunction.js","webpack://festigram/./node_modules/lodash/isInteger.js","webpack://festigram/./node_modules/lodash/isLength.js","webpack://festigram/./node_modules/lodash/isMap.js","webpack://festigram/./node_modules/lodash/isNumber.js","webpack://festigram/./node_modules/lodash/isObject.js","webpack://festigram/./node_modules/lodash/isObjectLike.js","webpack://festigram/./node_modules/lodash/isPlainObject.js","webpack://festigram/./node_modules/lodash/isRegExp.js","webpack://festigram/./node_modules/lodash/isSet.js","webpack://festigram/./node_modules/lodash/isString.js","webpack://festigram/./node_modules/lodash/isSymbol.js","webpack://festigram/./node_modules/lodash/isTypedArray.js","webpack://festigram/./node_modules/lodash/isUndefined.js","webpack://festigram/./node_modules/lodash/join.js","webpack://festigram/./node_modules/lodash/keys.js","webpack://festigram/./node_modules/lodash/keysIn.js","webpack://festigram/./node_modules/lodash/last.js","webpack://festigram/./node_modules/lodash/map.js","webpack://festigram/./node_modules/lodash/max.js","webpack://festigram/./node_modules/lodash/meanBy.js","webpack://festigram/./node_modules/lodash/memoize.js","webpack://festigram/./node_modules/lodash/min.js","webpack://festigram/./node_modules/lodash/noop.js","webpack://festigram/./node_modules/lodash/omit.js","webpack://festigram/./node_modules/lodash/property.js","webpack://festigram/./node_modules/lodash/reduce.js","webpack://festigram/./node_modules/lodash/set.js","webpack://festigram/./node_modules/lodash/some.js","webpack://festigram/./node_modules/lodash/stubArray.js","webpack://festigram/./node_modules/lodash/stubFalse.js","webpack://festigram/./node_modules/lodash/take.js","webpack://festigram/./node_modules/lodash/toFinite.js","webpack://festigram/./node_modules/lodash/toInteger.js","webpack://festigram/./node_modules/lodash/toLower.js","webpack://festigram/./node_modules/lodash/toNumber.js","webpack://festigram/./node_modules/lodash/toPairs.js","webpack://festigram/./node_modules/lodash/toString.js","webpack://festigram/./node_modules/lodash/truncate.js","webpack://festigram/./node_modules/lodash/unionBy.js","webpack://festigram/./node_modules/lodash/uniq.js","webpack://festigram/./node_modules/lodash/uniqBy.js","webpack://festigram/./node_modules/lodash/values.js","webpack://festigram/./node_modules/lodash/wrapperLodash.js","webpack://festigram/./node_modules/mithril/api/mount-redraw.js","webpack://festigram/./node_modules/mithril/api/router.js","webpack://festigram/./node_modules/mithril/hyperscript.js","webpack://festigram/./node_modules/mithril/index.js","webpack://festigram/./node_modules/mithril/mount-redraw.js","webpack://festigram/./node_modules/mithril/pathname/assign.js","webpack://festigram/./node_modules/mithril/pathname/build.js","webpack://festigram/./node_modules/mithril/pathname/compileTemplate.js","webpack://festigram/./node_modules/mithril/pathname/parse.js","webpack://festigram/./node_modules/mithril/promise/polyfill.js","webpack://festigram/./node_modules/mithril/promise/promise.js","webpack://festigram/./node_modules/mithril/querystring/build.js","webpack://festigram/./node_modules/mithril/querystring/parse.js","webpack://festigram/./node_modules/mithril/render.js","webpack://festigram/./node_modules/mithril/render/fragment.js","webpack://festigram/./node_modules/mithril/render/hyperscript.js","webpack://festigram/./node_modules/mithril/render/hyperscriptVnode.js","webpack://festigram/./node_modules/mithril/render/render.js","webpack://festigram/./node_modules/mithril/render/trust.js","webpack://festigram/./node_modules/mithril/render/vnode.js","webpack://festigram/./node_modules/mithril/request.js","webpack://festigram/./node_modules/mithril/request/request.js","webpack://festigram/./node_modules/mithril/route.js","webpack://festigram/./node_modules/smart-search/lib/smart-search.js","webpack://festigram/./node_modules/ticky/ticky-browser.js","webpack://festigram/webpack/bootstrap","webpack://festigram/webpack/runtime/compat get default export","webpack://festigram/webpack/runtime/define property getters","webpack://festigram/webpack/runtime/global","webpack://festigram/webpack/runtime/hasOwnProperty shorthand","webpack://festigram/webpack/runtime/node module decorator","webpack://festigram/webpack/runtime/publicPath","webpack://festigram/./node_modules/@auth0/auth0-spa-js/dist/auth0-spa-js.production.esm.js","webpack://festigram/./node_modules/jwt-decode/build/jwt-decode.esm.js","webpack://festigram/./src/services/authOptions/gtt.js","webpack://festigram/./src/services/fetchT.js","webpack://festigram/./src/services/authOptions/auth0.js","webpack://festigram/./src/services/authOptions/authNoToken.js","webpack://festigram/./src/services/authOptions/authLocal.js","webpack://festigram/./src/services/auth.js","webpack://festigram/./src/store/loading/archive.js","webpack://festigram/./src/store/loading/acquire.js","webpack://festigram/./src/store/loading/enlist.js","webpack://festigram/./src/services/localData.js","webpack://festigram/./src/store/loading/provide.js","webpack://festigram/./src/store/list/DataList.js","webpack://festigram/./src/store/list/models/ArtistList.js","webpack://festigram/./src/store/list/models/ImageList.js","webpack://festigram/./src/store/list/models/SeriesList.js","webpack://festigram/./src/store/list/models/FestivalList.js","webpack://festigram/./src/store/list/models/DateList.js","webpack://festigram/./src/store/list/models/DayList.js","webpack://festigram/./src/store/list/models/SetList.js","webpack://festigram/./src/store/list/models/LineupList.js","webpack://festigram/./src/store/list/models/VenueList.js","webpack://festigram/./src/store/list/models/OrganizerList.js","webpack://festigram/./src/store/list/models/PlaceList.js","webpack://festigram/./src/store/list/models/ArtistPriorityList.js","webpack://festigram/./src/store/list/models/StagePriorityList.js","webpack://festigram/./src/store/list/models/StageLayoutList.js","webpack://festigram/./src/store/list/models/PlaceTypeList.js","webpack://festigram/./src/store/list/models/ArtistAliasList.js","webpack://festigram/./src/store/list/models/ParentGenreList.js","webpack://festigram/./src/store/list/models/GenreList.js","webpack://festigram/./src/store/list/models/ArtistGenreList.js","webpack://festigram/./src/store/list/models/MessageTypeList.js","webpack://festigram/./src/store/list/models/SubjectTypeList.js","webpack://festigram/./src/store/list/models/MessageList.js","webpack://festigram/./src/store/list/models/MessagesMonitorList.js","webpack://festigram/./src/store/list/models/IntentionList.js","webpack://festigram/./src/store/list/models/InteractionList.js","webpack://festigram/./src/store/list/models/ProfileList.js","webpack://festigram/./src/store/list/models/FlagList.js","webpack://festigram/./src/store/list/mixins/local/appendable.js","webpack://festigram/./src/store/list/mixins/attributes/img.js","webpack://festigram/./src/store/list/mixins/attributes/named.js","webpack://festigram/./src/services/subjectFunctions.js","webpack://festigram/./src/store/list/mixins/attributes/messageName.js","webpack://festigram/./src/store/list/mixins/attributes/userName.js","webpack://festigram/./src/store/list/mixins/attributes/leveled.js","webpack://festigram/./src/services/sorts.js","webpack://festigram/./src/store/list/mixins/attributes/filterable.js","webpack://festigram/./src/store/list/mixins/subjects/subjective.js","webpack://festigram/./src/store/list/mixins/event/active/festival.js","webpack://festigram/./src/store/list/mixins/event/futureDate.js","webpack://festigram/./src/store/list/mixins/event/futureSet.js","webpack://festigram/./src/store/list/mixins/event/momentsDate.js","webpack://festigram/./src/store/list/mixins/event/momentsDay.js","webpack://festigram/./src/store/list/mixins/event/event.js","webpack://festigram/./src/store/list/mixins/event/eventSuper.js","webpack://festigram/./src/store/list/mixins/event/eventSub.js","webpack://festigram/./src/store/list/mixins/event/sellAccess.js","webpack://festigram/./src/store/list/mixins/subjects/place.js","webpack://festigram/./src/store/list/mixins/event/research.js","webpack://festigram/./src/store/list/mixins/subjects/messageConnections/event.js","webpack://festigram/./src/store/list/mixins/subjects/filters/message.js","webpack://festigram/./src/store/list/mixins/subjects/filters/forArtist.js","webpack://festigram/./src/store/list/mixins/subjects/filters/forSubject.js","webpack://festigram/./src/store/list/mixins/subjects/filters/forDayAndStage.js","webpack://festigram/./src/store/list/mixins/subjects/messageConnections/filter.js","webpack://festigram/./src/store/list/mixins/search/nameMatch.js","webpack://festigram/./src/store/list/mixins/relations/artistConnections.js","webpack://festigram/./src/store/list/mixins/relations/messageMonitor.js","webpack://festigram/./src/store/list/mixins/relations/intent.js","webpack://festigram/./src/services/reviewArrays.js","webpack://festigram/./src/store/subjectData.js","webpack://festigram/./src/store/list/mixins/relations/messageSenders.js","webpack://festigram/./src/store/list/mixins/relations/senderPurge.js","webpack://festigram/./src/store/list/mixins/remote/merge.js","webpack://festigram/./src/store/list/mixins/remote/details/subject.js","webpack://festigram/./src/store/list/mixins/remote/details/artist.js","webpack://festigram/./src/store/list/mixins/remote/details/date.js","webpack://festigram/./src/store/list/mixins/remote/details/day.js","webpack://festigram/./src/store/list/mixins/remote/details/set.js","webpack://festigram/./src/store/loading/foreign.js","webpack://festigram/./src/store/list/mixins/remote/www/getWikiPromise.js","webpack://festigram/./src/store/list/mixins/remote/advanceFlag.js","webpack://festigram/./src/store/list/mixins/remote/batchCreate.js","webpack://festigram/./src/store/list/mixins/remote/batchDelete.js","webpack://festigram/./src/store/list/mixins/remote/batchUpdate.js","webpack://festigram/./src/store/list/mixins/remote/bucks.js","webpack://festigram/./node_modules/@cloudinary/base/internal/qualifier/QualifierValue.js","webpack://festigram/./node_modules/@cloudinary/base/internal/qualifier/Qualifier.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/flag/FlagQualifier.js","webpack://festigram/./node_modules/@cloudinary/base/internal/Action.js","webpack://festigram/./node_modules/@cloudinary/base/internal/utils/dataStructureUtils.js","webpack://festigram/./node_modules/@cloudinary/base/actions/background/actions/BackgroundColor.js","webpack://festigram/./node_modules/@cloudinary/base/internal/utils/prepareColor.js","webpack://festigram/./node_modules/@cloudinary/base/internal/RawAction.js","webpack://festigram/./node_modules/@cloudinary/base/transformation/Transformation.js","webpack://festigram/./node_modules/@cloudinary/base/transformation/ImageTransformation.js","webpack://festigram/./node_modules/@cloudinary/base/config/BaseConfig.js","webpack://festigram/./node_modules/@cloudinary/base/internal/internalConstants.js","webpack://festigram/./node_modules/@cloudinary/base/config/URLConfig.js","webpack://festigram/./node_modules/@cloudinary/base/assets/CloudinaryTransformable.js","webpack://festigram/./node_modules/@cloudinary/base/assets/CloudinaryFile.js","webpack://festigram/./node_modules/@cloudinary/base/internal/url/cloudinaryURL.js","webpack://festigram/./node_modules/@cloudinary/base/internal/url/urlUtils/publicIDContainsVersion.js","webpack://festigram/./node_modules/@cloudinary/base/internal/url/urlUtils/isUrl.js","webpack://festigram/./node_modules/@cloudinary/base/internal/url/urlUtils/isFileName.js","webpack://festigram/./node_modules/@cloudinary/base/assets/CloudinaryImage.js","webpack://festigram/./node_modules/@cloudinary/base/transformation/VideoTransformation.js","webpack://festigram/./node_modules/@cloudinary/base/assets/CloudinaryVideo.js","webpack://festigram/./node_modules/@cloudinary/base/actions/roundCorners/RoundCornersAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/roundCorners/max.js","webpack://festigram/./node_modules/@cloudinary/base/actions/roundCorners.js","webpack://festigram/./node_modules/@cloudinary/base/actions/roundCorners/byRadius.js","webpack://festigram/./node_modules/@cloudinary/base/internal/utils/toFloatAsString.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/aspectRatio/AspectRatioQualifierValue.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/flag.js","webpack://festigram/./node_modules/@cloudinary/base/actions/resize/ResizeSimpleAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/resize/ResizeAdvancedAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/resize/ResizePadAction.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/gravity/GravityQualifier.js","webpack://festigram/./node_modules/@cloudinary/base/actions/resize/ScaleAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/resize/ThumbnailAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/resize/ResizeCropAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/resize/ResizeFillAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/resize.js","webpack://festigram/./node_modules/@cloudinary/base/actions/border.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/blur/blur.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/EffectActions/SimpleEffectAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/EffectActions/LeveledEffectAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/leveled/accelerate.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/leveled/loop.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/cartoonify.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/outline.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/leveled/makeTransparent.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/vectorize.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/simulateColorBlind.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/EffectActions/EffectActionWithLevel.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/assistColorBlind.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/gradientFade.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/leveled/fadeOut.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/colorize.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/shadow.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/styleTransfer.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/dither.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/leveled/deshake.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/pixelate/pixelate.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/EffectActions/EffectActionWithStrength.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/leveled/blackwhite.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/leveled/fadeIn.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/removeBackgroundAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect.js","webpack://festigram/./node_modules/@cloudinary/base/actions/rotate/RotateAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/rotate/mode.js","webpack://festigram/./node_modules/@cloudinary/base/actions/rotate.js","webpack://festigram/./node_modules/@cloudinary/base/actions/rotate/byAngle.js","webpack://festigram/./node_modules/@cloudinary/base/actions/adjust/FillLightAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/adjust/RecolorAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/adjust/OpacityAdjustAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/adjust/By3dLutAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/adjust/ImproveAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/adjust/ReplaceColorAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/effect/EffectActions/EffectActionWithBlend.js","webpack://festigram/./node_modules/@cloudinary/base/actions/adjust/simple/ViesusCorrectAdjustAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/adjust.js","webpack://festigram/./node_modules/@cloudinary/base/actions/videoEdit/TrimAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/videoEdit/ConcatenateAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/videoEdit/VolumeAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/videoEdit/PreviewAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/videoEdit.js","webpack://festigram/./node_modules/@cloudinary/base/actions/layer/LayerAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/overlay.js","webpack://festigram/./node_modules/@cloudinary/base/actions/underlay.js","webpack://festigram/./node_modules/@cloudinary/base/actions/namedTransformation/NamedTransformationAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/namedTransformation.js","webpack://festigram/./node_modules/@cloudinary/base/actions/delivery/DeliveryAction.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/progressive.js","webpack://festigram/./node_modules/@cloudinary/base/actions/delivery/DeliveryFormat.js","webpack://festigram/./node_modules/@cloudinary/base/actions/delivery/DeliveryQuality.js","webpack://festigram/./node_modules/@cloudinary/base/actions/delivery/DeliveryColorSpaceFromICC.js","webpack://festigram/./node_modules/@cloudinary/base/actions/delivery.js","webpack://festigram/./node_modules/@cloudinary/base/internal/utils/base64Encode.js","webpack://festigram/./node_modules/@cloudinary/base/actions/customFunction/CustomFunctionAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/customFunction/RemoteAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/customFunction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/transcode/BitRateAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/transcode/AudioCodecAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/transcode/AudioFrequencyAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/transcode/FPSAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/transcode/FPSRangeAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/transcode/KeyframeIntervalsAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/transcode/StreamingProfile.js","webpack://festigram/./node_modules/@cloudinary/base/actions/transcode/ToAnimatedAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/transcode/VideoCodecAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/transcode.js","webpack://festigram/./node_modules/@cloudinary/base/actions/psdTools/ClipAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/psdTools/GetLayerAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/psdTools/SmartObjectAction.js","webpack://festigram/./node_modules/@cloudinary/base/actions/psdTools.js","webpack://festigram/./node_modules/@cloudinary/base/actions.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/animatedFormat/AnimatedFormatQualifierValue.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/animatedFormat.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/artisticFilter.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/aspectRatio.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/audioCodec.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/audioFrequency.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/background/shared/base/BackgroundQualifier.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/background/shared/base/BaseCommonBackground.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/background/shared/auto/BackgroundAutoBorderQualifier.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/background/shared/base/BaseGradientBackground.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/background/shared/gradient/BackgroundBorderGradientQualifier.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/background/shared/auto/BackgroundAutoPredominantQualifier.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/background/shared/gradient/BackgroundPredominantGradientQualifier.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/background/shared/BlurredBackgroundAction.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/background.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/chromaSubSampling.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/colorSpace.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/dither.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/dpr.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/expression/ExpressionQualifier.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/expression.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/fontHinting.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/fontStyle.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/fontWeight.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/format/FormatQualifier.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/format.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/gradientDirection/GradientDirectionQualifierValue.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/gradientDirection.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/gravity/OCR/OCR.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/gravity/compassGravity/CompassGravity.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/gravity/focusOnGravity/FocusOnGravity.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/gravity/autoGravity/AutoGravity.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/gravity/xyCenterGravity/XYCenterGravity.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/gravity.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/improveMode.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/outlineMode.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/quality.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/region/NamedRegion.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/region/CustomRegion.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/region.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/rotate/RotationModeQualifierValue.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/rotationMode.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/simulateColorBlind.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/source/BaseSource.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/source/sourceTypes/VideoSource.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/source/sourceTypes/ImageSource.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/source/sourceTypes/BaseTextSource.js","webpack://festigram/./node_modules/@cloudinary/base/internal/utils/serializeCloudinaryCharacters.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/source/sourceTypes/SubtitlesSource.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/source/sourceTypes/FetchSource.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/source/sourceTypes/TextSource.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/source.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/GradientFade.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/textDecoration.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/textAlignment.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/streamingProfile.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/position/PositionQualifier.js","webpack://festigram/./node_modules/@cloudinary/base/qualifiers/color.js","webpack://festigram/./src/store/list/mixins/remote/cloudy.js","webpack://festigram/./node_modules/@cloudinary/base/instance/Cloudinary.js","webpack://festigram/./src/store/list/mixins/remote/cost.js","webpack://festigram/./src/store/list/mixins/remote/buy.js","webpack://festigram/./src/store/list/mixins/remote/create.js","webpack://festigram/./src/store/list/mixins/remote/deletion.js","webpack://festigram/./src/store/list/mixins/remote/getPromise.js","webpack://festigram/./src/store/list/mixins/remote/nameSearch.js","webpack://festigram/./src/store/list/mixins/remote/setsForDay.js","webpack://festigram/./src/store/list/mixins/remote/update.js","webpack://festigram/./src/store/list/mixins/remote/updateInstance.js","webpack://festigram/./src/store/list/mixins/remote/upsert.js","webpack://festigram/./src/store/data.js","webpack://festigram/./src/store/list/mixins/subjects/filters/monitoredMessage.js","webpack://festigram/./src/store/list/mixins/attributes/rated.js","webpack://festigram/./src/store/list/mixins/attributes/virginal.js","webpack://festigram/./src/store/list/mixins/subjects/messageConnections/artist.js","webpack://festigram/./src/store/list/mixins/event/img.js","webpack://festigram/./src/store/list/mixins/event/associated/seriesIds.js","webpack://festigram/./src/store/list/mixins/event/active/series.js","webpack://festigram/./src/store/list/mixins/subjects/messageConnections/festival.js","webpack://festigram/./src/store/list/mixins/event/intendedFestival.js","webpack://festigram/./src/store/list/mixins/event/associated/festivalIds.js","webpack://festigram/./src/store/list/mixins/remote/details/festival.js","webpack://festigram/./src/store/list/mixins/event/associated/dateIds.js","webpack://festigram/./src/store/list/mixins/subjects/checkins/dateCheckin.js","webpack://festigram/./src/store/list/mixins/remote/dateWithDays.js","webpack://festigram/./src/store/list/mixins/event/admin/dateFilters.js","webpack://festigram/./src/store/list/mixins/event/intendedDate.js","webpack://festigram/./src/store/list/mixins/event/associated/dayIds.js","webpack://festigram/./src/store/list/mixins/event/setName.js","webpack://festigram/./src/store/list/mixins/event/momentsSet.js","webpack://festigram/./src/store/list/mixins/event/associated/setIds.js","webpack://festigram/./src/store/list/mixins/event/admin/setFilters.js","webpack://festigram/./src/store/list/mixins/remote/uploadLineupArtists.js","webpack://festigram/./src/store/list/mixins/event/admin/place.js","webpack://festigram/./src/store/list/mixins/remote/festivalMessages.js","webpack://festigram/./src/store/list/mixins/remote/details/message.js","webpack://festigram/./src/store/list/mixins/subjects/checkins/message.js","webpack://festigram/./src/store/list/mixins/relations/interact.js","webpack://festigram/./src/store/list/mixins/remote/details/user.js","webpack://festigram/./src/store/list/mixins/relations/interactOptions.js","webpack://festigram/./src/store/list/mixins/relations/recent.js","webpack://festigram/./src/store/list/mixins/remote/details/flag.js","webpack://festigram/./src/store/list/mixins/attributes/pending.js","webpack://festigram/./src/components/layout/MainStage.jsx","webpack://festigram/./src/components/fields/MenuField.jsx","webpack://festigram/./src/components/ui/MenuItem.jsx","webpack://festigram/./src/components/ui/CollapsibleMenu.jsx","webpack://festigram/./src/components/fields/buttons/FortyButton.jsx","webpack://festigram/./src/components/fields/Icon.jsx","webpack://festigram/./src/components/ui/DisplayButton.jsx","webpack://festigram/./src/components/layout/WidgetContainer.jsx","webpack://festigram/./src/components/cardOverlays/fifty/FiftyButton.jsx","webpack://festigram/./src/components/widgets/FixedCard.jsx","webpack://festigram/./src/components/fields/ComposedNameField.jsx","webpack://festigram/./src/components/cards/SearchCard.jsx","webpack://festigram/./src/components/cards/SeriesCard.jsx","webpack://festigram/./src/components/fields/CircleNail.jsx","webpack://festigram/./src/components/fields/DateNail.jsx","webpack://festigram/./src/components/cards/DateCard.jsx","webpack://festigram/./src/components/fields/FestivalYearField.jsx","webpack://festigram/./src/components/fields/SeriesNameField.jsx","webpack://festigram/./src/components/fields/MainEventField.jsx","webpack://festigram/./src/components/fields/NameField.jsx","webpack://festigram/./src/components/fields/FestNail.jsx","webpack://festigram/./src/components/cards/FestivalCard.jsx","webpack://festigram/./src/components/cardOverlays/fifty/ReviewButton.jsx","webpack://festigram/./src/components/cardOverlays/fifty/ListenButton.jsx","webpack://festigram/./src/components/cardOverlays/ResearchOverlay.jsx","webpack://festigram/./src/components/cards/ArtistCard.jsx","webpack://festigram/./src/components/cards/NavCard.jsx","webpack://festigram/./src/components/layout/Launcher.jsx","webpack://festigram/./src/components/cards/DayCard.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/event/DaySelectBar.jsx","webpack://festigram/./src/components/fields/ArtistNameField.jsx","webpack://festigram/./src/components/fields/ScheduleSet.jsx","webpack://festigram/./src/components/fields/ScheduleLabel.jsx","webpack://festigram/./src/components/layout/ScheduleLadder.jsx","webpack://festigram/./src/store/action/event.js","webpack://festigram/./src/components/layout/DaySchedule.jsx","webpack://festigram/./src/components/ui/RatingStar.jsx","webpack://festigram/./src/components/fields/AverageRatingField.jsx","webpack://festigram/./src/components/fields/UserAvatarField.jsx","webpack://festigram/./src/components/ui/UIButton.jsx","webpack://festigram/./src/components/fields/MyRatingField.jsx","webpack://festigram/./src/components/modals/ReviewModal.jsx","webpack://festigram/./src/components/cardOverlays/fifty/DiscussButton.jsx","webpack://festigram/./src/components/cardOverlays/DiscussOverlay.jsx","webpack://festigram/./src/components/cards/UserCard.jsx","webpack://festigram/./src/components/cards/ActivityCard.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/place/StageSelector.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/day/DaySelector.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/date/DateSelector.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/festival/FestivalSelector.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/series/SeriesSelector.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/event/EventSelector.jsx","webpack://festigram/./src/components/layout/ScheduleThemer.jsx","webpack://festigram/./src/components/detailViewsPregame/profiles/ContentItem.js","webpack://festigram/./src/services/bites/user/account/profile/bucksLedger.js","webpack://festigram/./src/components/fields/IconText.jsx","webpack://festigram/./src/services/bites/user/account/profile/bucksForm.js","webpack://festigram/./src/components/fields/form/BuyAccessLine.jsx","webpack://festigram/./src/services/bites/user/account/profile/bucksSpend.js","webpack://festigram/./src/components/widgets/CloudinaryUpload.jsx","webpack://festigram/./src/services/bites/user/account/profile/picForm.js","webpack://festigram/./src/components/tracts/Tract.jsx","webpack://festigram/./src/components/fields/InlineTable.js","webpack://festigram/./src/components/layout/Account.jsx","webpack://festigram/./src/components/tracts/buy/BuyButtons.jsx","webpack://festigram/./src/components/ui/BannerButton.jsx","webpack://festigram/./src/components/widgets/canned/ResearchWidget.jsx","webpack://festigram/./src/components/modals/DiscussModal.jsx","webpack://festigram/./src/components/widgets/canned/ActivityWidget.jsx","webpack://festigram/./src/components/widgets/canned/ArtistSearchWidget.jsx","webpack://festigram/./src/components/layout/Research.jsx","webpack://festigram/./src/components/cards/CenterMenuCard.jsx","webpack://festigram/./src/components/panes/MessageCategoryPane.jsx","webpack://festigram/./src/services/messageArrayFunctions.js","webpack://festigram/./src/components/cards/SubjectReviewCard.jsx","webpack://festigram/./src/components/fields/CheckedInUsersField.jsx","webpack://festigram/./src/components/cards/PlaceCard.jsx","webpack://festigram/./src/components/fields/StageNameField.jsx","webpack://festigram/./src/components/cards/SetCard.jsx","webpack://festigram/./src/components/cardOverlays/AdminOverlay.jsx","webpack://festigram/./src/components/cards/FlagCard.jsx","webpack://festigram/./src/components/fields/buttons/QuarterButton.jsx","webpack://festigram/./src/components/fields/AttributionField.jsx","webpack://festigram/./src/components/ui/NavButton.jsx","webpack://festigram/./src/components/modals/ImageModal.jsx","webpack://festigram/./src/components/fields/CloudImageField.jsx","webpack://festigram/./src/components/cards/ImageCard.jsx","webpack://festigram/./src/components/cards/subjectCard.js","webpack://festigram/./src/components/widgets/LargeCardWidget.jsx","webpack://festigram/./src/components/widgets/canned/DiscussionWidget.jsx","webpack://festigram/./src/components/panes/DiscussionPane.jsx","webpack://festigram/./src/store/action/messageArrays.js","webpack://festigram/./src/components/layout/Messages.jsx","webpack://festigram/./src/components/layout/Admin.jsx","webpack://festigram/./src/components/layout/Discussion.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/artist/ArtistSelector.jsx","webpack://festigram/./src/components/modals/ArtistEntryModal.jsx","webpack://festigram/./src/components/modals/FlagModal.jsx","webpack://festigram/./src/components/modals/OptionSelectModal.jsx","webpack://festigram/./src/components/ui/FestivalTimePicker.jsx","webpack://festigram/./src/components/modals/SetScheduleModal.jsx","webpack://festigram/./src/components/modals/TextEntryModal.jsx","webpack://festigram/./src/components/modals/AccessModal.jsx","webpack://festigram/./src/components/modals/ModalBox.jsx","webpack://festigram/./src/components/fields/ScheduleNowBar.jsx","webpack://festigram/./src/components/gametime/Schedule.jsx","webpack://festigram/./src/components/gametime/NowPlaying.jsx","webpack://festigram/./src/components/gametime/Locations.jsx","webpack://festigram/./src/components/cards/ReviewCard.jsx","webpack://festigram/./src/components/cards/ReviewArrayCard.jsx","webpack://festigram/./src/components/ui/ToggleControl.jsx","webpack://festigram/./src/components/ui/canned/CheckinToggle.jsx","webpack://festigram/./src/components/widgets/canned/ReviewArraysWidget.jsx","webpack://festigram/./src/components/gametime/SetDetail.jsx","webpack://festigram/./src/components/fields/SearchField.jsx","webpack://festigram/./src/components/gametime/GametimeSearchBar.jsx","webpack://festigram/./src/components/gametime/GametimeBanner.jsx","webpack://festigram/./src/components/gametime/Gametime.jsx","webpack://festigram/./src/components/ui/StageTitle.jsx","webpack://festigram/./src/components/ui/LiveButton.jsx","webpack://festigram/./src/components/ui/SearchExpanse.jsx","webpack://festigram/./src/components/ui/LauncherBanner.jsx","webpack://festigram/./src/components/layout/CardContainer.jsx","webpack://festigram/./src/components/layout/ConfirmLogout.jsx","webpack://festigram/./src/components/cardViews/SeriesView.jsx","webpack://festigram/./src/components/cardViews/UserView.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/series/SeriesDescriptionField.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/series/SeriesWebsiteField.jsx","webpack://festigram/./src/components/detailViewsPregame/SeriesDetail.jsx","webpack://festigram/./src/components/widgets/canned/LineupWidget.jsx","webpack://festigram/./src/components/ui/canned/IntentToggle.jsx","webpack://festigram/./src/components/detailViewsPregame/FestivalDetail.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/date/DateVenueField.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/date/DateBaseField.jsx","webpack://festigram/./src/components/detailViewsPregame/DateDetail.jsx","webpack://festigram/./src/components/detailViewsPregame/DayDetail.jsx","webpack://festigram/./src/components/detailViewsPregame/SetDetail.jsx","webpack://festigram/./src/components/cards/SpotifyCard.jsx","webpack://festigram/./src/components/widgets/canned/WikiWidget.jsx","webpack://festigram/./src/components/widgets/Admin.jsx","webpack://festigram/./src/components/detailViewsPregame/ArtistDetail.jsx","webpack://festigram/./src/components/detailViewsPregame/profiles/ProfileHighlights.js","webpack://festigram/./src/components/detailViewsPregame/profiles/Profile.js","webpack://festigram/./src/components/fields/buttons/BarButton.jsx","webpack://festigram/./src/components/ui/InteractionBar.jsx","webpack://festigram/./src/services/bites.js","webpack://festigram/./src/services/bites/user/events/nextFestival.js","webpack://festigram/./src/services/bites/user/favorites/favArtists.js","webpack://festigram/./src/services/bites/user/counts/mostDiscussed.js","webpack://festigram/./src/components/detailViewsPregame/UserDetail.js","webpack://festigram/./src/components/createFestivals/series/createSeries.jsx","webpack://festigram/./src/components/createFestivals/festivals/createFestival.jsx","webpack://festigram/./src/components/createFestivals/dates/createDate.jsx","webpack://festigram/./src/components/createFestivals/venues/createVenue.jsx","webpack://festigram/./src/components/createFestivals/lineups/AddSingleArtist.jsx","webpack://festigram/./src/components/createFestivals/sets/AssignDays.jsx","webpack://festigram/./src/components/createFestivals/sets/AssignStages.jsx","webpack://festigram/./src/components/createFestivals/sets/AssignTimes.jsx","webpack://festigram/./src/components/createFestivals/festivals/SetStages.jsx","webpack://festigram/./src/components/createFestivals/lineups/SetLineup.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/artist/ArtistSpelling.jsx","webpack://festigram/./src/components/detailViewsPregame/fields/artist/ArtistMerge.jsx","webpack://festigram/./src/components/createFestivals/lineups/FixArtist.jsx","webpack://festigram/./src/components/layout/App.jsx","webpack://festigram/./src/index.jsx"],"names":["module","exports","a","n","Array","prototype","slice","call","ticky","fn","args","ctx","apply","atoa","debounce","thing","options","opts","evt","undefined","on","type","push","once","_once","off","c","arguments","length","et","splice","indexOf","emit","emitterSnapshot","shift","this","throws","forEach","listen","async","customEvent","eventmap","doc","g","document","addEvent","el","capturing","addEventListener","removeEvent","removeEventListener","hardCache","unwrap","i","item","element","find","wrapper","attachEvent","originalEvent","e","event","target","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","which","keyCode","wrapperFactory","wrap","listener","detachEvent","add","remove","fabricate","model","detail","createEvent","initEvent","createEventObject","makeClassicEvent","dispatchEvent","fireEvent","eventname","ron","test","NativeCustomEvent","CustomEvent","p","foo","useNative","params","initCustomEvent","bubbles","cancelable","Boolean","t","r","s","u","o","f","h","d","name","weekdays","split","months","$","String","join","l","z","utcOffset","Math","abs","floor","m","date","year","month","clone","ceil","M","y","w","D","ms","Q","toLowerCase","replace","S","v","locale","$L","utc","$u","x","$x","$offset","parse","$d","Date","NaN","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","extend","$i","isDayjs","en","Ls","isBetween","future","past","yy","fromToBase","relativeTime","thresholds","rounding","to","from","toNow","fromNow","day","hour","minute","second","timeZoneName","Intl","DateTimeFormat","hour12","timeZone","formatToParts","value","parseInt","tz","toLocaleString","$timezone","offsetName","guess","max","resolvedOptions","setDefault","local","getUTCFullYear","getUTCMonth","getUTCDate","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","$localOffset","isUTC","cache","lookupClass","className","cached","lastIndex","RegExp","current","rm","trim","emitter","crossvent","classes","documentElement","touchy","op","navigator","pointerEnabled","mouseup","mousedown","mousemove","msPointerEnabled","whichMouseButton","touches","buttons","button","getOffset","rect","getBoundingClientRect","left","getScroll","top","scrollProp","offsetProp","clientHeight","body","getElementBehindPoint","point","state","elementFromPoint","never","always","getRectWidth","width","right","getRectHeight","height","bottom","getParent","parentNode","isInput","tagName","isEditable","contentEditable","nextEl","nextElementSibling","sibling","nextSibling","nodeType","manually","getCoord","coord","host","targetTouches","changedTouches","getEventHost","missMap","pageX","pageY","initialContainers","_mirror","_source","_item","_offsetX","_offsetY","_moveX","_moveY","_initialSibling","_currentSibling","_copy","_renderTimer","len","isArray","_grabbed","_lastDropTarget","moves","accepts","invalid","invalidTarget","containers","isContainer","copy","copySortSource","revertOnSpill","removeOnSpill","direction","ignoreInputTextSelection","mirrorContainer","drake","start","manualStart","end","cancel","destroy","canMove","dragging","spillOver","spillOut","events","grab","release","eventualMovements","startBecauseMouseMoved","movements","preventGrabbed","clientX","clientY","metaKey","ctrlKey","context","canStart","focus","slideFactorX","slideFactorY","grabbed","offset","renderMirrorImage","drag","handle","source","isCopy","cloneNode","drop","ungrab","dropTarget","findDropTarget","parent","removeChild","isInitialPlacement","cleanup","revert","reverts","initial","insertBefore","removeMirrorImage","clearTimeout","elementBehindCursor","accepted","immediate","getImmediateChild","reference","getReference","style","changed","moved","appendChild","horizontal","resolve","inside","children","outside","after","container","Error","code","1","_dereq_","global","scheduleDrain","draining","Mutation","MutationObserver","WebKitMutationObserver","called","observer","nextTick","createTextNode","observe","characterData","data","setImmediate","MessageChannel","createElement","scriptEl","onreadystatechange","setTimeout","channel","port1","onmessage","port2","postMessage","queue","oldQueue","task","self","window","2","INTERNAL","handlers","REJECTED","FULFILLED","PENDING","Promise","resolver","TypeError","outcome","safelyResolveThenable","QueueItem","promise","onFulfilled","onRejected","callFulfilled","otherCallFulfilled","callRejected","otherCallRejected","func","reject","getThen","obj","then","thenable","onError","onSuccess","result","tryCatch","status","out","constructor","error","reason","all","iterable","Object","values","resolved","allResolver","outValue","race","response","3","4","_typeof","Symbol","iterator","idb","indexedDB","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","getIDB","createBlob","parts","properties","Blob","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","Promise$1","executeCallback","callback","executeTwoCallbacks","errorCallback","normalizeKey","key","console","warn","getCallback","supportsBlobs","dbContexts","_checkBlobSupport","txn","transaction","blob","objectStore","put","onabort","oncomplete","matchedChrome","userAgent","matchedEdge","_checkBlobSupportWithoutCaching","_deferReadiness","dbInfo","dbContext","deferredOperation","deferredOperations","dbReady","_advanceReadiness","pop","_rejectReadiness","err","_getConnection","upgradeNeeded","forages","db","close","dbArgs","version","openreq","open","onupgradeneeded","createObjectStore","storeName","oldVersion","ex","newVersion","onerror","onsuccess","_getOriginalConnection","_getUpgradedConnection","_isUpgradeNeeded","defaultVersion","isNewStore","objectStoreNames","contains","isDowngrade","isUpgrade","incVersion","_decodeBlob","encodedBlob","bin","buf","ArrayBuffer","arr","Uint8Array","charCodeAt","_binStringToArrayBuffer","atob","_isEncodedBlob","__local_forage_encoded_blob","_fullyReady","_initReady","_dbInfo","createTransaction","mode","retries","tx","forage","_tryReconnect","asyncStorage","_driver","_initStorage","ready","initPromises","ignoreErrors","j","_defaultConfig","k","_support","isSafari","openDatabase","platform","hasFetch","fetch","IDBKeyRange","isIndexedDBValid","iterate","req","openCursor","iterationNumber","cursor","getItem","setItem","blobSupport","reader","FileReader","onloadend","base64","btoa","readAsBinaryString","store","removeItem","clear","count","advanced","openKeyCursor","advance","keys","dropInstance","currentConfig","config","isCurrentDb","dbPromise","deleteObjectStore","_forage2","deleteDatabase","onblocked","BASE_CHARS","BLOB_TYPE_PREFIX_REGEX","SERIALIZED_MARKER_LENGTH","TYPE_SERIALIZED_MARKER_LENGTH","toString$1","stringToBuffer","serializedString","encoded1","encoded2","encoded3","encoded4","bufferLength","buffer","bytes","bufferToString","base64String","localforageSerializer","serialize","valueType","marker","fileReader","onload","str","SERIALIZED_MARKER","readAsArrayBuffer","JSON","stringify","deserialize","blobType","matcher","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","createDbTable","executeSql","tryExecuteSql","sqlStatement","SYNTAX_ERR","results","rows","_setItem","retriesLeft","originalValue","serializer","sqlError","QUOTA_ERR","getAllStoreNames","storeNames","webSQLStorage","dbInfoPromise","description","size","operationInfo","dropTable","operations","_getKeyPrefix","defaultConfig","keyPrefix","_isLocalStorageUsable","localStorage","checkIfLocalStorageThrows","localStorageWrapper","isLocalStorageValid","keyPrefixLength","itemKey","includes","array","searchElement","isNaN","arg","DefinedDrivers","DriverSupport","DefaultDrivers","INDEXEDDB","WEBSQL","LOCALSTORAGE","DefaultDriverOrder","OptionalDriverMethods","LibraryMethods","concat","DefaultConfig","driver","callWhenReady","localForageInstance","libraryMethod","_args","_key","hasOwnProperty","localforage_js","LocalForage","driverTypeKey","instance","Constructor","_classCallCheck","driverName","defineDriver","_config","_driverSet","_initDriver","_ready","_wrapLibraryMethodsWithReady","setDriver","driverObject","complianceError","driverMethods","driverMethodName","methodNotImplementedFactory","methodName","_i","_len","optionalDriverMethod","configureMissingMethods","setDriverSupport","support","info","getDriver","getDriverPromise","getSerializer","serializerPromise","drivers","supportedDrivers","_getSupportedDrivers","setDriverToConfig","extendSelfWithDriver","_extend","oldDriverSetDone","currentDriverIndex","driverPromiseLoop","initDriver","supports","libraryMethodsAndProperties","createInstance","DataView","getNative","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","entries","index","entry","has","baseCreate","baseLodash","LazyWrapper","__wrapped__","__actions__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","LodashWrapper","chainAll","__chain__","__index__","__values__","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","Set","setCacheAdd","setCacheHas","SetCache","__data__","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","WeakMap","thisArg","setter","iteratee","accumulator","predicate","resIndex","baseIndexOf","comparator","baseTimes","isArguments","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","initAccum","asciiSize","baseProperty","string","baseAssignValue","eq","object","objValue","baseEach","collection","copyObject","keysIn","defineProperty","arrayEach","assignValue","baseAssign","baseAssignIn","cloneBuffer","copyArray","copySymbols","copySymbolsIn","getAllKeys","getAllKeysIn","getTag","initCloneArray","initCloneByTag","initCloneObject","isMap","isObject","isSet","cloneableTags","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","tag","isFunc","stacked","subValue","props","objectCreate","create","proto","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","isCommon","valuesLength","outer","computed","valuesIndex","baseForOwn","createBaseEach","isSymbol","fromIndex","fromRight","arrayPush","isFlattenable","baseFlatten","depth","isStrict","baseFor","createBaseFor","castPath","toKey","path","keysFunc","symbolsFunc","getRawTag","objectToString","symToStringTag","toStringTag","other","baseFindIndex","baseIsNaN","strictIndexOf","last","baseGetTag","isObjectLike","baseIsEqualDeep","baseIsEqual","equalArrays","equalByTag","equalObjects","objectTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","isFunction","isMasked","toSource","reIsHostCtor","funcProto","Function","objectProto","funcToString","reIsNative","isLength","typedArrayTags","baseMatches","baseMatchesProperty","identity","property","isPrototype","nativeKeys","nativeKeysIn","isProto","isArrayLike","baseIsMatch","getMatchData","matchesStrictComparable","hasIn","isKey","isStrictComparable","baseSum","baseGet","eachFunc","overRest","setToString","nested","newValue","metaMap","baseSetData","constant","baseSetToString","symbolProto","symbolToString","baseToString","trimmedEndIndex","reTrimStart","createSet","setToArray","seen","seenIndex","stringToPath","baseSlice","arrayBuffer","byteLength","root","freeExports","freeModule","Buffer","allocUnsafe","cloneArrayBuffer","dataView","byteOffset","reFlags","regexp","exec","symbolValueOf","symbol","typedArray","nativeMax","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","holdersIndex","rightIndex","rightLength","isNew","getSymbols","getSymbolsIn","coreJsData","placeholder","arrayAggregator","baseAggregator","baseIteratee","initializer","baseRest","isIterateeCall","assigner","sources","guard","createCtor","isBind","Ctor","thisBinding","createHybrid","createRecurry","getHolder","replaceHolders","arity","findIndexFunc","composeArgs","composeArgsRight","countHolders","reorder","partialsRight","holdersRight","argPos","ary","isAry","isBindKey","isFlip","holdersCount","newHolders","reverse","isLaziable","setData","setWrapToString","wrapFunc","isCurry","newData","noop","baseToPairs","mapToArray","setToPairs","createBind","createCurry","createPartial","getData","mergeData","toInteger","isPlainObject","arraySome","isPartial","arrLength","othLength","arrStacked","othStacked","arrValue","othValue","compared","othIndex","message","convert","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","flatten","freeGlobal","baseGetAllKeys","realNames","otherFunc","isKeyable","map","baseIsNative","getValue","getPrototype","overArg","getPrototypeOf","nativeObjectToString","isOwn","unmasked","arrayFilter","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ctorString","reWrapDetails","reSplitDetails","hasFunc","reHasUnicode","nativeCreate","input","cloneDataView","cloneRegExp","cloneSymbol","cloneTypedArray","reWrapComment","details","spreadableSymbol","isConcatSpreadable","reIsUint","reIsDeepProp","reIsPlainProp","getFuncName","lodash","funcName","uid","maskSrcKey","IE_PROTO","assocIndexOf","getMapData","memoize","nativeMin","srcBitmask","newBitmask","isCombo","freeProcess","process","nodeUtil","types","require","binding","transform","otherArgs","indexes","oldArray","freeSelf","shortOut","getWrapDetails","insertWrapDetails","updateWrapDetails","nativeNow","now","lastCalled","stamp","remaining","pairs","LARGE_ARRAY_SIZE","hasUnicode","unicodeSize","asciiToArray","unicodeToArray","memoizeCapped","rePropName","reEscapeChar","number","quote","subString","reWhitespace","charAt","rsAstral","rsCombo","rsFitz","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsSeq","rsSymbol","reUnicode","wrapFlags","pair","sort","createAssigner","assign","CLONE_DEEP_FLAG","createAggregator","countBy","createWrap","curry","baseDifference","isArrayLikeObject","difference","arrayEvery","baseEvery","baseFilter","createFind","castFunction","defaultValue","baseHasIn","hasPath","isString","baseInvoke","invoke","baseIsArguments","stubFalse","baseIsMap","nodeIsMap","objectCtorString","baseIsRegExp","nodeIsRegExp","isRegExp","baseIsSet","nodeIsSet","baseIsTypedArray","nodeIsTypedArray","nativeJoin","separator","arrayLikeKeys","baseKeys","baseKeysIn","baseMap","baseExtremum","baseGt","baseMean","memoized","Cache","baseLt","baseUnset","customOmitClone","flatRest","omit","paths","basePropertyDeep","arrayReduce","baseReduce","baseSet","baseSome","toNumber","toFinite","remainder","baseTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","isBinary","toPairs","createToPairs","castSlice","stringSize","stringToArray","omission","strLength","strSymbols","search","newEnd","lastIndexOf","baseUniq","unionBy","arrays","baseValues","wrapperClone","Vnode","render","schedule","subscriptions","rendering","pending","sync","redraw","mount","component","view","buildPathname","parsePathname","compileTemplate","sentinel","$window","mountRedraw","fireAsync","setPath","title","history","replaceState","route","prefix","pushState","location","href","attrs","currentPath","lastUpdate","currentResolver","SKIP","defaultRoute","routes","onremove","compiled","SyntaxError","check","callAsync","scheduled","defaultData","some","ReferenceError","resolveRoute","hash","pathname","decodeURIComponent","fail","loop","payload","matchedRoute","localComp","update","comp","onmatch","onbeforeupdate","oncreate","vnode","Link","onclick","selector","oninit","onupdate","onbeforeremove","child","disabled","currentTarget","handleEvent","defaultPrevented","shiftKey","altKey","param","hyperscript","trust","fragment","request","jsonp","parseQueryString","buildQueryString","PromisePolyfill","requestAnimationFrame","template","queryIndex","hashIndex","queryEnd","pathEnd","query","variadic","encodeURIComponent","newQueryIndex","newHashIndex","newQueryEnd","newPathEnd","querystring","templateData","templateKeys","extra","url","executor","resolvers","rejectors","resolveCurrent","handler","rejectCurrent","_instance","list","shouldAbsorb","execute","retry","executeOnce","bind","runs","run","onRejection","resolveNext","rejectNext","next","catch","finally","total","consume","destructure","counters","levels","level","nextLevel","isNumber","desc","getOwnPropertyDescriptor","hyperscriptVnode","normalizeChildren","selectorParser","selectorCache","hasOwn","isEmpty","compileSelector","id","attrValue","execSelector","hasClass","class","newAttrs","text","currentRedraw","$doc","nameSpace","svg","math","getNameSpace","xmlns","checkState","original","callHook","activeElement","createNodes","vnodes","hooks","ns","createNode","initLifecycle","dom","insertNode","createText","createHTML","createDocumentFragment","firstChild","domSize","childNodes","createFragment","is","createElementNS","setAttr","setAttrs","maybeSetContentEditable","textContent","selectedIndex","normalized","setLateSelectAttrs","$$reentrantLock$$","normalize","initComponent","createComponent","possibleParents","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","temp","innerHTML","updateNodes","old","removeNodes","isOldKeyed","isKeyed","oldStart","oe","ve","topSibling","oldEnd","updateNode","getNextSibling","moveNodes","lisIndices","originalNextSibling","vnodesLength","oldIndices","li","pos","matched","getKeyMap","oldIndex","il","lisTemp","makeLisIndices","commonLength","removeNode","oldTag","force","shouldNotUpdate","updateLifecycle","nodeValue","updateText","removeHTML","updateHTML","updateFragment","val","removeAttr","updateAttrs","updateElement","updateComponent","frag","moveChildToFrag","contenteditable","content","stateResult","attrsResult","mask","reallyRemove","isLifecycleMethod","attr","isFormAttribute","updateEvent","setAttributeNS","updateStyle","hasPropertyKey","setAttribute","removeAttribute","nsLastIndex","uppercaseRegex","capital","cssText","setProperty","removeProperty","EventDict","_","ev","active","namespace","namespaceURI","prevRedraw","html","node","oncompletion","callbackCount","PromiseProxy","makeRequest","factory","background","complete","hasHeader","headers","__proto__","replacedAbort","method","toUpperCase","assumeJSON","FormData","responseType","extract","xhr","XMLHttpRequest","aborted","abort","user","password","setRequestHeader","withCredentials","timeout","readyState","success","responseText","send","callbackName","random","script","src","callbackKey","_match","pattern","insertions","matchIndexes","iPattern","iText","maxInsertions","_score","entryResults","patternsMinInsertions","patternsMinMatchIndex","fieldResults","patterns","minInsertions","minMatchIndex","_search","fields","_locals","entryMatch","field","fieldString","_getFieldString","fieldMatch","res","caseSensitive","_find","fieldMatching","_private","score","smartSearch","defaultOptions","option","_buildOptions","newArray","elem","sanitizeArray","b","tick","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","getter","__esModule","definition","enumerable","globalThis","prop","nmd","scriptUrl","importScripts","currentScript","scripts","getElementsByTagName","setPrototypeOf","throw","done","label","sent","trys","ops","return","default","I","configurable","writable","B","C","F","U","V","G","X","R","J","W","L","inspectSource","E","T","Y","N","K","O","copyright","P","q","ee","te","ne","ie","facade","re","ce","enforce","getterFor","se","unsafe","noTargetGet","ae","ue","le","de","ge","fe","Ie","pe","he","ye","be","me","Be","Ce","Fe","Ue","getOwnPropertyNames","Se","Ze","Ve","Ge","Xe","xe","we","Re","Ae","NATIVE","POLYFILL","Qe","Je","We","stat","forced","sham","ke","He","Le","Ee","Te","withoutSetter","Ye","Ne","Ke","Oe","ze","je","_e","startsWith","De","Pe","Me","qe","$e","tt","nt","it","rt","ot","ct","st","at","ut","lt","dt","versions","gt","v8","ft","It","pt","ht","yt","bt","mt","vt","Bt","Ct","Ft","callee","Ut","St","Zt","Vt","defineProperties","Gt","Xt","wt","xt","At","domain","ActiveXObject","write","parentWindow","display","contentWindow","Rt","Qt","Jt","Wt","kt","Ht","Lt","Et","Tt","Yt","Nt","Kt","Ot","zt","jt","_t","Dt","Pt","Mt","qt","$t","tn","nn","rn","cn","sn","an","un","ln","QObject","dn","findChild","gn","In","pn","hn","vn","yn","bn","mn","for","keyFor","useSetter","useSimple","Bn","Cn","Fn","Un","Sn","Zn","Vn","Gn","Xn","Reflect","wn","xn","An","Rn","Qn","codeAt","Jn","Wn","kn","Hn","Ln","En","Tn","IteratorPrototype","BUGGY_SAFARI_ITERATORS","Yn","Nn","Kn","On","zn","jn","_n","Dn","Pn","Mn","qn","$n","ei","ti","ni","ii","ri","oi","ci","si","ai","ui","di","gi","fi","Ii","pi","hi","yi","bi","mi","vi","Bi","Ci","Fi","isPrototypeOf","Ui","Si","Zi","opera","Vi","Ai","Ri","Gi","Qi","Ji","xi","Wi","ki","Hi","Li","Ei","Ti","Yi","Ni","ACCESSORS","Ki","isExtensible","preventExtensions","Oi","objectID","weakData","REQUIRED","fastKey","getWeakData","onFreeze","zi","stopped","ji","that","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","Di","Pi","Mi","qi","er","getConstructor","setStrong","first","previous","removed","delete","kind","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","nr","ir","rr","Arguments","or","cr","sr","ar","ur","lr","dr","gr","fr","Ir","pr","hr","yr","_state","_handled","_value","_deferreds","Fr","br","_immediateFn","vr","mr","Br","_unhandledRejectionFn","Cr","allSettled","Ur","fatal","RangeError","fromCharCode","subarray","TextEncoder","TextDecoder","encode","stream","URL","createObjectURL","revokeObjectURL","decode","construct","Proxy","listeners","Event","signal","__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL","log","Request","AbortController","AbortSignal","Sr","locked","addToLocked","unshift","isLocked","lock","unlock","getInstance","Zr","__awaiter","__generator","acquiredIatSet","acquireLock","releaseLock","releaseLock__private__","waitForSomethingToChange","refreshLockWhileAcquired","waiters","iat","timeoutKey","timeAcquired","timeRefreshed","lockCorrector","removeFromWaiting","addToWaiting","filter","notifyWaiters","Vr","timeoutInSeconds","Gr","Xr","wr","error_description","fromPayload","xr","appState","Ar","Rr","popup","Qr","origin","Jr","screenX","innerWidth","screenY","innerHeight","Wr","crypto","msCrypto","kr","subtle","webkitSubtle","Hr","getRandomValues","Lr","Er","Tr","digest","Yr","Nr","Kr","ok","statusText","responseURL","json","getAllResponseHeaders","credentials","Or","zr","auth","audience","scope","fetchUrl","fetchOptions","jr","_r","Dr","Pr","Mr","baseUrl","auth0Client","qr","$r","client_id","fromKey","eo","expires_in","expiresAt","decodedToken","claims","exp","reduce","no","save","readJson","refresh_token","stripData","writeJson","io","enclosedCache","ro","storage","daysUntilExpire","oo","co","ao","__assign","expires","setMilliseconds","secure","sameSite","cookie","getAll","uo","lo","go","fo","protocol","Io","po","sessionStorage","vo","Bo","ho","Worker","Co","Fo","Uo","memory","localstorage","So","Vo","cacheLocation","cookieStorage","legacySameSiteCookie","sessionCheckExpiryDays","useCookiesForTransactions","transactionManager","domainUrl","tokenIssuer","issuer","defaultScope","advancedOptions","useRefreshTokens","worker","customOptions","authorizeTimeoutInSeconds","leeway","max_age","redirect_uri","_url","_getParams","response_type","response_mode","nonce","code_challenge","code_challenge_method","_authorizeUrl","_verifyIdToken","id_token","__raw","encoded","header","signature","iss","sub","alg","aud","azp","auth_time","setUTCSeconds","nbf","organizationId","org_id","so","_parseNumber","buildAuthorizeUrl","organization","code_verifier","loginWithPopup","grant_type","getUser","getIdTokenClaims","loginWithRedirect","handleRedirectCallback","checkSession","getTokenSilently","ignoreCache","_getTokenSilently","access_token","_getTokenUsingRefreshToken","_getTokenFromIFrame","getTokenWithPopup","isAuthenticated","buildLogoutUrl","federated","logout","localOnly","prompt","alwaysAccessibleSubjects","gttFields","subjectBought","subjectObject","gtt","subjectType","full","gttField","subject","fetchWithTimeout","resource","controller","localforage","headerBase","AUTH0_DATA","AUTH_CONFIG","tokenFunction","token","userIdPromiseCache","gttCache","accessTokenPromiseCache","gttPromiseCache","decodedPromiseCache","userData","lastUserData","auth0","clean","swCacheClear","cacheWhitelist","caches","cacheName","authLoad","AUTH_DATA","mockery","SCHEME","login","prev","LOGINURL","handleAuthentication","getFtUserId","getRoles","roles","userId","userRoles","getValidToken","userIdFromToken","recore","coreCheck","cacheCleaner","cleanCaches","skipRoute","getAccessToken","getGttRawRemote","authResult","fetchT","Headers","Authorization","getGttRawLocal","getGttRaw","getGttDecoded","jwt_decode","getBothTokens","access","auth00","DOMAIN","CLIENTID","CALLBACKURL","AUDIENCE","hrcb","redirect","userDataSupplied","localUser","ccp","returnTo","authd","raw","hasGttAccess","setLocalList","modelName","newList","localItem","Auth","authOnly","coreData","timestamp","archive","coreChecked","updateModel","queryString","simResponse","updated","reqUrl","setModel","resultChain","remoteData","remoteResult","trace","localChain","localData","localResult","oldData","loadModel","defaultMeta","calcTime","timestamps","Infinity","ids","calcMeta","metaTemp","moment","oldest","newest","lowest","highest","formBase","form","DataList","opt","fieldName","meta","core","remoteInterval","lastRemoteLoad","lastRemoteCheck","baseEndpoint","baseline","clearCaches","cacheOnly","setMeta","getMeta","getMany","replaceList","newMeta","dataChange","cv","deleted","backfilling","backfillList","localEntry","skipRedraw","backfillQ","dataCurrent","remoteCheck","where","getList","acquireListUpdate","upd","supCache","supCachePromises","acquireListSupplement","maxAge","updPromise","lbCache","lbCachePromises","lbfilter","provide","maintainList","filterObject","ArtistList","ImageList","idField","SeriesList","FestivalList","nameField","superField","DateList","DayList","SetList","LineupList","VenueList","OrganizerList","PlaceList","ArtistPriorityList","StagePriorityList","StageLayoutList","PlaceTypeList","ArtistAliasList","ParentGenreList","GenreList","ArtistGenreList","MessageTypeList","SubjectTypeList","MessageList","MessagesMonitorList","IntentionList","InteractionList","ProfileList","FlagList","getTitle","getSrc","getAttributionAr","sourceUrl","author","license","licenseUrl","getName","forArtist","artistId","MESSAGE","SERIES","FESTIVAL","DATE","DAY","SET","VENUE","PLACE","ARTIST","USER","subjectDataField","baseMessage","subjects","profiles","fromuser","touser","subjectName","getDescendants","baseIds","getFiltered","getPic","getLevel","peakLevel","troughLevel","timestampCache","timeStampSort","cachedValue","am","retVal","futureComboCache","artistSorter","Messages","Artists","Lineups","ArtistPriorities","Festivals","sortArray","invertArray","scoreObject","messages","artists","lineups","artistPriorities","festivals","friendActivity","followedActivity","siteActivity","messageCount","log10","peakPriority","band","priority","peakScore","festivalIds","festival","futureFestivalIds","artistScore","scoreFunction","scoreMethod","festivalIdsByEndTimeSort","getEndMoment","bm","getSubjectObject","getStartMoment","ended","soon","daysAhead","dayId","minutesAhead","timezone","dateBaseCache","sortNamesWithIdsByName","aName","aId","bName","bId","localeCompare","getPartName","getEventNameArray","getSuperEventNameArray","getEventName","getEventNames","getEventNamesWithIds","superId","superList","getSuperId","subList","getSubIds","sellAccess","decoded","bought","endMoment","nonsellable","sellable","sid","getPlaceName","getPlaceNames","getPlaceNamesWithIds","getTimezone","isEvent","messageEventConnection","researchApplicable","isSameOrBefore","optFest","festivalId","contentFestId","subjectActivity","baseMessages","discussionMessages","baseSubject","msg","baseSubjectType","discussionOf","aboutType","sType","ofType","mType","messageType","byAuthor","ofAndAbout","ofAboutAndBy","aboutSets","gameTimeRatings","setAverageRating","setId","filtered","lastCheckin","pv","recentCommentsAll","recentDiscussions","viewer","recentDiscussionAll","recentDiscussionEvent","eventConnectedFilter","centerObjects","discussObj","virginSubject","forSet","artistIds","skipped","saved","hidden","recentRatings","recentReviews","forSubject","forDayAndStage","stageId","stage","eventConnectedCache","patternMatch","peakArtistPriLevelCache","unread","messageId","markRead","clearIntent","deletions","intentIds","setIntent","archived","updateInstance","reviewArrayFromMessage","createBlackout","baseMoment","blackoutStart","blackoutEnd","testMoment","blackoutClearFilter","blackouts","ra","blackout","mergeArray","preMerge","commentField","commentIdField","ratingField","ratingIdField","timestampField","rating","comment","ratingId","commentId","reviewArrays","messageArray","usedRatings","ratingArrays","commentPreMerges","commentArray","possibleRatings","ratingArray","sameSubject","sub1","sub2","dayBlackout","withinDay","withinYearStart","withinYearEnd","withinYear","allBlackouts","raa","recentBlackouts","createPreMergeArrays","FLAG","IMAGE","FESTIGRAM","COMMENT","RATING","CHECKIN","DISCUSSION","FOLLOW","BLOCK","subTypes","artistSets","secondarySubjectObjects","theSet","getRating","getComment","eventActive","eventEnded","eventFuture","subjectData","getPromise","getLocalPromise","getManySingleType","subjectObjectAr","suba","typea","ratingBy","ratingObject","goldRating","color","relatedSubjects","greenRating","avg","primaryRatings","secondaryRatings","allRatings","blackRating","commentBy","checkIn","checkedIn","subjectObjectSpecsUser","eventType","assocDate","dates","assocDay","days","assocSet","sets","subjectCheckinsFilter","checkin","feelingClass","strength","feeling","imagePreset","connectedData","primaryField","lowerDates","getSubDateIds","higherDates","getDateId","allDates","lowerFestivals","getSubFestivalIds","higherFestivals","getFestivalId","allFestivals","lowerDays","getSubDayIds","higherDays","getDayId","allDays","dataField","getSubSetIds","subEvent","main","possibleSub","subs","subEvents","df","subType","peerEvents","getPeerIds","places","users","directMessages","userIdsActive","getReviews","allPrimaryReviewMessages","secondaryReviewSubjects","secondaryReviewMessages","reviews","myReviews","friendReviews","getDetail","subStrings","getTimeString","subjectRating","reviewAllowed","checkinAllowed","checkins","alreadyChecked","senderPurge","senderId","merge","id1","id2","subjectDetails","lastLoad","lastPromise","hostname","stash","getWikiId","foreign","wiki","pages","artistName","matches","possibles","choice","getWikiPromise","wikiExtract","wikiPage","wikiGraphStart","wikiGraphEnd","wikiGraph","wikiLink","getWiki","responseEl","batchCreate","batchDelete","batchUpdate","lastValue","totalize","row","bucks","buyInProgress","wouldend","updateTimeElapsed","buyBucks","endCache","bucksCache","accessCache","QualifierValue","qualifierValue","delimiter","hasValue","addValue","Qualifier","FlagQualifier","flagType","flagValue","setDelimiter","super","Action","qualifiers","flags","actionTag","prepareQualifiers","flag","mapToSortedArray","qualifier","qualifierKey","BackgroundColor","addQualifier","prepareColor","RawAction","Transformation","actions","action","actionToAdd","borderAction","addAction","reshapeAction","resizeAction","quality","roundCornersAction","overlayAction","underlayAction","setLayerType","variableAction","conditionAction","effectAction","rotateAction","namedTransformation","deliveryAction","flagQualifier","flagToAdd","customFunction","ImageTransformation","userProvidedConfig","validKeys","ALLOWED_URL_CONFIG","CONDITIONAL_OPERATORS","URLConfig","userURLConfig","urlConfig","filterOutNonSupportedKeys","cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","forceVersion","CloudinaryTransformable","publicID","cloudConfig","setPublicID","cloudName","apiKey","apiSecret","authToken","newType","storageType","newSuffix","suffix","assetType","createCloudinaryURL","transformation","privateCDN","getUrlPrefix","handleAssetType","handleStorageType","transformationString","shouldForceVersion","publicIDContainsVersion","isUrl","isFileName","getUrlVersion","encodeURI","border","reshape","resize","roundCorners","overlay","addVariable","conditionalAction","conditional","effect","adjust","rotate","delivery","backgroundColor","psdTools","addFlag","addTransformation","underlay","CloudinaryImage","VideoTransformation","CloudinaryVideo","transcode","videoEdit","RoundCorners","byRadius","radius","toFloatAsString","parseFloat","AspectRatioQualifierValue","animated","animatedWebP","clip","clipEvenOdd","ignoreInitialAspectRatio","lossy","noOverflow","preserveTransparency","progressive","regionRelative","relative","tiled","cropType","cropWidth","cropHeight","ratio","gravity","backgroundQualifier","GravityQualifier","ScaleAction","ThumbResizeAction","ResizeFillAction","Resize","imaggaScale","imaggaCrop","crop","fill","scale","minimumPad","fit","pad","limitFit","thumbnail","limitFill","minimumFit","limitPad","fillPad","Border","borderType","borderWidth","borderColor","_roundCorners","solid","BlurAction","_strength","blurRegion","_region","regionType","SimpleEffectAction","effectType","qualifierEffect","createEffectQualifier","LeveledEffectAction","AccelerationEffectAction","setLevel","LoopEffectAction","CartoonifyEffect","effectName","cartoonifyStrength","lineStrength","colorReduction","EffectOutline","_mode","_width","lvl","_blurLevel","MakeTransparentEffectAction","VectorizeEffectAction","num","_numOfColors","_detailsLevel","_despeckleLevel","_cornersLevel","_paths","SimulateColorBlindEffectAction","strToAppend","cond","setQualifier","EffectActionWithLevel","AssistColorBlindEffectAction","GradientFadeEffectAction","_type","FadeoutEffectAction","ColorizeEffectAction","ShadowEffectAction","StyleTransfer","imageSource","effectStrength","bool","preserve","PRES","STRENGTH","styleEffect","sourceOpenString","getOpenSourceString","imgTx","getTransformation","DitherEffectAction","ditherType","DeshakeEffectAction","Pixelate","squareSize","_squareSize","pixelateRegion","EffectActionWithStrength","BlackwhiteEffectAction","FadeInEffectAction","RemoveBackgroundAction","overwriteQualifier","_screen","_colorToRemove","useScreen","Effect","pixelate","deshake","pixels","boomerang","advancedRedEye","blackwhite","negate","redEye","accelerate","speedIncreasePercent","fadeIn","fadeLength","fadeOut","additionalLoops","makeTransparent","tolerance","noise","percentage","vignette","blur","blurLevel","grayscale","sepia","shadow","shadowLevel","colorize","colorizeLevel","oilPaint","oilPaintLevel","artisticFilter","artisticFilterType","cartoonify","cartoonifyLevel","outline","styleTransfer","gradientFade","vectorize","assistColorBlind","simulateColorBlind","transition","dither","removeBackground","angle","rotationMode","addValueToQualifier","degrees","Rotate","byAngle","FillLightAction","blend","biasLvl","RecolorAction","recolorMatrix","matrix","flat","OpacityAdjustAction","By3dLutAction","publicId","ImproveAction","modeValue","blendValue","ReplaceColorAction","toColor","targetColor","toleranceLevel","baseColor","EffectActionWithBlend","ViesusCorrectAdjustAction","_noRedEye","_skinSaturation","_skinSaturationLevel","Adjust","brightness","viesusCorrect","opacity","red","sharpen","improve","saturation","contrast","gamma","green","blue","brightnessHSB","hue","autoBrightness","autoColor","autoContrast","vibrance","unsharpMask","opacityThreshold","replaceColor","recolor","fillLight","by3dLut","tint","parseVal","duration","concatSource","_transition","_prepend","sec","_duration","transTx","concatSourceTx","getTransitionString","volumeValue","PreviewAction","minSegDuration","_minSeg","maxSeg","_maxSeg","VideoEdit","concatenate","volume","preview","LayerAction","layerSource","layerType","timelinePosition","_timelinePosition","position","_position","blendMode","_blendMode","_a","_b","_c","_d","bit","openLayer","closeLayer","Overlay","Underlay","NamedTransformationAction","NamedTransformation","DeliveryAction","deliveryKey","deliveryType","ProgressiveQualifier","DeliveryFormat","DeliveryQualityAction","qualityValue","qualityWithSubSampling","qualityWithQuantization","DeliveryColorSpaceFromICC","Delivery","dpr","density","defaultImage","publicIdWithExtension","colorSpace","colorSpaceFromICC","qualityType","base64Encode","encodedResult","decodeURI","encodedFn","encodeCustomFunctionString","pre","CustomFunction","remote","asRemote","wasm","asWasm","bitRate","isConstant","codec","freq","interval","profile","animatedFormat","delayValue","sampling","VideoCodecAction","videoCodecTypeQualifier","Transcode","audioCodec","audioFrequency","fps","fpsRange","keyframeInterval","streamingProfile","StreamingProfile","toAnimated","videoCodec","videoCodecType","isEvenOdd","range","useName","smartObjectValue","layerName","Actions","PSDTools","AnimatedFormatQualifierValue","AnimatedFormat","auto","gif","webp","png","ArtisticFilter","alDente","athena","audrey","aurora","daguerre","eucalyptus","hairspray","hokusai","peacock","primavera","quartz","incognito","redRock","sizzle","fes","linen","refresh","sonnet","ukulele","frost","zorro","AspectRatio","ar1X1","ar5X4","ar3X1","ar3X2","ar4X3","ar16X9","AudioCodec","aac","mp3","opus","none","vorbis","AudioFrequency","FREQ8000","FREQ11025","FREQ16000","FREQ22050","FREQ32000","FREQ37800","FREQ44056","FREQ44100","FREQ47250","FREQ48000","FREQ88200","FREQ96000","FREQ176400","FREQ192000","ORIGINAL","BackgroundQualifier","backgroundValue","BaseCommonBackground","_palette","_constrast","colors","BackgroundAutoBorderQualifier","BaseGradientBackground","_gradientColors","_gradientDirection","BackgroundBorderGradientQualifier","BackgroundAutoPredominantQualifier","BackgroundPredominantGradientQualifier","intensityLevel","brightnessLevel","Background","borderGradient","predominantGradient","predominant","colorStr","blurred","ChromaSubSampling","chroma444","chroma420","ColorSpace","cmyk","keepCmyk","noCmyk","srgb","tinySrgb","trueColor","Dither","checkerboard2x1Dither","circles5x5Black","circles5x5White","circles6x6Black","circles6x6White","circles7x7Black","circles7x7White","halftone4x4Angled","halftone4x4Orthogonal","halftone6x6Angled","halftone6x6Orthogonal","halftone8x8Angled","halftone8x8Orthogonal","halftone16x16Orthogonal","ordered2x2Dispersed","ordered3x3Dispersed","ordered4x4Dispersed","ordered8x8Dispersed","threshold1x1Nondither","Dpr","ExpressionQualifier","Expression","expression","FontHinting","FontStyle","normal","italic","FontWeight","bold","light","FormatQualifier","Format","usdz","jp2","GradientDirectionQualifierValue","GradientDirection","vertical","diagonalDesc","diagonalAsc","OCR","CompassGravity","dir","FocusOnGravity","FocusOnObjects","AutoGravity","AutoFocusObjects","XYCenterGravity","Gravity","compass","autoGravity","focusOn","ocr","xyCenter","ImproveMode","indoor","outdoor","OutlineMode","inner","innerFill","Quality","NamedRegion","CustomRegion","Region","RotationModeQualifierValue","RotationMode","autoLeft","autoRight","horizontalFlip","ignore","verticalFlip","SimulateColorBlind","coneMonochromacy","deuteranomaly","deuteranopia","protanopia","rodMonochromacy","tritanomaly","tritanopia","BaseSource","_transformation","VideoSource","_publicID","encodeAssetPublicID","ImageSource","encodedPublicID","_format","BaseTextSource","textStyle","_textStyle","serializeCloudinaryCharacters","_textColor","bgColor","_backgroundColor","layerParam","encodeText","tmpAction","SubtitlesSource","fileName","FetchSource","remoteURL","_remoteURL","TextSource","Source","image","GradientFade","symmetric","symmetricPad","Qualifiers","TextDecoration","TextAlignment","center","justify","hd","sd","hdLean","fullHd","fullHdLean","fullHdWifi","Position","gravityQualifier","offsetX","offsetY","Color","SNOW","SNOW1","SNOW2","ROSYBROWN1","ROSYBROWN2","SNOW3","LIGHTCORAL","INDIANRED1","ROSYBROWN3","INDIANRED2","ROSYBROWN","BROWN1","FIREBRICK1","BROWN2","INDIANRED","INDIANRED3","FIREBRICK2","SNOW4","BROWN3","RED","RED1","ROSYBROWN4","FIREBRICK3","RED2","FIREBRICK","BROWN","RED3","INDIANRED4","BROWN4","FIREBRICK4","DARKRED","RED4","LIGHTPINK1","LIGHTPINK3","LIGHTPINK4","LIGHTPINK2","LIGHTPINK","PINK","CRIMSON","PINK1","PINK2","PINK3","PINK4","PALEVIOLETRED4","PALEVIOLETRED","PALEVIOLETRED2","PALEVIOLETRED1","PALEVIOLETRED3","LAVENDERBLUSH","LAVENDERBLUSH1","LAVENDERBLUSH3","LAVENDERBLUSH2","LAVENDERBLUSH4","MAROON","HOTPINK3","VIOLETRED3","VIOLETRED1","VIOLETRED2","VIOLETRED4","HOTPINK2","HOTPINK1","HOTPINK4","HOTPINK","DEEPPINK","DEEPPINK1","DEEPPINK2","DEEPPINK3","DEEPPINK4","MAROON1","MAROON2","MAROON3","MAROON4","MEDIUMVIOLETRED","VIOLETRED","ORCHID2","ORCHID","ORCHID1","ORCHID3","ORCHID4","THISTLE1","THISTLE2","PLUM1","PLUM2","THISTLE","THISTLE3","PLUM","VIOLET","PLUM3","THISTLE4","FUCHSIA","MAGENTA","MAGENTA1","PLUM4","MAGENTA2","MAGENTA3","DARKMAGENTA","MAGENTA4","PURPLE","MEDIUMORCHID","MEDIUMORCHID1","MEDIUMORCHID2","MEDIUMORCHID3","MEDIUMORCHID4","DARKVIOLET","DARKORCHID","DARKORCHID1","DARKORCHID3","DARKORCHID2","DARKORCHID4","INDIGO","BLUEVIOLET","PURPLE2","PURPLE3","PURPLE4","PURPLE1","MEDIUMPURPLE","MEDIUMPURPLE1","MEDIUMPURPLE2","MEDIUMPURPLE3","MEDIUMPURPLE4","DARKSLATEBLUE","LIGHTSLATEBLUE","MEDIUMSLATEBLUE","SLATEBLUE","SLATEBLUE1","SLATEBLUE2","SLATEBLUE3","SLATEBLUE4","GHOSTWHITE","LAVENDER","BLUE","BLUE1","BLUE2","BLUE3","MEDIUMBLUE","BLUE4","DARKBLUE","MIDNIGHTBLUE","NAVY","NAVYBLUE","ROYALBLUE","ROYALBLUE1","ROYALBLUE2","ROYALBLUE3","ROYALBLUE4","CORNFLOWERBLUE","LIGHTSTEELBLUE","LIGHTSTEELBLUE1","LIGHTSTEELBLUE2","LIGHTSTEELBLUE3","LIGHTSTEELBLUE4","SLATEGRAY4","SLATEGRAY1","SLATEGRAY2","SLATEGRAY3","LIGHTSLATEGRAY","LIGHTSLATEGREY","SLATEGRAY","SLATEGREY","DODGERBLUE","DODGERBLUE1","DODGERBLUE2","DODGERBLUE4","DODGERBLUE3","ALICEBLUE","STEELBLUE4","STEELBLUE","STEELBLUE1","STEELBLUE2","STEELBLUE3","SKYBLUE4","SKYBLUE1","SKYBLUE2","SKYBLUE3","LIGHTSKYBLUE","LIGHTSKYBLUE4","LIGHTSKYBLUE1","LIGHTSKYBLUE2","LIGHTSKYBLUE3","SKYBLUE","LIGHTBLUE3","DEEPSKYBLUE","DEEPSKYBLUE1","DEEPSKYBLUE2","DEEPSKYBLUE4","DEEPSKYBLUE3","LIGHTBLUE1","LIGHTBLUE2","LIGHTBLUE","LIGHTBLUE4","POWDERBLUE","CADETBLUE1","CADETBLUE2","CADETBLUE3","CADETBLUE4","TURQUOISE1","TURQUOISE2","TURQUOISE3","TURQUOISE4","CADETBLUE","DARKTURQUOISE","AZURE","AZURE1","LIGHTCYAN1","LIGHTCYAN","AZURE2","LIGHTCYAN2","PALETURQUOISE1","PALETURQUOISE","PALETURQUOISE2","DARKSLATEGRAY1","AZURE3","LIGHTCYAN3","DARKSLATEGRAY2","PALETURQUOISE3","DARKSLATEGRAY3","AZURE4","LIGHTCYAN4","AQUA","CYAN","CYAN1","PALETURQUOISE4","CYAN2","DARKSLATEGRAY4","CYAN3","CYAN4","DARKCYAN","TEAL","DARKSLATEGRAY","DARKSLATEGREY","MEDIUMTURQUOISE","LIGHTSEAGREEN","TURQUOISE","AQUAMARINE4","AQUAMARINE","AQUAMARINE1","AQUAMARINE2","AQUAMARINE3","MEDIUMAQUAMARINE","MEDIUMSPRINGGREEN","MINTCREAM","SPRINGGREEN","SPRINGGREEN1","SPRINGGREEN2","SPRINGGREEN3","SPRINGGREEN4","MEDIUMSEAGREEN","SEAGREEN","SEAGREEN3","SEAGREEN1","SEAGREEN4","SEAGREEN2","MEDIUMFORESTGREEN","HONEYDEW","HONEYDEW1","HONEYDEW2","DARKSEAGREEN1","DARKSEAGREEN2","PALEGREEN1","PALEGREEN","HONEYDEW3","LIGHTGREEN","PALEGREEN2","DARKSEAGREEN3","DARKSEAGREEN","PALEGREEN3","HONEYDEW4","GREEN1","LIME","LIMEGREEN","DARKSEAGREEN4","GREEN2","PALEGREEN4","GREEN3","FORESTGREEN","GREEN4","GREEN","DARKGREEN","LAWNGREEN","CHARTREUSE","CHARTREUSE1","CHARTREUSE2","CHARTREUSE3","CHARTREUSE4","GREENYELLOW","DARKOLIVEGREEN3","DARKOLIVEGREEN1","DARKOLIVEGREEN2","DARKOLIVEGREEN4","DARKOLIVEGREEN","OLIVEDRAB","OLIVEDRAB1","OLIVEDRAB2","OLIVEDRAB3","YELLOWGREEN","OLIVEDRAB4","IVORY","IVORY1","LIGHTYELLOW","LIGHTYELLOW1","BEIGE","IVORY2","LIGHTGOLDENRODYELLOW","LIGHTYELLOW2","IVORY3","LIGHTYELLOW3","IVORY4","LIGHTYELLOW4","YELLOW","YELLOW1","YELLOW2","YELLOW3","YELLOW4","OLIVE","DARKKHAKI","KHAKI2","LEMONCHIFFON4","KHAKI1","KHAKI3","KHAKI4","PALEGOLDENROD","LEMONCHIFFON","LEMONCHIFFON1","KHAKI","LEMONCHIFFON3","LEMONCHIFFON2","MEDIUMGOLDENROD","CORNSILK4","GOLD","GOLD1","GOLD2","GOLD3","GOLD4","LIGHTGOLDENROD","LIGHTGOLDENROD4","LIGHTGOLDENROD1","LIGHTGOLDENROD3","LIGHTGOLDENROD2","CORNSILK3","CORNSILK2","CORNSILK","CORNSILK1","GOLDENROD","GOLDENROD1","GOLDENROD2","GOLDENROD3","GOLDENROD4","DARKGOLDENROD","DARKGOLDENROD1","DARKGOLDENROD2","DARKGOLDENROD3","DARKGOLDENROD4","FLORALWHITE","WHEAT2","OLDLACE","WHEAT","WHEAT1","WHEAT3","ORANGE","ORANGE1","ORANGE2","ORANGE3","ORANGE4","WHEAT4","MOCCASIN","PAPAYAWHIP","NAVAJOWHITE3","BLANCHEDALMOND","NAVAJOWHITE","NAVAJOWHITE1","NAVAJOWHITE2","NAVAJOWHITE4","ANTIQUEWHITE4","ANTIQUEWHITE","TAN","BISQUE4","BURLYWOOD","ANTIQUEWHITE2","BURLYWOOD1","BURLYWOOD3","BURLYWOOD2","ANTIQUEWHITE1","BURLYWOOD4","ANTIQUEWHITE3","DARKORANGE","BISQUE2","BISQUE","BISQUE1","BISQUE3","DARKORANGE1","LINEN","DARKORANGE2","DARKORANGE3","DARKORANGE4","PERU","TAN1","TAN2","TAN3","TAN4","PEACHPUFF","PEACHPUFF1","PEACHPUFF4","PEACHPUFF2","PEACHPUFF3","SANDYBROWN","SEASHELL4","SEASHELL2","SEASHELL3","CHOCOLATE","CHOCOLATE1","CHOCOLATE2","CHOCOLATE3","CHOCOLATE4","SADDLEBROWN","SEASHELL","SEASHELL1","SIENNA4","SIENNA","SIENNA1","SIENNA2","SIENNA3","LIGHTSALMON3","LIGHTSALMON","LIGHTSALMON1","LIGHTSALMON4","LIGHTSALMON2","CORAL","ORANGERED","ORANGERED1","ORANGERED2","ORANGERED3","ORANGERED4","DARKSALMON","SALMON1","SALMON2","SALMON3","SALMON4","CORAL1","CORAL2","CORAL3","CORAL4","TOMATO4","TOMATO","TOMATO1","TOMATO2","TOMATO3","MISTYROSE4","MISTYROSE2","MISTYROSE","MISTYROSE1","SALMON","MISTYROSE3","WHITE","GRAY100","GREY100","GRAY99","GREY99","GRAY98","GREY98","GRAY97","GREY97","GRAY96","GREY96","WHITESMOKE","GRAY95","GREY95","GRAY94","GREY94","GRAY93","GREY93","GRAY92","GREY92","GRAY91","GREY91","GRAY90","GREY90","GRAY89","GREY89","GRAY88","GREY88","GRAY87","GREY87","GAINSBORO","GRAY86","GREY86","GRAY85","GREY85","GRAY84","GREY84","GRAY83","GREY83","LIGHTGRAY","LIGHTGREY","GRAY82","GREY82","GRAY81","GREY81","GRAY80","GREY80","GRAY79","GREY79","GRAY78","GREY78","GRAY77","GREY77","GRAY76","GREY76","SILVER","GRAY75","GREY75","GRAY74","GREY74","GRAY73","GREY73","GRAY72","GREY72","GRAY71","GREY71","GRAY70","GREY70","GRAY69","GREY69","GRAY68","GREY68","GRAY67","GREY67","DARKGRAY","DARKGREY","GRAY66","GREY66","GRAY65","GREY65","GRAY64","GREY64","GRAY63","GREY63","GRAY62","GREY62","GRAY61","GREY61","GRAY60","GREY60","GRAY59","GREY59","GRAY58","GREY58","GRAY57","GREY57","GRAY56","GREY56","GRAY55","GREY55","GRAY54","GREY54","GRAY53","GREY53","GRAY52","GREY52","GRAY51","GREY51","FRACTAL","GRAY50","GREY50","GRAY","GREY","GRAY49","GREY49","GRAY48","GREY48","GRAY47","GREY47","GRAY46","GREY46","GRAY45","GREY45","GRAY44","GREY44","GRAY43","GREY43","GRAY42","GREY42","DIMGRAY","DIMGREY","GRAY41","GREY41","GRAY40","GREY40","GRAY39","GREY39","GRAY38","GREY38","GRAY37","GREY37","GRAY36","GREY36","GRAY35","GREY35","GRAY34","GREY34","GRAY33","GREY33","GRAY32","GREY32","GRAY31","GREY31","GRAY30","GREY30","GRAY29","GREY29","GRAY28","GREY28","GRAY27","GREY27","GRAY26","GREY26","GRAY25","GREY25","GRAY24","GREY24","GRAY23","GREY23","GRAY22","GREY22","GRAY21","GREY21","GRAY20","GREY20","GRAY19","GREY19","GRAY18","GREY18","GRAY17","GREY17","GRAY16","GREY16","GRAY15","GREY15","GRAY14","GREY14","GRAY13","GREY13","GRAY12","GREY12","GRAY11","GREY11","GRAY10","GREY10","GRAY9","GREY9","GRAY8","GREY8","GRAY7","GREY7","GRAY6","GREY6","GRAY5","GREY5","GRAY4","GREY4","GRAY3","GREY3","GRAY2","GREY2","GRAY1","GREY1","BLACK","GRAY0","GREY0","OPAQUE","NONE","TRANSPARENT","Sources","cld","cloudinaryConfig","cloud","cloudyId","img","scaleParam","fillParam","thumbParam","base","scaled","filled","toURL","cost","costCache","buy","buyObject","created","dataRaw","getManyPromise","got","missingIds","idsQuery","inq","secDataPromise","upd2","remoteSearch","createForDays","daysObject","dayData","currentEl","newEl","upsert","dataLoad","images","series","venues","organizers","stagePriorities","stageLayouts","placeTypes","artistAliases","parentGenres","genres","artistGenres","messageTypes","subjectTypes","messagesMonitors","intentions","interactions","monitors","filterable","appendable","named","ratings","rated","virgins","futures","aFuture","bFuture","usePrimary","al","peakArtistPriLevel","bl","futurePrioritySort","virginal","subjective","nameMatch","nameSearch","setIdsPresent","lineQuery","imgQuery","and","setQuery","nin","messQuery","messageSenders","artistDetails","messageName","forDateAll","dateId","scheduledArtistIds","scheduledImgs","forDateSingle","scheduledImg","imgEvent","cloudy","eventSub","messageEventConnections","getVenueIds","baseDate","venue","seriesIds","noFutureDates","waitDays","hiatus","basedate","activeDate","seriesActive","eventSuper","testMessageId","testMessage","messageFestivalConnections","artpris","getResearchList","artistData","getFestivalArtistIds","researchObject","forces","skips","saves","hides","recents","recent","time","aPriId","getPriFromArtistFest","bPriId","reviewedArtistIds","lineupArtistIds","unreviewedIds","research","dateIds","fest","startInts","endInts","did","festivalActive","intended","skipDetails","intentFestivals","unendedDates","getSeriesId","dateQuery","dayQuery","dayIds","loadForFestival","festivalDetails","getBaseMoment","momentString","activeDay","_cache_clear_moments_date","momentsDate","futureDate","getLineupArtistIds","implicit","dateCheckin","createWithDays","dateWithDays","datedFestivals","futureDates","upcomingDatedFestivals","dateFilters","dateDetails","intentDates","intendedDate","daysOffset","momentsDay","dayDetails","getArtistId","getArtistName","setName","superDay","getSetTimeText","startMoment","momentsSet","setIds","datedLinedFestivals","festHasLineup","unscheduledLineupFestivals","festivalSetIds","scheduledSets","artistMissingDayFestivals","daySets","unscheduled","artistMissingStageFestivals","stageSets","setFilters","setsForDay","deletion","futureSet","setDetails","artist","getIdFromArtistFest","getFromArtistFest","artistLineups","festivalsForArtist","artistInLineup","artistInFestival","forFestival","lineupFilter","getNotFestivalArtistIds","excludeIds","getUnscheduledForFestival","allPrioritiesDefaultFestivals","festIds","found","lineup","artistConnections","upload","addArtist","uploadLineupArtists","placeName","place","forSeries","seriesId","prevPlaces","missingStageFestivals","placeAdmin","leveled","cachePath","cacheValue","typeString","connected","connectionFilter","messageFilters","getUnread","discussMessages","ends","order","limit","okDay","okDate","okFestival","okSeries","okArtist","baseEnd","loadForArtist","festivalMessages","discuss","messageDetails","directCheckin","peerCheckin","implicitCheckinPossible","messageCheckin","senders","haveSenders","needSenders","uncheckedSenders","messageMonitor","intent","clearInteract","interactIds","setInteract","interact","userName","interEnd","localIds","interQuery","flatMap","userIds","userDetails","interactOptions","currentInteractions","currentlyFollowing","currentlyBlocking","follow","icon","itemClicked","unfollowItem","followItem","block","unblockItem","blockItem","skipIds","bases","flagDetails","waiting","advanceFlag","Images","Series","Dates","Days","Sets","Venues","Organizers","Places","StagePriorities","StageLayouts","PlaceTypes","ArtistAliases","ParentGenres","Genres","ArtistGenres","MessageTypes","SubjectTypes","MessagesMonitors","Intentions","Interactions","Users","Flags","festigram","selected","hide","classList","show","clickFunction","groupSelector","items","querySelectorAll","toggle","data-group","group","collapsed","menu","validUserItem","invalidUserItem","menuHidden","hideMenu","quarter","tall","containerClasses","footer","fieldValue","uiClass","oninput","patternChange","eventId","mapping","imageId","alt","getFestivalYear","getSeriesName","getSubject","reviewSubject","defaultClick","jsx","data-id","preload","titleSet","FixedCard","fallback","recordCount","prefilter","searchMatches","useShort","currentId","dayChange","fClass","otherSets","initDom","startOffset","data-stage","labelDefault","labels","endOffset","stageIds","seriesChange","onchange","festivalChange","dateChange","stageChange","earliest","latest","querySelector","stages","hideDayBar","updateColor","averageRating","data-fa-transform","buttonName","showRating","currentRating","lastFlag","changeFlag","pretext","baselineRating","baselineComment","localRating","localComment","submit","newRatingMessage","newCommentMessage","newSub","newRating","onkeypress","discussSubject","fallbackClick","contextObject","gametime","baseRoute","targetId","small","displayComment","cm","discusser","reviewMessage","reviewId","ownReview","reviewUnread","showLong","headline","headact","shortDefault","dragula","rParams","extractable","extracted","extractToggle","flex","biteCache","biteTimes","cachedBite","remoteDataField","fav","dataPromise","buySmall","buyCount","formatter","NumberFormat","currency","eventObject","stripe","Stripe","STRIPE_PUBLIC","currentBucks","public","IconText","su","cu","quantity","successUrl","cancelUrl","redirectToCheckout","sessionId","alert","bucksUpdate","extraction","unaffordable","data-access-level","accessLevel","subtitle","cachedEndBite","endPromise","cachedCostBite","rdf","costPromise","dayIdCache","dateIdCache","festivalIdCache","seriesIdCache","radix","newId","cacheId","endTime","costObject","EventSelector","BuyAccessLine","closeModal","myUploadWidget","cloudinary","openUploadWidget","uploadPreset","resultFunction","cancelFunction","widgetHandle","_widgetExists","widgetExists","formCache","picString","fieldIndex","newStringValue","picture","imgSrc","UIButton","CloudinaryUploadWidget","secure_url","tractToggle","tractStates","EditProfile","BucksHistory","ContentItem","picForm","InlineTable","runningBalance","rb","category","bucksLedger","bucksForm","bucksSpend","baseData","popModal","activeMessage","activeId","startText","reviewer","getRecentActivity","aid","clickFunctionForData","lastAccess","BuyButtons","eventSet","getEnds","assocObject","cur","replaceEnd","replaceKey","assObject","makeReplyAssocObjects","replyArray","repliableIds","attachableReplies","assocEnds","assoc","replacedAssocObject","endAssoc","replyId","finalAssocObject","replyAssocObject","replyKey","remainingReplies","buildTree","discussion","unreplied","getUnreplied","replyToArrayPossible","reply","startObject","readAlready","deleteOwn","mYear","makeUserSo","baseObject","allUsers","currentUsers","formerUsers","setText","setTimeText","getStageName","currentSet","setIdField","detailsLoaded","userID","opened","review","responded","discussFlag","actionText","cancelText","cancelAction","textInsert","responseUpdate","asAdmin","asUser","attrAr","hideFlag","_title","_author","_sourceUrl","_license","_licenseUrl","validated","licenses","phTitle","CloudinaryUpload","phSourceUrl","phCreator","addingImage","addDisabled","usePlaceholders","existingLicense","camera","specImageId","specImage","usePlaceHolders","subjectCard","otherAttrs","FlagCard","ImageCard","MessageCard","DayCard","DateCard","FestivalCard","SeriesCard","PlaceCard","SetCard","ArtistCard","UserCard","closeClick","headerCard","flagAttrs","discussionBase","loadSubjectObject","ActivityCard","recurse","spacers","divs","updatedDivs","updatesSpacers","spacerArr","newDiv","objKeys","mapActivities","messageArrays","supressModal","loopFilter","skip","neq","discussFilter","userRecent","related","ma","personalFilter","bmi","upcomingFestivals","noLineup","linedFestivalIds","upcomingLinedFestivals","artistPrisNeeded","noCurrentFestival","yesFestival","fDates","scroller","artistChange","sel","defaultText","textValue","selectedId","matchedArtist","Icon","minuteChange","superChange","startTime","verb","elNumber","modals","Artist","Discuss","Flag","Image","OptionSelect","Review","Schedule","Text","baseAttrs","modalAttrs","popRequest","modalType","modalData","setHeight","dayStart","allSets","setsD","yid","mainSubject","offLabel","onLabel","permission","unauth","checked","newState","notCheckedIn","debug","allowed","ec","menuItems","searchObject","setResults","setGroup","gtDate","setSearchStrings","rawSets","getResults","rawArtists","rawUsers","nodeName","isHeader","stopNode","isSameNode","menuLock","lastRoute","contained","seriesItems","rawSeries","artistItems","userItems","username","seriesGroup","artistGroup","userGroup","titleGet","eventGet","buyModal","focusSubject","SearchExpanse","website","upOne","SeriesDescriptionField","intentionMethod","evtString","dso","link","comments","messageSorter","followed","int","reviewSorter","Highlights","interactive","own","private","Item","mixed","BarButton","artistsResearchedPostProcess","artistsResearched","researcherId","artistsResearchedCount","artistsResearchedBite","setsWatchedPostProcess","setsWatched","watcherId","setsWatchedCount","setsWatchedBite","recentFavorite","reviewerId","recentFavoriteCount","recentFavoriteBite","baseValue","intendedFestival","goerId","intendedFestivalIds","festivalIntentions","foundArtists","raterId","favArtistRaw","allFavArtistIds","allArtistSetRaw","allArtistSetIds","favSetRaw","favSetIds","favSetArtistRaw","favSetArtistIds","favArtistIds","favoriteArtists","discusserId","discussionBaseRaw","allDiscussBaseIds","discussSubjectsRaw","idMap","discussSubjectKeys","baseId","discussSubjectCounts","discussSubjectCountsUnsorted","discussSubjectCountsSorted","dsc","matchAll","discussedSubjects","Follows","FollowedBy","Blocks","FollowingDetails","picField","email","nextFestival","mostDiscussed","favArtists","imgs","bites","Tract","InteractionBar","Profile","formDOM","formData","newEntry","entryValue","newSeries","reset","entryFormHandler","getElementById","newFestival","previousVenueIds","startdate","enddate","dayCount","newDate","newVenue","hideRows","hideSelected","dayHeaders","lineupIds","displayArtists","lastDisplaySets","displaySets","lastDisplayArtists","sameLineup","sameSets","dataSet","deleteSets","createSets","currentlyUnscheduledLineups","removeUnscheduled","addUnscheduled","newL","deleteLineupIds","updateLineups","stageHeaders","tableFixHead","sT","scrollTop","unstageSets","countObject","createNewSetsFor","simpleUpdates","sorted","updateSets","schedulingSet","addSet","dayAndStageUnscheduled","currentStages","newStageNames","addingStage","clearMovedStages","seriesChangea","festivalChangea","copyPreviousStages","prevStages","els","stageData","deleteStages","addPromise","delPromise","captureStages","newText","addingArtist","file","files","artistPromise","getText","displayName","otherNames","removeNames","newArtistNames","addingName","drakeDrop","alias","displayNameEls","otherNamesEls","removeNamesEls","newName","nameChanged","existingAliases","newAliases","removeAliases","captureArtistNames","selectedId1","selectedId2","select","fixType","fixTypeChange","artistString","fixString","WelcomeView","forceLoginRoute","rawUserData","titleCache","eventCache","focusCache","bannerTitle","eventBadge","selection","badge","lastUser","popRequestArgs","ModalBox","authorize","resolveComponent","rejectComponent","rest","acb","userDataRaw","attrIds","passing","appStartTime","mainAttrs","Launcher","mainStage","Admin","FixArtist","routing","ArtistDetail","ConfirmLogout","CreateDate","DateDetail","DayDetail","Discussion","SetLineup","SetStages","FestivalDetail","CreateFestival","Gametime","nextParams","Research","SeriesView","CreateSeries","SeriesDetail","AssignDays","AssignSetStages","AssignTimes","SetDetail","FestivalView","ScheduleThemer","Account","UserView","UserDetail","CreateVenue","serviceWorker","register","App"],"mappings":"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AQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,SAAU,WACVC,SAAU,WACVC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,QAAS,UACTC,OAAQ,SACRC,OAAQ,SACRC,KAAM,OACNC,KAAM,OACNC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,QAAS,UACTC,QAAS,UACTC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAA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","file":"bundle.js","sourcesContent":["module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n","'use strict';\n\nvar ticky = require('ticky');\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n","'use strict';\n\nvar atoa = require('atoa');\nvar debounce = require('./debounce');\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n","'use strict';\n\nvar customEvent = require('custom-event');\nvar eventmap = require('./eventmap');\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n","'use strict';\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){\"use strict\";var t=\"millisecond\",e=\"second\",n=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",a=\"quarter\",o=\"year\",f=\"date\",h=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,c=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},$=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},l={s:$,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+$(r,2,\"0\")+\":\"+$(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),s=n-i<0,a=e.clone().add(r+(s?-1:1),u);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,D:f,h:r,m:n,s:e,ms:t,Q:a}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},y=\"en\",M={};M[y]=d;var m=function(t){return t instanceof S},D=function(t,e,n){var r;if(!t)return y;if(\"string\"==typeof t)M[t]&&(r=t),e&&(M[t]=e,r=t);else{var i=t.name;M[i]=t,r=i}return!n&&r&&(y=r),r||!n&&y},v=function(t,e){if(m(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},g=l;g.l=D,g.i=m,g.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function d(t){this.$L=D(t.locale,null,!0),this.parse(t)}var $=d.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(g.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return g},$.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},$.isSame=function(t,e){var n=v(t);return this.startOf(e)<=n&&n<=this.endOf(e)},$.isAfter=function(t,e){return v(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<v(t)},$.$g=function(t,e,n){return g.u(t)?this[e]:this.set(n,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,a){var h=this,c=!!g.u(a)||a,d=g.p(t),$=function(t,e){var n=g.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return c?n:n.endOf(i)},l=function(t,e){return g.w(h.toDate()[t].apply(h.toDate(\"s\"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},y=this.$W,M=this.$M,m=this.$D,D=\"set\"+(this.$u?\"UTC\":\"\");switch(d){case o:return c?$(1,0):$(31,11);case u:return c?$(1,M):$(0,M+1);case s:var v=this.$locale().weekStart||0,S=(y<v?y+7:y)-v;return $(c?m-S:m+(6-S),M);case i:case f:return l(D+\"Hours\",0);case r:return l(D+\"Minutes\",1);case n:return l(D+\"Seconds\",2);case e:return l(D+\"Milliseconds\",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(s,a){var h,c=g.p(s),d=\"set\"+(this.$u?\"UTC\":\"\"),$=(h={},h[i]=d+\"Date\",h[f]=d+\"Date\",h[u]=d+\"Month\",h[o]=d+\"FullYear\",h[r]=d+\"Hours\",h[n]=d+\"Minutes\",h[e]=d+\"Seconds\",h[t]=d+\"Milliseconds\",h)[c],l=c===i?this.$D+(a-this.$W):a;if(c===u||c===o){var y=this.clone().set(f,1);y.$d[$](l),y.init(),this.$d=y.set(f,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[g.p(t)]()},$.add=function(t,a){var f,h=this;t=Number(t);var c=g.p(a),d=function(e){var n=v(h);return g.w(n.date(n.date()+Math.round(e*t)),h)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(f={},f[n]=6e4,f[r]=36e5,f[e]=1e3,f)[c]||1,l=this.$d.getTime()+t*$;return g.w(l,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this;if(!this.isValid())return\"Invalid Date\";var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=g.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,f=i.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return g.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:g.s(a+1,2,\"0\"),MMM:h(i.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:g.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,o,2),ddd:h(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:g.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:g.s(u,2,\"0\"),s:String(this.$s),ss:g.s(this.$s,2,\"0\"),SSS:g.s(this.$ms,3,\"0\"),Z:r};return n.replace(c,function(t,e){return e||l[t]||r.replace(\":\",\"\")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(t,f,h){var c,d=g.p(f),$=v(t),l=6e4*($.utcOffset()-this.utcOffset()),y=this-$,M=g.m(this,$);return M=(c={},c[o]=M/12,c[u]=M,c[a]=M/3,c[s]=(y-l)/6048e5,c[i]=(y-l)/864e5,c[r]=y/36e5,c[n]=y/6e4,c[e]=y/1e3,c)[d]||y,h?M:g.a(M)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return M[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=D(t,e,!0);return r&&(n.$L=r),n},$.clone=function(){return g.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},d}(),p=S.prototype;return v.prototype=p,[[\"$ms\",t],[\"$s\",e],[\"$m\",n],[\"$H\",r],[\"$W\",i],[\"$M\",u],[\"$y\",o],[\"$D\",f]].forEach(function(t){p[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),v.extend=function(t,e){return t.$i||(t(e,S,v),t.$i=!0),v},v.locale=D,v.isDayjs=m,v.unix=function(t){return v(1e3*t)},v.en=M[y],v.Ls=M,v.p={},v});\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.dayjs_plugin_isBetween=t()}(this,function(){\"use strict\";return function(e,t,i){t.prototype.isBetween=function(e,t,s,f){var n=i(e),o=i(t),r=\"(\"===(f=f||\"()\")[0],u=\")\"===f[1];return(r?this.isAfter(n,s):!this.isBefore(n,s))&&(u?this.isBefore(o,s):!this.isAfter(o,s))||(r?this.isBefore(n,s):!this.isAfter(n,s))&&(u?this.isAfter(o,s):!this.isBefore(o,s))}}});\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){r=r||{};var n=t.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,t,e,o){return n.fromToBase(r,t,e,o)}e.en.relativeTime=o,n.fromToBase=function(t,n,i,d,u){for(var a,f,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(a=d?e(t).diff(i,y.d,!0):i.diff(t,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(a));if(s=a>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),f=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return f;var M=s?l.future:l.past;return\"function\"==typeof M?M(f):M.replace(\"%s\",f)},n.to=function(r,t){return i(r,t,this,!0)},n.from=function(r,t){return i(r,t,this)};var d=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}});\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.dayjs_plugin_timezone=e()}(this,function(){\"use strict\";var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(n,i,r){var o,u=r().utcOffset(),a=function(t,n,i){void 0===i&&(i={});var r=new Date(t);return function(t,n){void 0===n&&(n={});var i=n.timeZoneName||\"short\",r=t+\"|\"+i,o=e[r];return o||(o=new Intl.DateTimeFormat(\"en-US\",{hour12:!1,timeZone:t,year:\"numeric\",month:\"2-digit\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\",second:\"2-digit\",timeZoneName:i}),e[r]=o),o}(n,i).formatToParts(r)},f=function(e,n){for(var i=a(e,n),o=[],u=0;u<i.length;u+=1){var f=i[u],s=f.type,m=f.value,c=t[s];c>=0&&(o[c]=parseInt(m,10))}var d=o[3],v=24===d?0:d,h=o[0]+\"-\"+o[1]+\"-\"+o[2]+\" \"+v+\":\"+o[4]+\":\"+o[5]+\":000\",l=+e;return(r.utc(h).valueOf()-(l-=l%1e3))/6e4},s=i.prototype;s.tz=function(t,e){void 0===t&&(t=o);var n=this.utcOffset(),i=this.toDate().toLocaleString(\"en-US\",{timeZone:t}),a=Math.round((this.toDate()-new Date(i))/1e3/60),f=r(i).$set(\"millisecond\",this.$ms).utcOffset(u-a,!0);if(e){var s=f.utcOffset();f=f.add(n-s,\"minute\")}return f.$x.$timezone=t,f},s.offsetName=function(t){var e=this.$x.$timezone||r.tz.guess(),n=a(this.valueOf(),e,{timeZoneName:t}).find(function(t){return\"timezonename\"===t.type.toLowerCase()});return n&&n.value};var m=s.startOf;s.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return m.call(this,t,e);var n=r(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\"));return m.call(n,t,e).tz(this.$x.$timezone,!0)},r.tz=function(t,e,n){var i=n&&e,u=n||e||o,a=f(+r(),u);if(\"string\"!=typeof t)return r(t).tz(u);var s=function(t,e,n){var i=t-60*e*1e3,r=f(i,n);if(e===r)return[i,e];var o=f(i-=60*(r-e)*1e3,n);return r===o?[i,r]:[t-60*Math.min(r,o)*1e3,Math.max(r,o)]}(r.utc(t,i).valueOf(),a,u),m=s[0],c=s[1],d=r(m).utcOffset(c);return d.$x.$timezone=u,d},r.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},r.tz.setDefault=function(t){o=t}}});\n","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):t.dayjs_plugin_utc=i()}(this,function(){\"use strict\";return function(t,i,e){var s=i.prototype;e.utc=function(t){return new i({date:t,utc:!0,args:arguments})},s.utc=function(t){var i=e(this.toDate(),{locale:this.$L,utc:!0});return t?i.add(this.utcOffset(),\"minute\"):i},s.local=function(){return e(this.toDate(),{locale:this.$L,utc:!1})};var f=s.parse;s.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),f.call(this,t)};var n=s.init;s.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else n.call(this)};var u=s.utcOffset;s.utcOffset=function(t,i){var e=this.$utils().u;if(e(t))return this.$u?0:e(this.$offset)?u.call(this):this.$offset;var s=Math.abs(t)<=16?60*t:t,f=this;if(i)return f.$offset=s,f.$u=0===t,f;if(0!==t){var n=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(f=this.local().add(s+n,\"minute\")).$offset=s,f.$x.$localOffset=n}else f=this.utc();return f};var o=s.format;s.format=function(t){var i=t||(this.$u?\"YYYY-MM-DDTHH:mm:ss[Z]\":\"\");return o.call(this,i)},s.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var r=s.toDate;s.toDate=function(t){return\"s\"===t&&this.$offset?e(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\")).toDate():r.call(this)};var a=s.diff;s.diff=function(t,i,s){if(t&&this.$u===t.$u)return a.call(this,t,i,s);var f=this.local(),n=e(t).local();return a.call(f,n,i,s)}}});\n","'use strict';\n\nvar cache = {};\nvar start = '(?:^|\\\\s)';\nvar end = '(?:\\\\s|$)';\n\nfunction lookupClass (className) {\n  var cached = cache[className];\n  if (cached) {\n    cached.lastIndex = 0;\n  } else {\n    cache[className] = cached = new RegExp(start + className + end, 'g');\n  }\n  return cached;\n}\n\nfunction addClass (el, className) {\n  var current = el.className;\n  if (!current.length) {\n    el.className = className;\n  } else if (!lookupClass(className).test(current)) {\n    el.className += ' ' + className;\n  }\n}\n\nfunction rmClass (el, className) {\n  el.className = el.className.replace(lookupClass(className), ' ').trim();\n}\n\nmodule.exports = {\n  add: addClass,\n  rm: rmClass\n};\n","'use strict';\n\nvar emitter = require('contra/emitter');\nvar crossvent = require('crossvent');\nvar classes = require('./classes');\nvar doc = document;\nvar documentElement = doc.documentElement;\n\nfunction dragula (initialContainers, options) {\n  var len = arguments.length;\n  if (len === 1 && Array.isArray(initialContainers) === false) {\n    options = initialContainers;\n    initialContainers = [];\n  }\n  var _mirror; // mirror image\n  var _source; // source container\n  var _item; // item being dragged\n  var _offsetX; // reference x\n  var _offsetY; // reference y\n  var _moveX; // reference move x\n  var _moveY; // reference move y\n  var _initialSibling; // reference sibling when grabbed\n  var _currentSibling; // reference sibling now\n  var _copy; // item used for copying\n  var _renderTimer; // timer for setTimeout renderMirrorImage\n  var _lastDropTarget = null; // last container item was over\n  var _grabbed; // holds mousedown context until first mousemove\n\n  var o = options || {};\n  if (o.moves === void 0) { o.moves = always; }\n  if (o.accepts === void 0) { o.accepts = always; }\n  if (o.invalid === void 0) { o.invalid = invalidTarget; }\n  if (o.containers === void 0) { o.containers = initialContainers || []; }\n  if (o.isContainer === void 0) { o.isContainer = never; }\n  if (o.copy === void 0) { o.copy = false; }\n  if (o.copySortSource === void 0) { o.copySortSource = false; }\n  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }\n  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }\n  if (o.direction === void 0) { o.direction = 'vertical'; }\n  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }\n  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }\n\n  var drake = emitter({\n    containers: o.containers,\n    start: manualStart,\n    end: end,\n    cancel: cancel,\n    remove: remove,\n    destroy: destroy,\n    canMove: canMove,\n    dragging: false\n  });\n\n  if (o.removeOnSpill === true) {\n    drake.on('over', spillOver).on('out', spillOut);\n  }\n\n  events();\n\n  return drake;\n\n  function isContainer (el) {\n    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n  }\n\n  function events (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousedown', grab);\n    touchy(documentElement, op, 'mouseup', release);\n  }\n\n  function eventualMovements (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n  }\n\n  function movements (remove) {\n    var op = remove ? 'remove' : 'add';\n    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n    crossvent[op](documentElement, 'click', preventGrabbed);\n  }\n\n  function destroy () {\n    events(true);\n    release({});\n  }\n\n  function preventGrabbed (e) {\n    if (_grabbed) {\n      e.preventDefault();\n    }\n  }\n\n  function grab (e) {\n    _moveX = e.clientX;\n    _moveY = e.clientY;\n\n    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n    if (ignore) {\n      return; // we only care about honest-to-god left clicks and touch events\n    }\n    var item = e.target;\n    var context = canStart(item);\n    if (!context) {\n      return;\n    }\n    _grabbed = context;\n    eventualMovements();\n    if (e.type === 'mousedown') {\n      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208\n        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n      } else {\n        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n      }\n    }\n  }\n\n  function startBecauseMouseMoved (e) {\n    if (!_grabbed) {\n      return;\n    }\n    if (whichMouseButton(e) === 0) {\n      release({});\n      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n    }\n\n    // truthy check fixes #239, equality fixes #207, fixes #501\n    if ((e.clientX !== void 0 && Math.abs(e.clientX - _moveX) <= (o.slideFactorX || 0)) &&\n      (e.clientY !== void 0 && Math.abs(e.clientY - _moveY) <= (o.slideFactorY || 0))) {\n      return;\n    }\n\n    if (o.ignoreInputTextSelection) {\n      var clientX = getCoord('clientX', e) || 0;\n      var clientY = getCoord('clientY', e) || 0;\n      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n      if (isInput(elementBehindCursor)) {\n        return;\n      }\n    }\n\n    var grabbed = _grabbed; // call to end() unsets _grabbed\n    eventualMovements(true);\n    movements();\n    end();\n    start(grabbed);\n\n    var offset = getOffset(_item);\n    _offsetX = getCoord('pageX', e) - offset.left;\n    _offsetY = getCoord('pageY', e) - offset.top;\n\n    classes.add(_copy || _item, 'gu-transit');\n    renderMirrorImage();\n    drag(e);\n  }\n\n  function canStart (item) {\n    if (drake.dragging && _mirror) {\n      return;\n    }\n    if (isContainer(item)) {\n      return; // don't drag container itself\n    }\n    var handle = item;\n    while (getParent(item) && isContainer(getParent(item)) === false) {\n      if (o.invalid(item, handle)) {\n        return;\n      }\n      item = getParent(item); // drag target should be a top element\n      if (!item) {\n        return;\n      }\n    }\n    var source = getParent(item);\n    if (!source) {\n      return;\n    }\n    if (o.invalid(item, handle)) {\n      return;\n    }\n\n    var movable = o.moves(item, source, handle, nextEl(item));\n    if (!movable) {\n      return;\n    }\n\n    return {\n      item: item,\n      source: source\n    };\n  }\n\n  function canMove (item) {\n    return !!canStart(item);\n  }\n\n  function manualStart (item) {\n    var context = canStart(item);\n    if (context) {\n      start(context);\n    }\n  }\n\n  function start (context) {\n    if (isCopy(context.item, context.source)) {\n      _copy = context.item.cloneNode(true);\n      drake.emit('cloned', _copy, context.item, 'copy');\n    }\n\n    _source = context.source;\n    _item = context.item;\n    _initialSibling = _currentSibling = nextEl(context.item);\n\n    drake.dragging = true;\n    drake.emit('drag', _item, _source);\n  }\n\n  function invalidTarget () {\n    return false;\n  }\n\n  function end () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    drop(item, getParent(item));\n  }\n\n  function ungrab () {\n    _grabbed = false;\n    eventualMovements(true);\n    movements(true);\n  }\n\n  function release (e) {\n    ungrab();\n\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var clientX = getCoord('clientX', e) || 0;\n    var clientY = getCoord('clientY', e) || 0;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {\n      drop(item, dropTarget);\n    } else if (o.removeOnSpill) {\n      remove();\n    } else {\n      cancel();\n    }\n  }\n\n  function drop (item, target) {\n    var parent = getParent(item);\n    if (_copy && o.copySortSource && target === _source) {\n      parent.removeChild(_item);\n    }\n    if (isInitialPlacement(target)) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, target, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function remove () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var parent = getParent(item);\n    if (parent) {\n      parent.removeChild(item);\n    }\n    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n    cleanup();\n  }\n\n  function cancel (revert) {\n    if (!drake.dragging) {\n      return;\n    }\n    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n    var item = _copy || _item;\n    var parent = getParent(item);\n    var initial = isInitialPlacement(parent);\n    if (initial === false && reverts) {\n      if (_copy) {\n        if (parent) {\n          parent.removeChild(_copy);\n        }\n      } else {\n        _source.insertBefore(item, _initialSibling);\n      }\n    }\n    if (initial || reverts) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, parent, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function cleanup () {\n    var item = _copy || _item;\n    ungrab();\n    removeMirrorImage();\n    if (item) {\n      classes.rm(item, 'gu-transit');\n    }\n    if (_renderTimer) {\n      clearTimeout(_renderTimer);\n    }\n    drake.dragging = false;\n    if (_lastDropTarget) {\n      drake.emit('out', item, _lastDropTarget, _source);\n    }\n    drake.emit('dragend', item);\n    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n  }\n\n  function isInitialPlacement (target, s) {\n    var sibling;\n    if (s !== void 0) {\n      sibling = s;\n    } else if (_mirror) {\n      sibling = _currentSibling;\n    } else {\n      sibling = nextEl(_copy || _item);\n    }\n    return target === _source && sibling === _initialSibling;\n  }\n\n  function findDropTarget (elementBehindCursor, clientX, clientY) {\n    var target = elementBehindCursor;\n    while (target && !accepted()) {\n      target = getParent(target);\n    }\n    return target;\n\n    function accepted () {\n      var droppable = isContainer(target);\n      if (droppable === false) {\n        return false;\n      }\n\n      var immediate = getImmediateChild(target, elementBehindCursor);\n      var reference = getReference(target, immediate, clientX, clientY);\n      var initial = isInitialPlacement(target, reference);\n      if (initial) {\n        return true; // should always be able to drop it right back where it was\n      }\n      return o.accepts(_item, target, _source, reference);\n    }\n  }\n\n  function drag (e) {\n    if (!_mirror) {\n      return;\n    }\n    e.preventDefault();\n\n    var clientX = getCoord('clientX', e) || 0;\n    var clientY = getCoord('clientY', e) || 0;\n    var x = clientX - _offsetX;\n    var y = clientY - _offsetY;\n\n    _mirror.style.left = x + 'px';\n    _mirror.style.top = y + 'px';\n\n    var item = _copy || _item;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n    if (changed || dropTarget === null) {\n      out();\n      _lastDropTarget = dropTarget;\n      over();\n    }\n    var parent = getParent(item);\n    if (dropTarget === _source && _copy && !o.copySortSource) {\n      if (parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    var reference;\n    var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n    if (immediate !== null) {\n      reference = getReference(dropTarget, immediate, clientX, clientY);\n    } else if (o.revertOnSpill === true && !_copy) {\n      reference = _initialSibling;\n      dropTarget = _source;\n    } else {\n      if (_copy && parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    if (\n      (reference === null && changed) ||\n      reference !== item &&\n      reference !== nextEl(item)\n    ) {\n      _currentSibling = reference;\n      dropTarget.insertBefore(item, reference);\n      drake.emit('shadow', item, dropTarget, _source);\n    }\n    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }\n    function over () { if (changed) { moved('over'); } }\n    function out () { if (_lastDropTarget) { moved('out'); } }\n  }\n\n  function spillOver (el) {\n    classes.rm(el, 'gu-hide');\n  }\n\n  function spillOut (el) {\n    if (drake.dragging) { classes.add(el, 'gu-hide'); }\n  }\n\n  function renderMirrorImage () {\n    if (_mirror) {\n      return;\n    }\n    var rect = _item.getBoundingClientRect();\n    _mirror = _item.cloneNode(true);\n    _mirror.style.width = getRectWidth(rect) + 'px';\n    _mirror.style.height = getRectHeight(rect) + 'px';\n    classes.rm(_mirror, 'gu-transit');\n    classes.add(_mirror, 'gu-mirror');\n    o.mirrorContainer.appendChild(_mirror);\n    touchy(documentElement, 'add', 'mousemove', drag);\n    classes.add(o.mirrorContainer, 'gu-unselectable');\n    drake.emit('cloned', _mirror, _item, 'mirror');\n  }\n\n  function removeMirrorImage () {\n    if (_mirror) {\n      classes.rm(o.mirrorContainer, 'gu-unselectable');\n      touchy(documentElement, 'remove', 'mousemove', drag);\n      getParent(_mirror).removeChild(_mirror);\n      _mirror = null;\n    }\n  }\n\n  function getImmediateChild (dropTarget, target) {\n    var immediate = target;\n    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n      immediate = getParent(immediate);\n    }\n    if (immediate === documentElement) {\n      return null;\n    }\n    return immediate;\n  }\n\n  function getReference (dropTarget, target, x, y) {\n    var horizontal = o.direction === 'horizontal';\n    var reference = target !== dropTarget ? inside() : outside();\n    return reference;\n\n    function outside () { // slower, but able to figure out any position\n      var len = dropTarget.children.length;\n      var i;\n      var el;\n      var rect;\n      for (i = 0; i < len; i++) {\n        el = dropTarget.children[i];\n        rect = el.getBoundingClientRect();\n        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }\n        if (!horizontal && (rect.top + rect.height / 2) > y) { return el; }\n      }\n      return null;\n    }\n\n    function inside () { // faster, but only available if dropped inside a child element\n      var rect = target.getBoundingClientRect();\n      if (horizontal) {\n        return resolve(x > rect.left + getRectWidth(rect) / 2);\n      }\n      return resolve(y > rect.top + getRectHeight(rect) / 2);\n    }\n\n    function resolve (after) {\n      return after ? nextEl(target) : target;\n    }\n  }\n\n  function isCopy (item, container) {\n    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n  }\n}\n\nfunction touchy (el, op, type, fn) {\n  var touch = {\n    mouseup: 'touchend',\n    mousedown: 'touchstart',\n    mousemove: 'touchmove'\n  };\n  var pointers = {\n    mouseup: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove'\n  };\n  var microsoft = {\n    mouseup: 'MSPointerUp',\n    mousedown: 'MSPointerDown',\n    mousemove: 'MSPointerMove'\n  };\n  if (global.navigator.pointerEnabled) {\n    crossvent[op](el, pointers[type], fn);\n  } else if (global.navigator.msPointerEnabled) {\n    crossvent[op](el, microsoft[type], fn);\n  } else {\n    crossvent[op](el, touch[type], fn);\n    crossvent[op](el, type, fn);\n  }\n}\n\nfunction whichMouseButton (e) {\n  if (e.touches !== void 0) { return e.touches.length; }\n  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons; }\n  var button = e.button;\n  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);\n  }\n}\n\nfunction getOffset (el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n    top: rect.top + getScroll('scrollTop', 'pageYOffset')\n  };\n}\n\nfunction getScroll (scrollProp, offsetProp) {\n  if (typeof global[offsetProp] !== 'undefined') {\n    return global[offsetProp];\n  }\n  if (documentElement.clientHeight) {\n    return documentElement[scrollProp];\n  }\n  return doc.body[scrollProp];\n}\n\nfunction getElementBehindPoint (point, x, y) {\n  point = point || {};\n  var state = point.className || '';\n  var el;\n  point.className += ' gu-hide';\n  el = doc.elementFromPoint(x, y);\n  point.className = state;\n  return el;\n}\n\nfunction never () { return false; }\nfunction always () { return true; }\nfunction getRectWidth (rect) { return rect.width || (rect.right - rect.left); }\nfunction getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }\nfunction getParent (el) { return el.parentNode === doc ? null : el.parentNode; }\nfunction isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }\nfunction isEditable (el) {\n  if (!el) { return false; } // no parents were editable\n  if (el.contentEditable === 'false') { return false; } // stop the lookup\n  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\n  return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n}\n\nfunction nextEl (el) {\n  return el.nextElementSibling || manually();\n  function manually () {\n    var sibling = el;\n    do {\n      sibling = sibling.nextSibling;\n    } while (sibling && sibling.nodeType !== 1);\n    return sibling;\n  }\n}\n\nfunction getEventHost (e) {\n  // on touchend event, we have to use `e.changedTouches`\n  // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n  // see https://github.com/bevacqua/dragula/issues/34\n  if (e.targetTouches && e.targetTouches.length) {\n    return e.targetTouches[0];\n  }\n  if (e.changedTouches && e.changedTouches.length) {\n    return e.changedTouches[0];\n  }\n  return e;\n}\n\nfunction getCoord (coord, e) {\n  var host = getEventHost(e);\n  var missMap = {\n    pageX: 'clientX', // IE8\n    pageY: 'clientY' // IE8\n  };\n  if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n    coord = missMap[coord];\n  }\n  return host[coord];\n}\n\nmodule.exports = dragula;\n","/*!\n    localForage -- Offline Storage, Improved\n    Version 1.9.0\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb || !idb.open) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support\n        // (see: https://github.com/pouchdb/pouchdb/issues/5572).\n        // Safari 10.1 shipped with fetch, we can use that to detect it.\n        // Note: this creates issues with `window.fetch` polyfills and\n        // overrides; see:\n        // https://github.com/localForage/localForage/issues/856\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            resolve(openreq.result);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback returns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openKeyCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openKeyCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = req.onblocked = function (err) {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(err);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [dbInfo.storeName], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","/**\n * A specialized version of `_.every` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = arrayEvery;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.every` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nmodule.exports = baseEvery;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var apply = require('./_apply'),\n    castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.invoke` without support for individual\n * method arguments.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the method to invoke.\n * @param {Array} args The arguments to invoke the method with.\n * @returns {*} Returns the result of the invoked method.\n */\nfunction baseInvoke(object, path, args) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  var func = object == null ? object : object[toKey(last(path))];\n  return func == null ? undefined : apply(func, object, args);\n}\n\nmodule.exports = baseInvoke;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar regexpTag = '[object RegExp]';\n\n/**\n * The base implementation of `_.isRegExp` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n */\nfunction baseIsRegExp(value) {\n  return isObjectLike(value) && baseGetTag(value) == regexpTag;\n}\n\nmodule.exports = baseIsRegExp;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseSum = require('./_baseSum');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/**\n * The base implementation of `_.mean` and `_.meanBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the mean.\n */\nfunction baseMean(array, iteratee) {\n  var length = array == null ? 0 : array.length;\n  return length ? (baseSum(array, iteratee) / length) : NAN;\n}\n\nmodule.exports = baseMean;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseReduce;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var identity = require('./identity'),\n    metaMap = require('./_metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.some` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction baseSome(collection, predicate) {\n  var result;\n\n  baseEach(collection, function(value, index, collection) {\n    result = predicate(value, index, collection);\n    return !result;\n  });\n  return !!result;\n}\n\nmodule.exports = baseSome;\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n * of key-value pairs for `object` corresponding to the property names of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the key-value pairs.\n */\nfunction baseToPairs(object, props) {\n  return arrayMap(props, function(key) {\n    return [key, object[key]];\n  });\n}\n\nmodule.exports = baseToPairs;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var baseToPairs = require('./_baseToPairs'),\n    getTag = require('./_getTag'),\n    mapToArray = require('./_mapToArray'),\n    setToPairs = require('./_setToPairs');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Creates a `_.toPairs` or `_.toPairsIn` function.\n *\n * @private\n * @param {Function} keysFunc The function to get the keys of a given object.\n * @returns {Function} Returns the new pairs function.\n */\nfunction createToPairs(keysFunc) {\n  return function(object) {\n    var tag = getTag(object);\n    if (tag == mapTag) {\n      return mapToArray(object);\n    }\n    if (tag == setTag) {\n      return setToPairs(object);\n    }\n    return baseToPairs(object, keysFunc(object));\n  };\n}\n\nmodule.exports = createToPairs;\n","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","var isPlainObject = require('./isPlainObject');\n\n/**\n * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n * objects.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {string} key The key of the property to inspect.\n * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n */\nfunction customOmitClone(value) {\n  return isPlainObject(value) ? undefined : value;\n}\n\nmodule.exports = customOmitClone;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var metaMap = require('./_metaMap'),\n    noop = require('./noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n","var realNames = require('./_realNames');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n","/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getHolder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nmodule.exports = getHolder;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/** Used to match wrap detail comments. */\nvar reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n    reSplitDetails = /,? & /;\n\n/**\n * Extracts wrapper details from the `source` body comment.\n *\n * @private\n * @param {string} source The source to inspect.\n * @returns {Array} Returns the wrapper details.\n */\nfunction getWrapDetails(source) {\n  var match = source.match(reWrapDetails);\n  return match ? match[1].split(reSplitDetails) : [];\n}\n\nmodule.exports = getWrapDetails;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","/** Used to match wrap detail comments. */\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;\n\n/**\n * Inserts wrapper `details` in a comment at the top of the `source` body.\n *\n * @private\n * @param {string} source The source to modify.\n * @returns {Array} details The details to insert.\n * @returns {string} Returns the modified source.\n */\nfunction insertWrapDetails(source, details) {\n  var length = details.length;\n  if (!length) {\n    return source;\n  }\n  var lastIndex = length - 1;\n  details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n  details = details.join(length > 2 ? ', ' : ' ');\n  return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\n\nmodule.exports = insertWrapDetails;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var LazyWrapper = require('./_LazyWrapper'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    lodash = require('./wrapperLodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and\n * `_.rearg` modify function arguments, making the order in which they are\n * executed important, preventing the merging of metadata. However, we make\n * an exception for a safe combined case where curried functions have `_.ary`\n * and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & WRAP_BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = value;\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & WRAP_ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nmodule.exports = mergeData;\n","var WeakMap = require('./_WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nmodule.exports = replaceHolders;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var baseSetData = require('./_baseSetData'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity\n * function to avoid garbage collection pauses in V8. See\n * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = shortOut(baseSetData);\n\nmodule.exports = setData;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","/**\n * Converts `set` to its value-value pairs.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the value-value pairs.\n */\nfunction setToPairs(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = [value, value];\n  });\n  return result;\n}\n\nmodule.exports = setToPairs;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var getWrapDetails = require('./_getWrapDetails'),\n    insertWrapDetails = require('./_insertWrapDetails'),\n    setToString = require('./_setToString'),\n    updateWrapDetails = require('./_updateWrapDetails');\n\n/**\n * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n * with wrapper details in a comment at the top of the source body.\n *\n * @private\n * @param {Function} wrapper The function to modify.\n * @param {Function} reference The reference function.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Function} Returns `wrapper`.\n */\nfunction setWrapToString(wrapper, reference, bitmask) {\n  var source = (reference + '');\n  return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n}\n\nmodule.exports = setWrapToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n","var arrayEach = require('./_arrayEach'),\n    arrayIncludes = require('./_arrayIncludes');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256,\n    WRAP_FLIP_FLAG = 512;\n\n/** Used to associate wrap methods with their bit flags. */\nvar wrapFlags = [\n  ['ary', WRAP_ARY_FLAG],\n  ['bind', WRAP_BIND_FLAG],\n  ['bindKey', WRAP_BIND_KEY_FLAG],\n  ['curry', WRAP_CURRY_FLAG],\n  ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n  ['flip', WRAP_FLIP_FLAG],\n  ['partial', WRAP_PARTIAL_FLAG],\n  ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n  ['rearg', WRAP_REARG_FLAG]\n];\n\n/**\n * Updates wrapper `details` based on `bitmask` flags.\n *\n * @private\n * @returns {Array} details The details to modify.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Array} Returns `details`.\n */\nfunction updateWrapDetails(details, bitmask) {\n  arrayEach(wrapFlags, function(pair) {\n    var value = '_.' + pair[0];\n    if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n      details.push(value);\n    }\n  });\n  return details.sort();\n}\n\nmodule.exports = updateWrapDetails;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    copyArray = require('./_copyArray');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nmodule.exports = wrapperClone;\n","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the number of times the key was returned by `iteratee`. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.countBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': 1, '6': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.countBy(['one', 'two', 'three'], 'length');\n * // => { '3': 2, '5': 1 }\n */\nvar countBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    ++result[key];\n  } else {\n    baseAssignValue(result, key, 1);\n  }\n});\n\nmodule.exports = countBy;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8;\n\n/**\n * Creates a function that accepts arguments of `func` and either invokes\n * `func` returning its result, if at least `arity` number of arguments have\n * been provided, or returns a function that accepts the remaining `func`\n * arguments, and so on. The arity of `func` may be specified if `func.length`\n * is not sufficient.\n *\n * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curry(abc);\n *\n * curried(1)(2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(1)(_, 3)(2);\n * // => [1, 2, 3]\n */\nfunction curry(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curry.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurry.placeholder = {};\n\nmodule.exports = curry;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","module.exports = require('./forEach');\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var arrayEvery = require('./_arrayEvery'),\n    baseEvery = require('./_baseEvery'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * Iteration is stopped once `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * **Note:** This method returns `true` for\n * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n * elements of empty collections.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes'], Boolean);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.every(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.every(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, guard) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = every;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","module.exports = require('./head');\n","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIndexOf = require('./_baseIndexOf'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    toInteger = require('./toInteger'),\n    values = require('./values');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'a': 1, 'b': 2 }, 1);\n * // => true\n *\n * _.includes('abcd', 'bc');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nmodule.exports = includes;\n","var baseInvoke = require('./_baseInvoke'),\n    baseRest = require('./_baseRest');\n\n/**\n * Invokes the method at `path` of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the method to invoke.\n * @param {...*} [args] The arguments to invoke the method with.\n * @returns {*} Returns the result of the invoked method.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n *\n * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n * // => [2, 3]\n */\nvar invoke = baseRest(baseInvoke);\n\nmodule.exports = invoke;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && baseGetTag(value) == boolTag);\n}\n\nmodule.exports = isBoolean;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var toInteger = require('./toInteger');\n\n/**\n * Checks if `value` is an integer.\n *\n * **Note:** This method is based on\n * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n * @example\n *\n * _.isInteger(3);\n * // => true\n *\n * _.isInteger(Number.MIN_VALUE);\n * // => false\n *\n * _.isInteger(Infinity);\n * // => false\n *\n * _.isInteger('3');\n * // => false\n */\nfunction isInteger(value) {\n  return typeof value == 'number' && value == toInteger(value);\n}\n\nmodule.exports = isInteger;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var baseIsRegExp = require('./_baseIsRegExp'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsRegExp = nodeUtil && nodeUtil.isRegExp;\n\n/**\n * Checks if `value` is classified as a `RegExp` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n * @example\n *\n * _.isRegExp(/abc/);\n * // => true\n *\n * _.isRegExp('/abc/');\n * // => false\n */\nvar isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\nmodule.exports = isRegExp;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeJoin = arrayProto.join;\n\n/**\n * Converts all elements in `array` into a string separated by `separator`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to convert.\n * @param {string} [separator=','] The element separator.\n * @returns {string} Returns the joined string.\n * @example\n *\n * _.join(['a', 'b', 'c'], '~');\n * // => 'a~b~c'\n */\nfunction join(array, separator) {\n  return array == null ? '' : nativeJoin.call(array, separator);\n}\n\nmodule.exports = join;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","var baseIteratee = require('./_baseIteratee'),\n    baseMean = require('./_baseMean');\n\n/**\n * This method is like `_.mean` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the value to be averaged.\n * The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.7.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {number} Returns the mean.\n * @example\n *\n * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n *\n * _.meanBy(objects, function(o) { return o.n; });\n * // => 5\n *\n * // The `_.property` iteratee shorthand.\n * _.meanBy(objects, 'n');\n * // => 5\n */\nfunction meanBy(array, iteratee) {\n  return baseMean(array, baseIteratee(iteratee, 2));\n}\n\nmodule.exports = meanBy;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseExtremum = require('./_baseExtremum'),\n    baseLt = require('./_baseLt'),\n    identity = require('./identity');\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseLt)\n    : undefined;\n}\n\nmodule.exports = min;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var arrayMap = require('./_arrayMap'),\n    baseClone = require('./_baseClone'),\n    baseUnset = require('./_baseUnset'),\n    castPath = require('./_castPath'),\n    copyObject = require('./_copyObject'),\n    customOmitClone = require('./_customOmitClone'),\n    flatRest = require('./_flatRest'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable property paths of `object` that are not omitted.\n *\n * **Note:** This method is considerably slower than `_.pick`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\nvar omit = flatRest(function(object, paths) {\n  var result = {};\n  if (object == null) {\n    return result;\n  }\n  var isDeep = false;\n  paths = arrayMap(paths, function(path) {\n    path = castPath(path, object);\n    isDeep || (isDeep = path.length > 1);\n    return path;\n  });\n  copyObject(object, getAllKeysIn(object), result);\n  if (isDeep) {\n    result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n  }\n  var length = paths.length;\n  while (length--) {\n    baseUnset(result, paths[length]);\n  }\n  return result;\n});\n\nmodule.exports = omit;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var arrayReduce = require('./_arrayReduce'),\n    baseEach = require('./_baseEach'),\n    baseIteratee = require('./_baseIteratee'),\n    baseReduce = require('./_baseReduce'),\n    isArray = require('./isArray');\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` thru `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given, the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduceRight\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nmodule.exports = reduce;\n","var baseSet = require('./_baseSet');\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","var arraySome = require('./_arraySome'),\n    baseIteratee = require('./_baseIteratee'),\n    baseSome = require('./_baseSome'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Checks if `predicate` returns truthy for **any** element of `collection`.\n * Iteration is stopped once `predicate` returns truthy. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n * @example\n *\n * _.some([null, 0, 'yes', false], Boolean);\n * // => true\n *\n * var users = [\n *   { 'user': 'barney', 'active': true },\n *   { 'user': 'fred',   'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.some(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.some(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.some(users, 'active');\n * // => true\n */\nfunction some(collection, predicate, guard) {\n  var func = isArray(collection) ? arraySome : baseSome;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = some;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseSlice = require('./_baseSlice'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` with `n` elements taken from the beginning.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to take.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.take([1, 2, 3]);\n * // => [1]\n *\n * _.take([1, 2, 3], 2);\n * // => [1, 2]\n *\n * _.take([1, 2, 3], 5);\n * // => [1, 2, 3]\n *\n * _.take([1, 2, 3], 0);\n * // => []\n */\nfunction take(array, n, guard) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nmodule.exports = take;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var toString = require('./toString');\n\n/**\n * Converts `string`, as a whole, to lower case just like\n * [String#toLowerCase](https://mdn.io/toLowerCase).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the lower cased string.\n * @example\n *\n * _.toLower('--Foo-Bar--');\n * // => '--foo-bar--'\n *\n * _.toLower('fooBar');\n * // => 'foobar'\n *\n * _.toLower('__FOO_BAR__');\n * // => '__foo_bar__'\n */\nfunction toLower(value) {\n  return toString(value).toLowerCase();\n}\n\nmodule.exports = toLower;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var createToPairs = require('./_createToPairs'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable string keyed-value pairs for `object`\n * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n * entries are returned.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias entries\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the key-value pairs.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.toPairs(new Foo);\n * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n */\nvar toPairs = createToPairs(keys);\n\nmodule.exports = toPairs;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var baseToString = require('./_baseToString'),\n    castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    isObject = require('./isObject'),\n    isRegExp = require('./isRegExp'),\n    stringSize = require('./_stringSize'),\n    stringToArray = require('./_stringToArray'),\n    toInteger = require('./toInteger'),\n    toString = require('./toString');\n\n/** Used as default options for `_.truncate`. */\nvar DEFAULT_TRUNC_LENGTH = 30,\n    DEFAULT_TRUNC_OMISSION = '...';\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Truncates `string` if it's longer than the given maximum string length.\n * The last characters of the truncated string are replaced with the omission\n * string which defaults to \"...\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to truncate.\n * @param {Object} [options={}] The options object.\n * @param {number} [options.length=30] The maximum string length.\n * @param {string} [options.omission='...'] The string to indicate text is omitted.\n * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n * @returns {string} Returns the truncated string.\n * @example\n *\n * _.truncate('hi-diddly-ho there, neighborino');\n * // => 'hi-diddly-ho there, neighbo...'\n *\n * _.truncate('hi-diddly-ho there, neighborino', {\n *   'length': 24,\n *   'separator': ' '\n * });\n * // => 'hi-diddly-ho there,...'\n *\n * _.truncate('hi-diddly-ho there, neighborino', {\n *   'length': 24,\n *   'separator': /,? +/\n * });\n * // => 'hi-diddly-ho there...'\n *\n * _.truncate('hi-diddly-ho there, neighborino', {\n *   'omission': ' [...]'\n * });\n * // => 'hi-diddly-ho there, neig [...]'\n */\nfunction truncate(string, options) {\n  var length = DEFAULT_TRUNC_LENGTH,\n      omission = DEFAULT_TRUNC_OMISSION;\n\n  if (isObject(options)) {\n    var separator = 'separator' in options ? options.separator : separator;\n    length = 'length' in options ? toInteger(options.length) : length;\n    omission = 'omission' in options ? baseToString(options.omission) : omission;\n  }\n  string = toString(string);\n\n  var strLength = string.length;\n  if (hasUnicode(string)) {\n    var strSymbols = stringToArray(string);\n    strLength = strSymbols.length;\n  }\n  if (length >= strLength) {\n    return string;\n  }\n  var end = length - stringSize(omission);\n  if (end < 1) {\n    return omission;\n  }\n  var result = strSymbols\n    ? castSlice(strSymbols, 0, end).join('')\n    : string.slice(0, end);\n\n  if (separator === undefined) {\n    return result + omission;\n  }\n  if (strSymbols) {\n    end += (result.length - end);\n  }\n  if (isRegExp(separator)) {\n    if (string.slice(end).search(separator)) {\n      var match,\n          substring = result;\n\n      if (!separator.global) {\n        separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n      }\n      separator.lastIndex = 0;\n      while ((match = separator.exec(substring))) {\n        var newEnd = match.index;\n      }\n      result = result.slice(0, newEnd === undefined ? end : newEnd);\n    }\n  } else if (string.indexOf(baseToString(separator), end) != end) {\n    var index = result.lastIndexOf(separator);\n    if (index > -1) {\n      result = result.slice(0, index);\n    }\n  }\n  return result + omission;\n}\n\nmodule.exports = truncate;\n","var baseFlatten = require('./_baseFlatten'),\n    baseIteratee = require('./_baseIteratee'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.union` except that it accepts `iteratee` which is\n * invoked for each element of each `arrays` to generate the criterion by\n * which uniqueness is computed. Result values are chosen from the first\n * array in which the value occurs. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nvar unionBy = baseRest(function(arrays) {\n  var iteratee = last(arrays);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), baseIteratee(iteratee, 2));\n});\n\nmodule.exports = unionBy;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    baseLodash = require('./_baseLodash'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike'),\n    wrapperClone = require('./_wrapperClone');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array and iteratees accept only\n * one argument. The heuristic for whether a section qualifies for shortcut\n * fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nmodule.exports = lodash;\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(render, schedule, console) {\n\tvar subscriptions = []\n\tvar rendering = false\n\tvar pending = false\n\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 0; i < subscriptions.length; i += 2) {\n\t\t\ttry { render(subscriptions[i], Vnode(subscriptions[i + 1]), redraw) }\n\t\t\tcatch (e) { console.error(e) }\n\t\t}\n\t\trendering = false\n\t}\n\n\tfunction redraw() {\n\t\tif (!pending) {\n\t\t\tpending = true\n\t\t\tschedule(function() {\n\t\t\t\tpending = false\n\t\t\t\tsync()\n\t\t\t})\n\t\t}\n\t}\n\n\tredraw.sync = sync\n\n\tfunction mount(root, component) {\n\t\tif (component != null && component.view == null && typeof component !== \"function\") {\n\t\t\tthrow new TypeError(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t}\n\n\t\tvar index = subscriptions.indexOf(root)\n\t\tif (index >= 0) {\n\t\t\tsubscriptions.splice(index, 2)\n\t\t\trender(root, [], redraw)\n\t\t}\n\n\t\tif (component != null) {\n\t\t\tsubscriptions.push(root, component)\n\t\t\trender(root, Vnode(component), redraw)\n\t\t}\n\t}\n\n\treturn {mount: mount, redraw: redraw}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar m = require(\"../render/hyperscript\")\nvar Promise = require(\"../promise/promise\")\n\nvar buildPathname = require(\"../pathname/build\")\nvar parsePathname = require(\"../pathname/parse\")\nvar compileTemplate = require(\"../pathname/compileTemplate\")\nvar assign = require(\"../pathname/assign\")\n\nvar sentinel = {}\n\nmodule.exports = function($window, mountRedraw) {\n\tvar fireAsync\n\n\tfunction setPath(path, data, options) {\n\t\tpath = buildPathname(path, data)\n\t\tif (fireAsync != null) {\n\t\t\tfireAsync()\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, route.prefix + path)\n\t\t\telse $window.history.pushState(state, title, route.prefix + path)\n\t\t}\n\t\telse {\n\t\t\t$window.location.href = route.prefix + path\n\t\t}\n\t}\n\n\tvar currentResolver = sentinel, component, attrs, currentPath, lastUpdate\n\n\tvar SKIP = route.SKIP = {}\n\n\tfunction route(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\t// 0 = start\n\t\t// 1 = init\n\t\t// 2 = ready\n\t\tvar state = 0\n\n\t\tvar compiled = Object.keys(routes).map(function(route) {\n\t\t\tif (route[0] !== \"/\") throw new SyntaxError(\"Routes must start with a `/`\")\n\t\t\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(route)) {\n\t\t\t\tthrow new SyntaxError(\"Route parameter names must be separated with either `/`, `.`, or `-`\")\n\t\t\t}\n\t\t\treturn {\n\t\t\t\troute: route,\n\t\t\t\tcomponent: routes[route],\n\t\t\t\tcheck: compileTemplate(route),\n\t\t\t}\n\t\t})\n\t\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\t\tvar p = Promise.resolve()\n\t\tvar scheduled = false\n\t\tvar onremove\n\n\t\tfireAsync = null\n\n\t\tif (defaultRoute != null) {\n\t\t\tvar defaultData = parsePathname(defaultRoute)\n\n\t\t\tif (!compiled.some(function (i) { return i.check(defaultData) })) {\n\t\t\t\tthrow new ReferenceError(\"Default route doesn't match any known routes\")\n\t\t\t}\n\t\t}\n\n\t\tfunction resolveRoute() {\n\t\t\tscheduled = false\n\t\t\t// Consider the pathname holistically. The prefix might even be invalid,\n\t\t\t// but that's not our problem.\n\t\t\tvar prefix = $window.location.hash\n\t\t\tif (route.prefix[0] !== \"#\") {\n\t\t\t\tprefix = $window.location.search + prefix\n\t\t\t\tif (route.prefix[0] !== \"?\") {\n\t\t\t\t\tprefix = $window.location.pathname + prefix\n\t\t\t\t\tif (prefix[0] !== \"/\") prefix = \"/\" + prefix\n\t\t\t\t}\n\t\t\t}\n\t\t\t// This seemingly useless `.concat()` speeds up the tests quite a bit,\n\t\t\t// since the representation is consistently a relatively poorly\n\t\t\t// optimized cons string.\n\t\t\tvar path = prefix.concat()\n\t\t\t\t.replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\t\t\t.slice(route.prefix.length)\n\t\t\tvar data = parsePathname(path)\n\n\t\t\tassign(data.params, $window.history.state)\n\n\t\t\tfunction fail() {\n\t\t\t\tif (path === defaultRoute) throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t\t\tsetPath(defaultRoute, null, {replace: true})\n\t\t\t}\n\n\t\t\tloop(0)\n\t\t\tfunction loop(i) {\n\t\t\t\t// 0 = init\n\t\t\t\t// 1 = scheduled\n\t\t\t\t// 2 = done\n\t\t\t\tfor (; i < compiled.length; i++) {\n\t\t\t\t\tif (compiled[i].check(data)) {\n\t\t\t\t\t\tvar payload = compiled[i].component\n\t\t\t\t\t\tvar matchedRoute = compiled[i].route\n\t\t\t\t\t\tvar localComp = payload\n\t\t\t\t\t\tvar update = lastUpdate = function(comp) {\n\t\t\t\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\t\t\t\tif (comp === SKIP) return loop(i + 1)\n\t\t\t\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\t\t\t\tattrs = data.params, currentPath = path, lastUpdate = null\n\t\t\t\t\t\t\tcurrentResolver = payload.render ? payload : null\n\t\t\t\t\t\t\tif (state === 2) mountRedraw.redraw()\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstate = 2\n\t\t\t\t\t\t\t\tmountRedraw.redraw.sync()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// There's no understating how much I *wish* I could\n\t\t\t\t\t\t// use `async`/`await` here...\n\t\t\t\t\t\tif (payload.view || typeof payload === \"function\") {\n\t\t\t\t\t\t\tpayload = {}\n\t\t\t\t\t\t\tupdate(localComp)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (payload.onmatch) {\n\t\t\t\t\t\t\tp.then(function () {\n\t\t\t\t\t\t\t\treturn payload.onmatch(data.params, path, matchedRoute)\n\t\t\t\t\t\t\t}).then(update, fail)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse update(\"div\")\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfail()\n\t\t\t}\n\t\t}\n\n\t\t// Set it unconditionally so `m.route.set` and `m.route.Link` both work,\n\t\t// even if neither `pushState` nor `hashchange` are supported. It's\n\t\t// cleared if `hashchange` is used, since that makes it automatically\n\t\t// async.\n\t\tfireAsync = function() {\n\t\t\tif (!scheduled) {\n\t\t\t\tscheduled = true\n\t\t\t\tcallAsync(resolveRoute)\n\t\t\t}\n\t\t}\n\n\t\tif (typeof $window.history.pushState === \"function\") {\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"popstate\", fireAsync, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"popstate\", fireAsync, false)\n\t\t} else if (route.prefix[0] === \"#\") {\n\t\t\tfireAsync = null\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"hashchange\", resolveRoute, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"hashchange\", resolveRoute, false)\n\t\t}\n\n\t\treturn mountRedraw.mount(root, {\n\t\t\tonbeforeupdate: function() {\n\t\t\t\tstate = state ? 2 : 1\n\t\t\t\treturn !(!state || sentinel === currentResolver)\n\t\t\t},\n\t\t\toncreate: resolveRoute,\n\t\t\tonremove: onremove,\n\t\t\tview: function() {\n\t\t\t\tif (!state || sentinel === currentResolver) return\n\t\t\t\t// Wrap in a fragment to preserve existing key semantics\n\t\t\t\tvar vnode = [Vnode(component, attrs.key, attrs)]\n\t\t\t\tif (currentResolver) vnode = currentResolver.render(vnode[0])\n\t\t\t\treturn vnode\n\t\t\t},\n\t\t})\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\tsetPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = \"#!\"\n\troute.Link = {\n\t\tview: function(vnode) {\n\t\t\tvar options = vnode.attrs.options\n\t\t\t// Remove these so they don't get overwritten\n\t\t\tvar attrs = {}, onclick, href\n\t\t\tassign(attrs, vnode.attrs)\n\t\t\t// The first two are internal, but the rest are magic attributes\n\t\t\t// that need censored to not screw up rendering.\n\t\t\tattrs.selector = attrs.options = attrs.key = attrs.oninit =\n\t\t\tattrs.oncreate = attrs.onbeforeupdate = attrs.onupdate =\n\t\t\tattrs.onbeforeremove = attrs.onremove = null\n\n\t\t\t// Do this now so we can get the most current `href` and `disabled`.\n\t\t\t// Those attributes may also be specified in the selector, and we\n\t\t\t// should honor that.\n\t\t\tvar child = m(vnode.attrs.selector || \"a\", attrs, vnode.children)\n\n\t\t\t// Let's provide a *right* way to disable a route link, rather than\n\t\t\t// letting people screw up accessibility on accident.\n\t\t\t//\n\t\t\t// The attribute is coerced so users don't get surprised over\n\t\t\t// `disabled: 0` resulting in a button that's somehow routable\n\t\t\t// despite being visibly disabled.\n\t\t\tif (child.attrs.disabled = Boolean(child.attrs.disabled)) {\n\t\t\t\tchild.attrs.href = null\n\t\t\t\tchild.attrs[\"aria-disabled\"] = \"true\"\n\t\t\t\t// If you *really* do want to do this on a disabled link, use\n\t\t\t\t// an `oncreate` hook to add it.\n\t\t\t\tchild.attrs.onclick = null\n\t\t\t} else {\n\t\t\t\tonclick = child.attrs.onclick\n\t\t\t\thref = child.attrs.href\n\t\t\t\tchild.attrs.href = route.prefix + href\n\t\t\t\tchild.attrs.onclick = function(e) {\n\t\t\t\t\tvar result\n\t\t\t\t\tif (typeof onclick === \"function\") {\n\t\t\t\t\t\tresult = onclick.call(e.currentTarget, e)\n\t\t\t\t\t} else if (onclick == null || typeof onclick !== \"object\") {\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t} else if (typeof onclick.handleEvent === \"function\") {\n\t\t\t\t\t\tonclick.handleEvent(e)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Adapted from React Router's implementation:\n\t\t\t\t\t// https://github.com/ReactTraining/react-router/blob/520a0acd48ae1b066eb0b07d6d4d1790a1d02482/packages/react-router-dom/modules/Link.js\n\t\t\t\t\t//\n\t\t\t\t\t// Try to be flexible and intuitive in how we handle links.\n\t\t\t\t\t// Fun fact: links aren't as obvious to get right as you\n\t\t\t\t\t// would expect. There's a lot more valid ways to click a\n\t\t\t\t\t// link than this, and one might want to not simply click a\n\t\t\t\t\t// link, but right click or command-click it to copy the\n\t\t\t\t\t// link target, etc. Nope, this isn't just for blind people.\n\t\t\t\t\tif (\n\t\t\t\t\t\t// Skip if `onclick` prevented default\n\t\t\t\t\t\tresult !== false && !e.defaultPrevented &&\n\t\t\t\t\t\t// Ignore everything but left clicks\n\t\t\t\t\t\t(e.button === 0 || e.which === 0 || e.which === 1) &&\n\t\t\t\t\t\t// Let the browser handle `target=_blank`, etc.\n\t\t\t\t\t\t(!e.currentTarget.target || e.currentTarget.target === \"_self\") &&\n\t\t\t\t\t\t// No modifier keys\n\t\t\t\t\t\t!e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey\n\t\t\t\t\t) {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.redraw = false\n\t\t\t\t\t\troute.set(href, null, options)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn child\n\t\t},\n\t}\n\troute.param = function(key) {\n\t\treturn attrs && key != null ? attrs[key] : attrs\n\t}\n\n\treturn route\n}\n","\"use strict\"\n\nvar hyperscript = require(\"./render/hyperscript\")\n\nhyperscript.trust = require(\"./render/trust\")\nhyperscript.fragment = require(\"./render/fragment\")\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar hyperscript = require(\"./hyperscript\")\nvar request = require(\"./request\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\nm.mount = mountRedraw.mount\nm.route = require(\"./route\")\nm.render = require(\"./render\")\nm.redraw = mountRedraw.redraw\nm.request = request.request\nm.jsonp = request.jsonp\nm.parseQueryString = require(\"./querystring/parse\")\nm.buildQueryString = require(\"./querystring/build\")\nm.parsePathname = require(\"./pathname/parse\")\nm.buildPathname = require(\"./pathname/build\")\nm.vnode = require(\"./render/vnode\")\nm.PromisePolyfill = require(\"./promise/polyfill\")\n\nmodule.exports = m\n","\"use strict\"\n\nvar render = require(\"./render\")\n\nmodule.exports = require(\"./api/mount-redraw\")(render, requestAnimationFrame, console)\n","\"use strict\"\n\nmodule.exports = Object.assign || function(target, source) {\n\tif(source) Object.keys(source).forEach(function(key) { target[key] = source[key] })\n}\n","\"use strict\"\n\nvar buildQueryString = require(\"../querystring/build\")\nvar assign = require(\"./assign\")\n\n// Returns `path` from `template` + `params`\nmodule.exports = function(template, params) {\n\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(template)) {\n\t\tthrow new SyntaxError(\"Template parameter names *must* be separated\")\n\t}\n\tif (params == null) return template\n\tvar queryIndex = template.indexOf(\"?\")\n\tvar hashIndex = template.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? template.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = template.slice(0, pathEnd)\n\tvar query = {}\n\n\tassign(query, params)\n\n\tvar resolved = path.replace(/:([^\\/\\.-]+)(\\.{3})?/g, function(m, key, variadic) {\n\t\tdelete query[key]\n\t\t// If no such parameter exists, don't interpolate it.\n\t\tif (params[key] == null) return m\n\t\t// Escape normal parameters, but not variadic ones.\n\t\treturn variadic ? params[key] : encodeURIComponent(String(params[key]))\n\t})\n\n\t// In case the template substitution adds new query/hash parameters.\n\tvar newQueryIndex = resolved.indexOf(\"?\")\n\tvar newHashIndex = resolved.indexOf(\"#\")\n\tvar newQueryEnd = newHashIndex < 0 ? resolved.length : newHashIndex\n\tvar newPathEnd = newQueryIndex < 0 ? newQueryEnd : newQueryIndex\n\tvar result = resolved.slice(0, newPathEnd)\n\n\tif (queryIndex >= 0) result += template.slice(queryIndex, queryEnd)\n\tif (newQueryIndex >= 0) result += (queryIndex < 0 ? \"?\" : \"&\") + resolved.slice(newQueryIndex, newQueryEnd)\n\tvar querystring = buildQueryString(query)\n\tif (querystring) result += (queryIndex < 0 && newQueryIndex < 0 ? \"?\" : \"&\") + querystring\n\tif (hashIndex >= 0) result += template.slice(hashIndex)\n\tif (newHashIndex >= 0) result += (hashIndex < 0 ? \"\" : \"&\") + resolved.slice(newHashIndex)\n\treturn result\n}\n","\"use strict\"\n\nvar parsePathname = require(\"./parse\")\n\n// Compiles a template into a function that takes a resolved path (without query\n// strings) and returns an object containing the template parameters with their\n// parsed values. This expects the input of the compiled template to be the\n// output of `parsePathname`. Note that it does *not* remove query parameters\n// specified in the template.\nmodule.exports = function(template) {\n\tvar templateData = parsePathname(template)\n\tvar templateKeys = Object.keys(templateData.params)\n\tvar keys = []\n\tvar regexp = new RegExp(\"^\" + templateData.path.replace(\n\t\t// I escape literal text so people can use things like `:file.:ext` or\n\t\t// `:lang-:locale` in routes. This is all merged into one pass so I\n\t\t// don't also accidentally escape `-` and make it harder to detect it to\n\t\t// ban it from template parameters.\n\t\t/:([^\\/.-]+)(\\.{3}|\\.(?!\\.)|-)?|[\\\\^$*+.()|\\[\\]{}]/g,\n\t\tfunction(m, key, extra) {\n\t\t\tif (key == null) return \"\\\\\" + m\n\t\t\tkeys.push({k: key, r: extra === \"...\"})\n\t\t\tif (extra === \"...\") return \"(.*)\"\n\t\t\tif (extra === \".\") return \"([^/]+)\\\\.\"\n\t\t\treturn \"([^/]+)\" + (extra || \"\")\n\t\t}\n\t) + \"$\")\n\treturn function(data) {\n\t\t// First, check the params. Usually, there isn't any, and it's just\n\t\t// checking a static set.\n\t\tfor (var i = 0; i < templateKeys.length; i++) {\n\t\t\tif (templateData.params[templateKeys[i]] !== data.params[templateKeys[i]]) return false\n\t\t}\n\t\t// If no interpolations exist, let's skip all the ceremony\n\t\tif (!keys.length) return regexp.test(data.path)\n\t\tvar values = regexp.exec(data.path)\n\t\tif (values == null) return false\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tdata.params[keys[i].k] = keys[i].r ? values[i + 1] : decodeURIComponent(values[i + 1])\n\t\t}\n\t\treturn true\n\t}\n}\n","\"use strict\"\n\nvar parseQueryString = require(\"../querystring/parse\")\n\n// Returns `{path, params}` from `url`\nmodule.exports = function(url) {\n\tvar queryIndex = url.indexOf(\"?\")\n\tvar hashIndex = url.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? url.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = url.slice(0, pathEnd).replace(/\\/{2,}/g, \"/\")\n\n\tif (!path) path = \"/\"\n\telse {\n\t\tif (path[0] !== \"/\") path = \"/\" + path\n\t\tif (path.length > 1 && path[path.length - 1] === \"/\") path = path.slice(0, -1)\n\t}\n\treturn {\n\t\tpath: path,\n\t\tparams: queryIndex < 0\n\t\t\t? {}\n\t\t\t: parseQueryString(url.slice(queryIndex + 1, queryEnd)),\n\t}\n}\n","\"use strict\"\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\n\nmodule.exports = PromisePolyfill\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./polyfill\")\n\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = global.Promise\n} else {\n\tmodule.exports = PromisePolyfill\n}\n","\"use strict\"\n\nmodule.exports = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\n\treturn args.join(\"&\")\n\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\n","\"use strict\"\n\nmodule.exports = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\n\tvar entries = string.split(\"&\"), counters = {}, data = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\n\t\tvar levels = key.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data\n\t\tif (key.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key = levels.slice(0, j).join()\n\t\t\t\tif (counters[key] == null) {\n\t\t\t\t\tcounters[key] = Array.isArray(cursor) ? cursor.length : 0\n\t\t\t\t}\n\t\t\t\tlevel = counters[key]++\n\t\t\t}\n\t\t\t// Disallow direct prototype pollution\n\t\t\telse if (level === \"__proto__\") break\n\t\t\tif (j === levels.length - 1) cursor[level] = value\n\t\t\telse {\n\t\t\t\t// Read own properties exclusively to disallow indirect\n\t\t\t\t// prototype pollution\n\t\t\t\tvar desc = Object.getOwnPropertyDescriptor(cursor, level)\n\t\t\t\tif (desc != null) desc = desc.value\n\t\t\t\tif (desc == null) cursor[level] = desc = isNumber ? [] : {}\n\t\t\t\tcursor = desc\n\t\t\t}\n\t\t}\n\t}\n\treturn data\n}\n","\"use strict\"\n\nmodule.exports = require(\"./render/render\")(window)\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nmodule.exports = function() {\n\tvar vnode = hyperscriptVnode.apply(0, arguments)\n\n\tvnode.tag = \"[\"\n\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\treturn vnode\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\n\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\n\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\n\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\n\t\tattrs = newAttrs\n\t}\n\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\n\tif (hasClass) attrs.class = null\n\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\n\treturn vnode\n}\n\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\n\tvnode.tag = selector\n\treturn vnode\n}\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\n// Call via `hyperscriptVnode.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript` and `fragment` factories and define this as\n// `hyperscriptVnode(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// module.exports = function(attrs, ...children) {\n//     if (attrs == null || typeof attrs === \"object\" && attrs.tag == null && !Array.isArray(attrs)) {\n//         if (children.length === 1 && Array.isArray(children[0])) children = children[0]\n//     } else {\n//         children = children.length === 0 && Array.isArray(attrs) ? attrs : [attrs, ...children]\n//         attrs = undefined\n//     }\n//\n//     if (attrs == null) attrs = {}\n//     return Vnode(\"\", attrs.key, attrs, children)\n// }\nmodule.exports = function() {\n\tvar attrs = arguments[this], start = this + 1, children\n\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = this\n\t}\n\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\n\treturn Vnode(\"\", attrs.key, attrs, children)\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function($window) {\n\tvar $doc = $window && $window.document\n\tvar currentRedraw\n\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\n\t//sanity check to discourage people from doing `vnode.state = ...`\n\tfunction checkState(vnode, original) {\n\t\tif (vnode.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode) {\n\t\tvar original = vnode.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode, original)\n\t\t}\n\t}\n\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode, ns, nextSibling) {\n\t\tvar match = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode.children\n\t\t}\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\t// Capture nodes to remove, so we don't confuse them.\n\t\tvnode.instance = []\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tvnode.instance.push(child)\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs = vnode.attrs\n\t\tvar is = attrs && attrs.is\n\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\n\t\tif (attrs != null) {\n\t\t\tsetAttrs(vnode, attrs, ns)\n\t\t}\n\n\t\tinsertNode(parent, element, nextSibling)\n\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tif (vnode.tag === \"select\" && attrs != null) setLateSelectAttrs(vnode, attrs)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tinitLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tcreateNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t}\n\t}\n\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index (for the old list), then iterate\n\t// over the new list and for each new vnode, find the corresponding vnode in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index, the DOM nodes up to the previous\n\t// vnode reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next sibling (cached in the `nextSibling` variable).\n\n\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(parent, old, 0, old.length)\n\t\telse {\n\t\t\tvar isOldKeyed = old[0] != null && old[0].key != null\n\t\t\tvar isKeyed = vnodes[0] != null && vnodes[0].key != null\n\t\t\tvar start = 0, oldStart = 0\n\t\t\tif (!isOldKeyed) while (oldStart < old.length && old[oldStart] == null) oldStart++\n\t\t\tif (!isKeyed) while (start < vnodes.length && vnodes[start] == null) start++\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(parent, old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(parent, o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(parent, old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o.key !== v.key) break\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (start === end) break\n\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\tmoveNodes(parent, oe, topSibling)\n\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\tif (++start <= --end) moveNodes(parent, o, nextSibling)\n\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse moveNodes(parent, v, nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode.events = old.events\n\t\t\tif (shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(parent, old)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, ns, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\tremoveHTML(parent, old)\n\t\t\tcreateHTML(parent, vnode, ns, nextSibling)\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t}\n\t}\n\tfunction updateFragment(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t\tupdateNodes(element, old.children, vnode.children, hooks, null, ns)\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(parent, old.instance)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode = vnodes[start]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key = vnode.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tvar lisTemp = []\n\tfunction makeLisIndices(a) {\n\t\tvar result = [0]\n\t\tvar u = 0, v = 0, i = 0\n\t\tvar il = lisTemp.length = a.length\n\t\tfor (var i = 0; i < il; i++) lisTemp[i] = a[i]\n\t\tfor (var i = 0; i < il; ++i) {\n\t\t\tif (a[i] === -1) continue\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tlisTemp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\t// Fast integer average without overflow.\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tvar c = (u >>> 1) + (v >>> 1) + (u & v & 1)\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) lisTemp[i] = result[u - 1]\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = lisTemp[v]\n\t\t}\n\t\tlisTemp.length = 0\n\t\treturn result\n\t}\n\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\n\t// This covers a really specific edge case:\n\t// - Parent node is keyed and contains child\n\t// - Child is removed, returns unresolved promise in `onbeforeremove`\n\t// - Parent node is moved in keyed diff\n\t// - Remaining children still need moved appropriately\n\t//\n\t// Ideally, I'd track removed nodes as well, but that introduces a lot more\n\t// complexity and I'm not exactly interested in doing that.\n\tfunction moveNodes(parent, vnode, nextSibling) {\n\t\tvar frag = $doc.createDocumentFragment()\n\t\tmoveChildToFrag(parent, frag, vnode)\n\t\tinsertNode(parent, frag, nextSibling)\n\t}\n\tfunction moveChildToFrag(parent, frag, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\t\t\tfrag.appendChild(vnode.instance[i])\n\t\t\t\t}\n\t\t\t} else if (vnode.tag !== \"[\") {\n\t\t\t\t// Don't recurse for text nodes *or* elements, just fragments\n\t\t\t\tfrag.appendChild(vnode.dom)\n\t\t\t} else if (vnode.children.length === 1) {\n\t\t\t\tvnode = vnode.children[0]\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\tif (child != null) moveChildToFrag(parent, frag, child)\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\n\tfunction maybeSetContentEditable(vnode) {\n\t\tif (vnode.attrs == null || (\n\t\t\tvnode.attrs.contenteditable == null && // attribute\n\t\t\tvnode.attrs.contentEditable == null // property\n\t\t)) return false\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t\treturn true\n\t}\n\n\t//remove\n\tfunction removeNodes(parent, vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) removeNode(parent, vnode)\n\t\t}\n\t}\n\tfunction removeNode(parent, vnode) {\n\t\tvar mask = 0\n\t\tvar original = vnode.state\n\t\tvar stateResult, attrsResult\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.state.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\tmask = 1\n\t\t\t\tstateResult = result\n\t\t\t}\n\t\t}\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.attrs.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tmask |= 2\n\t\t\t\tattrsResult = result\n\t\t\t}\n\t\t}\n\t\tcheckState(vnode, original)\n\n\t\t// If we can, try to fast-path it and avoid all the overhead of awaiting\n\t\tif (!mask) {\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t} else {\n\t\t\tif (stateResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 1) { mask &= 2; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tstateResult.then(next, next)\n\t\t\t}\n\t\t\tif (attrsResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 2) { mask &= 1; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tattrsResult.then(next, next)\n\t\t\t}\n\t\t}\n\n\t\tfunction reallyRemove() {\n\t\t\tcheckState(vnode, original)\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t}\n\t}\n\tfunction removeHTML(parent, vnode) {\n\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\tparent.removeChild(vnode.instance[i])\n\t\t}\n\t}\n\tfunction removeChild(parent, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tremoveHTML(parent, vnode)\n\t\t\t} else {\n\t\t\t\tif (vnode.tag !== \"[\") {\n\t\t\t\t\tparent.removeChild(vnode.dom)\n\t\t\t\t\tif (!Array.isArray(vnode.children)) break\n\t\t\t\t}\n\t\t\t\tif (vnode.children.length === 1) {\n\t\t\t\t\tvnode = vnode.children[0]\n\t\t\t\t\tif (vnode != null) continue\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\t\tif (child != null) removeChild(parent, child)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\tfunction onremove(vnode) {\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onremove === \"function\") callHook.call(vnode.state.onremove, vnode)\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") callHook.call(vnode.attrs.onremove, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//attrs\n\tfunction setAttrs(vnode, attrs, ns) {\n\t\tfor (var key in attrs) {\n\t\t\tsetAttr(vnode, key, null, attrs[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, value)\n\t\telse if (hasPropertyKey(vnode, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === \"\" + value && vnode.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t\tif (vnode.tag === \"input\" && key === \"type\") vnode.dom.setAttribute(key, value)\n\t\t\telse vnode.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode.tag === \"option\"\n\t\t\t\t|| vnode.tag === \"select\" && vnode.dom.selectedIndex === -1 && vnode.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode, attrs) {\n\t\tif (\"value\" in attrs) {\n\t\t\tif(attrs.value === null) {\n\t\t\t\tif (vnode.dom.selectedIndex !== -1) vnode.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode.dom.value !== normalized || vnode.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs) setAttr(vnode, \"selectedIndex\", null, attrs.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode, old, attrs, ns) {\n\t\tif (attrs != null) {\n\t\t\tfor (var key in attrs) {\n\t\t\t\tsetAttr(vnode, key, old && old[key], attrs[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs == null || attrs[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === activeElement() || vnode.tag === \"option\" && vnode.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode.tag.indexOf(\"-\") > -1 || vnode.attrs != null && vnode.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode.dom\n\t}\n\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {\n\t\t// Save this, so the current redraw is correctly tracked.\n\t\tthis._ = currentRedraw\n\t}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler === \"function\") result = handler.call(ev.currentTarget, ev)\n\t\telse if (typeof handler.handleEvent === \"function\") handler.handleEvent(ev)\n\t\tif (this._ && ev.redraw !== false) (0, this._)()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\n\t//event\n\tfunction updateEvent(vnode, key, value) {\n\t\tif (vnode.events != null) {\n\t\t\tif (vnode.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode.events[key] == null) vnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode.events[key] != null) vnode.dom.removeEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode.events = new EventDict()\n\t\t\tvnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\tvnode.events[key] = value\n\t\t}\n\t}\n\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tdo {\n\t\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.attrs.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.state.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode.dom = old.dom\n\t\tvnode.domSize = old.domSize\n\t\tvnode.instance = old.instance\n\t\t// One would think having the actual latest attributes would be ideal,\n\t\t// but it doesn't let us properly diff based on our current internal\n\t\t// representation. We have to save not only the old DOM info, but also\n\t\t// the attributes used to create it, as we diff *that*, not against the\n\t\t// DOM directly (with a few exceptions in `setAttr`). And, of course, we\n\t\t// need to save the children and text as they are conceptually not\n\t\t// unlike special \"attributes\" internally.\n\t\tvnode.attrs = old.attrs\n\t\tvnode.children = old.children\n\t\tvnode.text = old.text\n\t\treturn true\n\t}\n\n\treturn function(dom, vnodes, redraw) {\n\t\tif (!dom) throw new TypeError(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\n\t\t// First time rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tvar prevRedraw = currentRedraw\n\t\ttry {\n\t\t\tcurrentRedraw = typeof redraw === \"function\" ? redraw : undefined\n\t\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\t} finally {\n\t\t\tcurrentRedraw = prevRedraw\n\t\t}\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\n","\"use strict\"\n\nfunction Vnode(tag, key, attrs, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs, children: children, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node == null || typeof node === \"boolean\") return null\n\tif (typeof node === \"object\") return node\n\treturn Vnode(\"#\", undefined, undefined, String(node), undefined, undefined)\n}\nVnode.normalizeChildren = function(input) {\n\tvar children = []\n\tif (input.length) {\n\t\tvar isKeyed = input[0] != null && input[0].key != null\n\t\t// Note: this is a *very* perf-sensitive check.\n\t\t// Fun fact: merging the loop like this is somehow faster than splitting\n\t\t// it, noticeably so.\n\t\tfor (var i = 1; i < input.length; i++) {\n\t\t\tif ((input[i] != null && input[i].key != null) !== isKeyed) {\n\t\t\t\tthrow new TypeError(\"Vnodes must either always have keys or never have keys!\")\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tchildren[i] = Vnode.normalize(input[i])\n\t\t}\n\t}\n\treturn children\n}\n\nmodule.exports = Vnode\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./promise/promise\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./request/request\")(window, PromisePolyfill, mountRedraw.redraw)\n","\"use strict\"\n\nvar buildPathname = require(\"../pathname/build\")\n\nmodule.exports = function($window, Promise, oncompletion) {\n\tvar callbackCount = 0\n\n\tfunction PromiseProxy(executor) {\n\t\treturn new Promise(executor)\n\t}\n\n\t// In case the global Promise is some userland library's where they rely on\n\t// `foo instanceof this.constructor`, `this.constructor.resolve(value)`, or\n\t// similar. Let's *not* break them.\n\tPromiseProxy.prototype = Promise.prototype\n\tPromiseProxy.__proto__ = Promise // eslint-disable-line no-proto\n\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(buildPathname(url, args.params), args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\n\t\t\treturn wrap(promise)\n\n\t\t\tfunction wrap(promise) {\n\t\t\t\tvar then = promise.then\n\t\t\t\t// Set the constructor, so engines know to not await or resolve\n\t\t\t\t// this as a native promise. At the time of writing, this is\n\t\t\t\t// only necessary for V8, but their behavior is the correct\n\t\t\t\t// behavior per spec. See this spec issue for more details:\n\t\t\t\t// https://github.com/tc39/ecma262/issues/1577. Also, see the\n\t\t\t\t// corresponding comment in `request/tests/test-request.js` for\n\t\t\t\t// a bit more background on the issue at hand.\n\t\t\t\tpromise.constructor = PromiseProxy\n\t\t\t\tpromise.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then.apply(promise, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar body = args.body\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(body instanceof $window.FormData)\n\t\t\tvar responseType = args.responseType || (typeof args.extract === \"function\" ? \"\" : \"json\")\n\n\t\t\tvar xhr = new $window.XMLHttpRequest(), aborted = false\n\t\t\tvar original = xhr, replacedAbort\n\t\t\tvar abort = xhr.abort\n\n\t\t\txhr.abort = function() {\n\t\t\t\taborted = true\n\t\t\t\tabort.call(this)\n\t\t\t}\n\n\t\t\txhr.open(method, url, args.async !== false, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\n\t\t\tif (assumeJSON && body != null && !hasHeader(args, /^content-type$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\txhr.responseType = responseType\n\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.onreadystatechange = function(ev) {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif (aborted) return\n\n\t\t\t\tif (ev.target.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (ev.target.status >= 200 && ev.target.status < 300) || ev.target.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\t// When the response type isn't \"\" or \"text\",\n\t\t\t\t\t\t// `xhr.responseText` is the wrong thing to use.\n\t\t\t\t\t\t// Browsers do the right thing and throw here, and we\n\t\t\t\t\t\t// should honor that and do the right thing by\n\t\t\t\t\t\t// preferring `xhr.response` where possible/practical.\n\t\t\t\t\t\tvar response = ev.target.response, message\n\n\t\t\t\t\t\tif (responseType === \"json\") {\n\t\t\t\t\t\t\t// For IE and Edge, which don't implement\n\t\t\t\t\t\t\t// `responseType: \"json\"`.\n\t\t\t\t\t\t\tif (!ev.target.responseType && typeof args.extract !== \"function\") response = JSON.parse(ev.target.responseText)\n\t\t\t\t\t\t} else if (!responseType || responseType === \"text\") {\n\t\t\t\t\t\t\t// Only use this default if it's text. If a parsed\n\t\t\t\t\t\t\t// document is needed on old IE and friends (all\n\t\t\t\t\t\t\t// unsupported), the user should use a custom\n\t\t\t\t\t\t\t// `config` instead. They're already using this at\n\t\t\t\t\t\t\t// their own risk.\n\t\t\t\t\t\t\tif (response == null) response = ev.target.responseText\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(ev.target, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttry { message = ev.target.responseText }\n\t\t\t\t\t\t\tcatch (e) { message = response }\n\t\t\t\t\t\t\tvar error = new Error(message)\n\t\t\t\t\t\t\terror.code = ev.target.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof args.config === \"function\") {\n\t\t\t\txhr = args.config(xhr, args, url) || xhr\n\n\t\t\t\t// Propagate the `abort` to any replacement XHR as well.\n\t\t\t\tif (xhr !== original) {\n\t\t\t\t\treplacedAbort = xhr.abort\n\t\t\t\t\txhr.abort = function() {\n\t\t\t\t\t\taborted = true\n\t\t\t\t\t\treplacedAbort.call(this)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (body == null) xhr.send()\n\t\t\telse if (typeof args.serialize === \"function\") xhr.send(args.serialize(body))\n\t\t\telse if (body instanceof $window.FormData) xhr.send(body)\n\t\t\telse xhr.send(JSON.stringify(body))\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t}\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t}\n}\n","\"use strict\"\n\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./api/router\")(window, mountRedraw)\n","/*\n * Smart-Search\n * https://github.com/vdefilip/smart-search\n * Licensed under the MIT license.\n */\n\n'use strict';\n\n(function () {\n\n  var _match = function (pattern, text, offset, options) {\n    var insertions = 0;\n    var matchIndexes = [];\n    var iPattern = 0;\n    for (var iText=offset; iText<text.length; iText++) {\n      if (text[iText] === pattern[iPattern]) {\n        matchIndexes.push(iText);\n        if (++iPattern === pattern.length) {\n          return ({\n            insertions: insertions,\n            matchIndexes: matchIndexes,\n          });\n        }\n      } else if (matchIndexes.length) {\n        insertions++;\n        if (options.maxInsertions > -1\n          && insertions > options.maxInsertions) {\n          return null;\n        }\n      }\n    }\n    return null;\n  };\n\n  var _find = function (pattern, text, options) {\n    var match = false;\n    var insertions = null;\n    var matchIndexes = null;\n    var iPattern = 0;\n    if (options.caseSensitive === false) {\n      pattern = pattern.toLowerCase();\n      text = text.toLowerCase();\n    }\n    for (var iText=0; iText<text.length; iText++) {\n      if (text[iText] === pattern[iPattern]) {\n        var res = _match(pattern, text, iText, options);\n        if (res && (match === false || res.insertions <= insertions)) {\n          if (match === false || res.insertions < insertions) {\n            match = true;\n            insertions = res.insertions;\n            matchIndexes = res.matchIndexes;\n          } else {\n            matchIndexes = matchIndexes.concat(res.matchIndexes);\n          }\n        }\n      }\n    }\n    if (match) {\n      return ({\n        value: pattern,\n        insertions: insertions,\n        matchIndexes: matchIndexes,\n      });\n    }\n    return null;\n  };\n\n  var _score = function (entryResults) {\n    var patternsMinInsertions = {};\n    var patternsMinMatchIndex = {};\n    entryResults.forEach(function (fieldResults) {\n      fieldResults.patterns.forEach(function (pattern) {\n        if (patternsMinInsertions[pattern.value] === undefined\n          || pattern.insertions < patternsMinInsertions[pattern.value]) {\n          patternsMinInsertions[pattern.value] = pattern.insertions;\n          patternsMinMatchIndex[pattern.value] = pattern.matchIndexes;\n        }\n      });\n    });\n    var minInsertions = 0;\n    var minMatchIndex = [];\n    for (var pattern in patternsMinInsertions) {\n      if (patternsMinInsertions.hasOwnProperty(pattern)) {\n        minInsertions += patternsMinInsertions[pattern];\n        minMatchIndex = minMatchIndex.concat(patternsMinMatchIndex[pattern]);\n      }\n    }\n    return minInsertions + minMatchIndex.sort()[0] / 1000;\n  };\n\n  var _getFieldString = function (entry, field) {\n    var path = field;\n    var current = entry;\n    for (var i=0; i<path.length; i++) {\n      if (current[path[i]] === undefined) {\n        return null;\n      } else {\n        current = current[path[i]];\n      }\n    }\n    if (typeof current !== 'string') {\n        return null;\n    }\n    return current;\n  };\n\n  var _forEachObject = function (object, fn) {\n    var _locals = [];\n\n    (function _private(object) {\n      for (var key in object) {\n        _locals.push(key);\n        if (typeof object[key] === 'object') {\n          _private(object[key]);\n        } else {\n          fn([].concat(_locals));\n        }\n        _locals.pop();\n      }\n    })(object);\n  };\n\n  var _search = function (entries, patterns, fields, options) {\n    var results = [];\n    entries.forEach(function (entry) {\n      var match = false;\n      var entryMatch = [];\n      var entryResults = [];\n      _forEachObject(fields, function (field) {\n        var fieldString = _getFieldString(entry, field);\n        if (fieldString === null) {\n          return;\n        }\n        var fieldMatch = [];\n        var fieldResults = {field:field.join('.'), patterns:[]};\n        patterns.forEach(function (pattern) {\n          var res = _find(pattern, fieldString, options);\n          if (res) {\n            fieldResults.patterns.push(res);\n            fieldMatch.push(pattern);\n            if (entryMatch.indexOf(pattern) === -1) {\n              entryMatch.push(pattern);\n            }\n          }\n        });\n        if (fieldMatch.length === patterns.length) {\n          entryResults.push(fieldResults);\n          match = true;\n        }\n        else if (options.fieldMatching === false\n          && fieldResults.patterns.length > 0) {\n          entryResults.push(fieldResults);\n        }\n      });\n      if ((options.fieldMatching === true && match === true) ||\n        (options.fieldMatching === false\n          && entryMatch.length === patterns.length)) {\n        results.push({\n          entry: entry,\n          info: entryResults,\n          score: _score(entryResults)\n        });\n      }\n    });\n    return results;\n  };\n\n  var _buildOptions = function(options) {\n    var defaultOptions = {\n      caseSensitive: false,\n      fieldMatching: false,\n      maxInsertions: -1,\n    };\n    if (options === undefined) {\n      return defaultOptions;\n    }\n    for (var option in defaultOptions) {\n      if (options[option] !== undefined) {\n        defaultOptions[option] = options[option];\n      }\n    }\n    return defaultOptions;\n  };\n\n  var sanitizeArray = function (array, caseSensitive) {\n    if (array === undefined || array.length === undefined\n      || array.length === 0) {\n      return [];\n    }\n    var values = {};\n    var newArray = [];\n    array.forEach(function (elem) {\n      if (typeof elem !== 'string') {\n        return;\n      }\n      var element = !caseSensitive ? elem.toLowerCase() : elem;\n      if (element && (element in values) === false) {\n        values[element] = true;\n        newArray.push(element);\n      }\n    });\n    return newArray;\n  };\n\n  function smartSearch(entries, patterns, fields, options) {\n    options = _buildOptions(options);\n    patterns = sanitizeArray([].concat(patterns), options.caseSensitive);\n    fields = typeof fields === 'string' ? { [fields]: true } : fields;\n    if (entries.length === 0 || patterns.length === 0) {\n      return;\n    }\n    var results = _search(entries, patterns, fields, options);\n    results.sort(function (a, b) {\n      return (a.score - b.score);\n    });\n    return results;\n  }\n\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = smartSearch;\n    }\n    exports.smartSearch = smartSearch;\n  }\n  else if (angular) {\n    angular\n      .module('ngSmartSearch', [])\n      .filter('smartSearch', function () {\n        return smartSearch;\n      });\n  } else {\n    window.smartSearch = smartSearch;\n  }\n\n})();\n\n\n\n","var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};function t(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function r(e,t,n,i){return new(n||(n=Promise))((function(r,o){function c(e){try{a(i.next(e))}catch(e){o(e)}}function s(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(c,s)}a((i=i.apply(e,t||[])).next())}))}function o(e,t){var n,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;c;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var c=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function a(e,t){return e(t={exports:{}},t.exports),t.exports}var u=function(e){return e&&e.Math==Math&&e},l=u(\"object\"==typeof globalThis&&globalThis)||u(\"object\"==typeof window&&window)||u(\"object\"==typeof self&&self)||u(\"object\"==typeof c&&c)||function(){return this}()||Function(\"return this\")(),d=function(e){try{return!!e()}catch(e){return!0}},g=!d((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),f={}.propertyIsEnumerable,I=Object.getOwnPropertyDescriptor,p={f:I&&!f.call({1:2},1)?function(e){var t=I(this,e);return!!t&&t.enumerable}:f},h=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},y={}.toString,b=function(e){return y.call(e).slice(8,-1)},m=\"\".split,v=d((function(){return!Object(\"z\").propertyIsEnumerable(0)}))?function(e){return\"String\"==b(e)?m.call(e,\"\"):Object(e)}:Object,B=function(e){if(null==e)throw TypeError(\"Can't call method on \"+e);return e},C=function(e){return v(B(e))},F=function(e){return\"object\"==typeof e?null!==e:\"function\"==typeof e},U=function(e,t){if(!F(e))return e;var n,i;if(t&&\"function\"==typeof(n=e.toString)&&!F(i=n.call(e)))return i;if(\"function\"==typeof(n=e.valueOf)&&!F(i=n.call(e)))return i;if(!t&&\"function\"==typeof(n=e.toString)&&!F(i=n.call(e)))return i;throw TypeError(\"Can't convert object to primitive value\")},S={}.hasOwnProperty,Z=function(e,t){return S.call(e,t)},V=l.document,G=F(V)&&F(V.createElement),X=function(e){return G?V.createElement(e):{}},w=!g&&!d((function(){return 7!=Object.defineProperty(X(\"div\"),\"a\",{get:function(){return 7}}).a})),x=Object.getOwnPropertyDescriptor,A={f:g?x:function(e,t){if(e=C(e),t=U(t,!0),w)try{return x(e,t)}catch(e){}if(Z(e,t))return h(!p.f.call(e,t),e[t])}},R=function(e){if(!F(e))throw TypeError(String(e)+\" is not an object\");return e},Q=Object.defineProperty,J={f:g?Q:function(e,t,n){if(R(e),t=U(t,!0),R(n),w)try{return Q(e,t,n)}catch(e){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported\");return\"value\"in n&&(e[t]=n.value),e}},W=g?function(e,t,n){return J.f(e,t,h(1,n))}:function(e,t,n){return e[t]=n,e},k=function(e,t){try{W(l,e,t)}catch(n){l[e]=t}return t},H=l[\"__core-js_shared__\"]||k(\"__core-js_shared__\",{}),L=Function.toString;\"function\"!=typeof H.inspectSource&&(H.inspectSource=function(e){return L.call(e)});var E,T,Y,N=H.inspectSource,K=l.WeakMap,O=\"function\"==typeof K&&/native code/.test(N(K)),z=a((function(e){(e.exports=function(e,t){return H[e]||(H[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:\"3.8.0\",mode:\"global\",copyright:\" 2020 Denis Pushkarev (zloirock.ru)\"})})),j=0,_=Math.random(),D=function(e){return\"Symbol(\"+String(void 0===e?\"\":e)+\")_\"+(++j+_).toString(36)},P=z(\"keys\"),M=function(e){return P[e]||(P[e]=D(e))},q={},$=l.WeakMap;if(O){var ee=H.state||(H.state=new $),te=ee.get,ne=ee.has,ie=ee.set;E=function(e,t){return t.facade=e,ie.call(ee,e,t),t},T=function(e){return te.call(ee,e)||{}},Y=function(e){return ne.call(ee,e)}}else{var re=M(\"state\");q[re]=!0,E=function(e,t){return t.facade=e,W(e,re,t),t},T=function(e){return Z(e,re)?e[re]:{}},Y=function(e){return Z(e,re)}}var oe,ce={set:E,get:T,has:Y,enforce:function(e){return Y(e)?T(e):E(e,{})},getterFor:function(e){return function(t){var n;if(!F(t)||(n=T(t)).type!==e)throw TypeError(\"Incompatible receiver, \"+e+\" required\");return n}}},se=a((function(e){var t=ce.get,n=ce.enforce,i=String(String).split(\"String\");(e.exports=function(e,t,r,o){var c,s=!!o&&!!o.unsafe,a=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;\"function\"==typeof r&&(\"string\"!=typeof t||Z(r,\"name\")||W(r,\"name\",t),(c=n(r)).source||(c.source=i.join(\"string\"==typeof t?t:\"\"))),e!==l?(s?!u&&e[t]&&(a=!0):delete e[t],a?e[t]=r:W(e,t,r)):a?e[t]=r:k(t,r)})(Function.prototype,\"toString\",(function(){return\"function\"==typeof this&&t(this).source||N(this)}))})),ae=l,ue=function(e){return\"function\"==typeof e?e:void 0},le=function(e,t){return arguments.length<2?ue(ae[e])||ue(l[e]):ae[e]&&ae[e][t]||l[e]&&l[e][t]},de=Math.ceil,ge=Math.floor,fe=function(e){return isNaN(e=+e)?0:(e>0?ge:de)(e)},Ie=Math.min,pe=function(e){return e>0?Ie(fe(e),9007199254740991):0},he=Math.max,ye=Math.min,be=function(e){return function(t,n,i){var r,o=C(t),c=pe(o.length),s=function(e,t){var n=fe(e);return n<0?he(n+t,0):ye(n,t)}(i,c);if(e&&n!=n){for(;c>s;)if((r=o[s++])!=r)return!0}else for(;c>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},me={includes:be(!0),indexOf:be(!1)},ve=me.indexOf,Be=function(e,t){var n,i=C(e),r=0,o=[];for(n in i)!Z(q,n)&&Z(i,n)&&o.push(n);for(;t.length>r;)Z(i,n=t[r++])&&(~ve(o,n)||o.push(n));return o},Ce=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],Fe=Ce.concat(\"length\",\"prototype\"),Ue={f:Object.getOwnPropertyNames||function(e){return Be(e,Fe)}},Se={f:Object.getOwnPropertySymbols},Ze=le(\"Reflect\",\"ownKeys\")||function(e){var t=Ue.f(R(e)),n=Se.f;return n?t.concat(n(e)):t},Ve=function(e,t){for(var n=Ze(t),i=J.f,r=A.f,o=0;o<n.length;o++){var c=n[o];Z(e,c)||i(e,c,r(t,c))}},Ge=/#|\\.prototype\\./,Xe=function(e,t){var n=xe[we(e)];return n==Re||n!=Ae&&(\"function\"==typeof t?d(t):!!t)},we=Xe.normalize=function(e){return String(e).replace(Ge,\".\").toLowerCase()},xe=Xe.data={},Ae=Xe.NATIVE=\"N\",Re=Xe.POLYFILL=\"P\",Qe=Xe,Je=A.f,We=function(e,t){var n,i,r,o,c,s=e.target,a=e.global,u=e.stat;if(n=a?l:u?l[s]||k(s,{}):(l[s]||{}).prototype)for(i in t){if(o=t[i],r=e.noTargetGet?(c=Je(n,i))&&c.value:n[i],!Qe(a?i:s+(u?\".\":\"#\")+i,e.forced)&&void 0!==r){if(typeof o==typeof r)continue;Ve(o,r)}(e.sham||r&&r.sham)&&W(o,\"sham\",!0),se(n,i,o,e)}},ke=!!Object.getOwnPropertySymbols&&!d((function(){return!String(Symbol())})),He=ke&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,Le=z(\"wks\"),Ee=l.Symbol,Te=He?Ee:Ee&&Ee.withoutSetter||D,Ye=function(e){return Z(Le,e)||(ke&&Z(Ee,e)?Le[e]=Ee[e]:Le[e]=Te(\"Symbol.\"+e)),Le[e]},Ne=Ye(\"match\"),Ke=function(e){if(function(e){var t;return F(e)&&(void 0!==(t=e[Ne])?!!t:\"RegExp\"==b(e))}(e))throw TypeError(\"The method doesn't accept regular expressions\");return e},Oe=Ye(\"match\"),ze=function(e){var t=/./;try{\"/./\"[e](t)}catch(n){try{return t[Oe]=!1,\"/./\"[e](t)}catch(e){}}return!1},je=A.f,_e=\"\".startsWith,De=Math.min,Pe=ze(\"startsWith\"),Me=!(Pe||(oe=je(String.prototype,\"startsWith\"),!oe||oe.writable));We({target:\"String\",proto:!0,forced:!Me&&!Pe},{startsWith:function(e){var t=String(B(this));Ke(e);var n=pe(De(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return _e?_e.call(t,i,n):t.slice(n,n+i.length)===i}});var qe,$e,et=function(e){if(\"function\"!=typeof e)throw TypeError(String(e)+\" is not a function\");return e},tt=function(e,t,n){if(et(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},nt=Function.call,it=function(e,t,n){return tt(nt,l[e].prototype[t],n)},rt=(it(\"String\",\"startsWith\"),Array.isArray||function(e){return\"Array\"==b(e)}),ot=function(e){return Object(B(e))},ct=function(e,t,n){var i=U(t);i in e?J.f(e,i,h(0,n)):e[i]=n},st=Ye(\"species\"),at=function(e,t){var n;return rt(e)&&(\"function\"!=typeof(n=e.constructor)||n!==Array&&!rt(n.prototype)?F(n)&&null===(n=n[st])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},ut=le(\"navigator\",\"userAgent\")||\"\",lt=l.process,dt=lt&&lt.versions,gt=dt&&dt.v8;gt?$e=(qe=gt.split(\".\"))[0]+qe[1]:ut&&(!(qe=ut.match(/Edge\\/(\\d+)/))||qe[1]>=74)&&(qe=ut.match(/Chrome\\/(\\d+)/))&&($e=qe[1]);var ft=$e&&+$e,It=Ye(\"species\"),pt=Ye(\"isConcatSpreadable\"),ht=ft>=51||!d((function(){var e=[];return e[pt]=!1,e.concat()[0]!==e})),yt=function(e){return ft>=51||!d((function(){var t=[];return(t.constructor={})[It]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}(\"concat\"),bt=function(e){if(!F(e))return!1;var t=e[pt];return void 0!==t?!!t:rt(e)};We({target:\"Array\",proto:!0,forced:!ht||!yt},{concat:function(e){var t,n,i,r,o,c=ot(this),s=at(c,0),a=0;for(t=-1,i=arguments.length;t<i;t++)if(bt(o=-1===t?c:arguments[t])){if(a+(r=pe(o.length))>9007199254740991)throw TypeError(\"Maximum allowed index exceeded\");for(n=0;n<r;n++,a++)n in o&&ct(s,a,o[n])}else{if(a>=9007199254740991)throw TypeError(\"Maximum allowed index exceeded\");ct(s,a++,o)}return s.length=a,s}});var mt={};mt[Ye(\"toStringTag\")]=\"z\";var vt=\"[object z]\"===String(mt),Bt=Ye(\"toStringTag\"),Ct=\"Arguments\"==b(function(){return arguments}()),Ft=vt?b:function(e){var t,n,i;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Bt))?n:Ct?b(t):\"Object\"==(i=b(t))&&\"function\"==typeof t.callee?\"Arguments\":i},Ut=vt?{}.toString:function(){return\"[object \"+Ft(this)+\"]\"};vt||se(Object.prototype,\"toString\",Ut,{unsafe:!0});var St,Zt=Object.keys||function(e){return Be(e,Ce)},Vt=g?Object.defineProperties:function(e,t){R(e);for(var n,i=Zt(t),r=i.length,o=0;r>o;)J.f(e,n=i[o++],t[n]);return e},Gt=le(\"document\",\"documentElement\"),Xt=M(\"IE_PROTO\"),wt=function(){},xt=function(e){return\"<script>\"+e+\"<\\/script>\"},At=function(){try{St=document.domain&&new ActiveXObject(\"htmlfile\")}catch(e){}var e,t;At=St?function(e){e.write(xt(\"\")),e.close();var t=e.parentWindow.Object;return e=null,t}(St):((t=X(\"iframe\")).style.display=\"none\",Gt.appendChild(t),t.src=String(\"javascript:\"),(e=t.contentWindow.document).open(),e.write(xt(\"document.F=Object\")),e.close(),e.F);for(var n=Ce.length;n--;)delete At.prototype[Ce[n]];return At()};q[Xt]=!0;var Rt=Object.create||function(e,t){var n;return null!==e?(wt.prototype=R(e),n=new wt,wt.prototype=null,n[Xt]=e):n=At(),void 0===t?n:Vt(n,t)},Qt=Ue.f,Jt={}.toString,Wt=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],kt={f:function(e){return Wt&&\"[object Window]\"==Jt.call(e)?function(e){try{return Qt(e)}catch(e){return Wt.slice()}}(e):Qt(C(e))}},Ht={f:Ye},Lt=J.f,Et=function(e){var t=ae.Symbol||(ae.Symbol={});Z(t,e)||Lt(t,e,{value:Ht.f(e)})},Tt=J.f,Yt=Ye(\"toStringTag\"),Nt=function(e,t,n){e&&!Z(e=n?e:e.prototype,Yt)&&Tt(e,Yt,{configurable:!0,value:t})},Kt=[].push,Ot=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,c=7==e,s=5==e||o;return function(a,u,l,d){for(var g,f,I=ot(a),p=v(I),h=tt(u,l,3),y=pe(p.length),b=0,m=d||at,B=t?m(a,y):n||c?m(a,0):void 0;y>b;b++)if((s||b in p)&&(f=h(g=p[b],b,I),e))if(t)B[b]=f;else if(f)switch(e){case 3:return!0;case 5:return g;case 6:return b;case 2:Kt.call(B,g)}else switch(e){case 4:return!1;case 7:Kt.call(B,g)}return o?-1:i||r?r:B}},zt={forEach:Ot(0),map:Ot(1),filter:Ot(2),some:Ot(3),every:Ot(4),find:Ot(5),findIndex:Ot(6),filterOut:Ot(7)}.forEach,jt=M(\"hidden\"),_t=Ye(\"toPrimitive\"),Dt=ce.set,Pt=ce.getterFor(\"Symbol\"),Mt=Object.prototype,qt=l.Symbol,$t=le(\"JSON\",\"stringify\"),en=A.f,tn=J.f,nn=kt.f,rn=p.f,on=z(\"symbols\"),cn=z(\"op-symbols\"),sn=z(\"string-to-symbol-registry\"),an=z(\"symbol-to-string-registry\"),un=z(\"wks\"),ln=l.QObject,dn=!ln||!ln.prototype||!ln.prototype.findChild,gn=g&&d((function(){return 7!=Rt(tn({},\"a\",{get:function(){return tn(this,\"a\",{value:7}).a}})).a}))?function(e,t,n){var i=en(Mt,t);i&&delete Mt[t],tn(e,t,n),i&&e!==Mt&&tn(Mt,t,i)}:tn,fn=function(e,t){var n=on[e]=Rt(qt.prototype);return Dt(n,{type:\"Symbol\",tag:e,description:t}),g||(n.description=t),n},In=He?function(e){return\"symbol\"==typeof e}:function(e){return Object(e)instanceof qt},pn=function(e,t,n){e===Mt&&pn(cn,t,n),R(e);var i=U(t,!0);return R(n),Z(on,i)?(n.enumerable?(Z(e,jt)&&e[jt][i]&&(e[jt][i]=!1),n=Rt(n,{enumerable:h(0,!1)})):(Z(e,jt)||tn(e,jt,h(1,{})),e[jt][i]=!0),gn(e,i,n)):tn(e,i,n)},hn=function(e,t){R(e);var n=C(t),i=Zt(n).concat(vn(n));return zt(i,(function(t){g&&!yn.call(n,t)||pn(e,t,n[t])})),e},yn=function(e){var t=U(e,!0),n=rn.call(this,t);return!(this===Mt&&Z(on,t)&&!Z(cn,t))&&(!(n||!Z(this,t)||!Z(on,t)||Z(this,jt)&&this[jt][t])||n)},bn=function(e,t){var n=C(e),i=U(t,!0);if(n!==Mt||!Z(on,i)||Z(cn,i)){var r=en(n,i);return!r||!Z(on,i)||Z(n,jt)&&n[jt][i]||(r.enumerable=!0),r}},mn=function(e){var t=nn(C(e)),n=[];return zt(t,(function(e){Z(on,e)||Z(q,e)||n.push(e)})),n},vn=function(e){var t=e===Mt,n=nn(t?cn:C(e)),i=[];return zt(n,(function(e){!Z(on,e)||t&&!Z(Mt,e)||i.push(on[e])})),i};if(ke||(se((qt=function(){if(this instanceof qt)throw TypeError(\"Symbol is not a constructor\");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),n=function(e){this===Mt&&n.call(cn,e),Z(this,jt)&&Z(this[jt],t)&&(this[jt][t]=!1),gn(this,t,h(1,e))};return g&&dn&&gn(Mt,t,{configurable:!0,set:n}),fn(t,e)}).prototype,\"toString\",(function(){return Pt(this).tag})),se(qt,\"withoutSetter\",(function(e){return fn(D(e),e)})),p.f=yn,J.f=pn,A.f=bn,Ue.f=kt.f=mn,Se.f=vn,Ht.f=function(e){return fn(Ye(e),e)},g&&(tn(qt.prototype,\"description\",{configurable:!0,get:function(){return Pt(this).description}}),se(Mt,\"propertyIsEnumerable\",yn,{unsafe:!0}))),We({global:!0,wrap:!0,forced:!ke,sham:!ke},{Symbol:qt}),zt(Zt(un),(function(e){Et(e)})),We({target:\"Symbol\",stat:!0,forced:!ke},{for:function(e){var t=String(e);if(Z(sn,t))return sn[t];var n=qt(t);return sn[t]=n,an[n]=t,n},keyFor:function(e){if(!In(e))throw TypeError(e+\" is not a symbol\");if(Z(an,e))return an[e]},useSetter:function(){dn=!0},useSimple:function(){dn=!1}}),We({target:\"Object\",stat:!0,forced:!ke,sham:!g},{create:function(e,t){return void 0===t?Rt(e):hn(Rt(e),t)},defineProperty:pn,defineProperties:hn,getOwnPropertyDescriptor:bn}),We({target:\"Object\",stat:!0,forced:!ke},{getOwnPropertyNames:mn,getOwnPropertySymbols:vn}),We({target:\"Object\",stat:!0,forced:d((function(){Se.f(1)}))},{getOwnPropertySymbols:function(e){return Se.f(ot(e))}}),$t){var Bn=!ke||d((function(){var e=qt();return\"[null]\"!=$t([e])||\"{}\"!=$t({a:e})||\"{}\"!=$t(Object(e))}));We({target:\"JSON\",stat:!0,forced:Bn},{stringify:function(e,t,n){for(var i,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=t,(F(t)||void 0!==e)&&!In(e))return rt(t)||(t=function(e,t){if(\"function\"==typeof i&&(t=i.call(this,e,t)),!In(t))return t}),r[1]=t,$t.apply(null,r)}})}qt.prototype[_t]||W(qt.prototype,_t,qt.prototype.valueOf),Nt(qt,\"Symbol\"),q[jt]=!0,Et(\"asyncIterator\");var Cn=J.f,Fn=l.Symbol;if(g&&\"function\"==typeof Fn&&(!(\"description\"in Fn.prototype)||void 0!==Fn().description)){var Un={},Sn=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Sn?new Fn(e):void 0===e?Fn():Fn(e);return\"\"===e&&(Un[t]=!0),t};Ve(Sn,Fn);var Zn=Sn.prototype=Fn.prototype;Zn.constructor=Sn;var Vn=Zn.toString,Gn=\"Symbol(test)\"==String(Fn(\"test\")),Xn=/^Symbol\\((.*)\\)[^)]+$/;Cn(Zn,\"description\",{configurable:!0,get:function(){var e=F(this)?this.valueOf():this,t=Vn.call(e);if(Z(Un,e))return\"\";var n=Gn?t.slice(7,-1):t.replace(Xn,\"$1\");return\"\"===n?void 0:n}}),We({global:!0,forced:!0},{Symbol:Sn})}Et(\"hasInstance\"),Et(\"isConcatSpreadable\"),Et(\"iterator\"),Et(\"match\"),Et(\"matchAll\"),Et(\"replace\"),Et(\"search\"),Et(\"species\"),Et(\"split\"),Et(\"toPrimitive\"),Et(\"toStringTag\"),Et(\"unscopables\"),Nt(l.JSON,\"JSON\",!0),Nt(Math,\"Math\",!0),We({global:!0},{Reflect:{}}),Nt(l.Reflect,\"Reflect\",!0);ae.Symbol;var wn,xn,An,Rn=function(e){return function(t,n){var i,r,o=String(B(t)),c=fe(n),s=o.length;return c<0||c>=s?e?\"\":void 0:(i=o.charCodeAt(c))<55296||i>56319||c+1===s||(r=o.charCodeAt(c+1))<56320||r>57343?e?o.charAt(c):i:e?o.slice(c,c+2):r-56320+(i-55296<<10)+65536}},Qn={codeAt:Rn(!1),charAt:Rn(!0)},Jn=!d((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Wn=M(\"IE_PROTO\"),kn=Object.prototype,Hn=Jn?Object.getPrototypeOf:function(e){return e=ot(e),Z(e,Wn)?e[Wn]:\"function\"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?kn:null},Ln=Ye(\"iterator\"),En=!1;[].keys&&(\"next\"in(An=[].keys())?(xn=Hn(Hn(An)))!==Object.prototype&&(wn=xn):En=!0),null==wn&&(wn={}),Z(wn,Ln)||W(wn,Ln,(function(){return this}));var Tn={IteratorPrototype:wn,BUGGY_SAFARI_ITERATORS:En},Yn={},Nn=Tn.IteratorPrototype,Kn=function(){return this},On=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return R(n),function(e){if(!F(e)&&null!==e)throw TypeError(\"Can't set \"+String(e)+\" as a prototype\")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),zn=Tn.IteratorPrototype,jn=Tn.BUGGY_SAFARI_ITERATORS,_n=Ye(\"iterator\"),Dn=function(){return this},Pn=function(e,t,n,i,r,o,c){!function(e,t,n){var i=t+\" Iterator\";e.prototype=Rt(Nn,{next:h(1,n)}),Nt(e,i,!1),Yn[i]=Kn}(n,t,i);var s,a,u,l=function(e){if(e===r&&p)return p;if(!jn&&e in f)return f[e];switch(e){case\"keys\":case\"values\":case\"entries\":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+\" Iterator\",g=!1,f=e.prototype,I=f[_n]||f[\"@@iterator\"]||r&&f[r],p=!jn&&I||l(r),y=\"Array\"==t&&f.entries||I;if(y&&(s=Hn(y.call(new e)),zn!==Object.prototype&&s.next&&(Hn(s)!==zn&&(On?On(s,zn):\"function\"!=typeof s[_n]&&W(s,_n,Dn)),Nt(s,d,!0))),\"values\"==r&&I&&\"values\"!==I.name&&(g=!0,p=function(){return I.call(this)}),f[_n]!==p&&W(f,_n,p),Yn[t]=p,r)if(a={values:l(\"values\"),keys:o?p:l(\"keys\"),entries:l(\"entries\")},c)for(u in a)(jn||g||!(u in f))&&se(f,u,a[u]);else We({target:t,proto:!0,forced:jn||g},a);return a},Mn=Qn.charAt,qn=ce.set,$n=ce.getterFor(\"String Iterator\");Pn(String,\"String\",(function(e){qn(this,{type:\"String Iterator\",string:String(e),index:0})}),(function(){var e,t=$n(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=Mn(n,i),t.index+=e.length,{value:e,done:!1})}));var ei=function(e){var t=e.return;if(void 0!==t)return R(t.call(e)).value},ti=function(e,t,n,i){try{return i?t(R(n)[0],n[1]):t(n)}catch(t){throw ei(e),t}},ni=Ye(\"iterator\"),ii=Array.prototype,ri=function(e){return void 0!==e&&(Yn.Array===e||ii[ni]===e)},oi=Ye(\"iterator\"),ci=function(e){if(null!=e)return e[oi]||e[\"@@iterator\"]||Yn[Ft(e)]},si=Ye(\"iterator\"),ai=!1;try{var ui=0,li={next:function(){return{done:!!ui++}},return:function(){ai=!0}};li[si]=function(){return this},Array.from(li,(function(){throw 2}))}catch(e){}var di=function(e,t){if(!t&&!ai)return!1;var n=!1;try{var i={};i[si]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n},gi=!di((function(e){Array.from(e)}));We({target:\"Array\",stat:!0,forced:gi},{from:function(e){var t,n,i,r,o,c,s=ot(e),a=\"function\"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,g=ci(s),f=0;if(d&&(l=tt(l,u>2?arguments[2]:void 0,2)),null==g||a==Array&&ri(g))for(n=new a(t=pe(s.length));t>f;f++)c=d?l(s[f],f):s[f],ct(n,f,c);else for(o=(r=g.call(s)).next,n=new a;!(i=o.call(r)).done;f++)c=d?ti(r,l,[i.value,f],!0):i.value,ct(n,f,c);return n.length=f,n}});ae.Array.from;var fi,Ii=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof DataView,pi=J.f,hi=l.Int8Array,yi=hi&&hi.prototype,bi=l.Uint8ClampedArray,mi=bi&&bi.prototype,vi=hi&&Hn(hi),Bi=yi&&Hn(yi),Ci=Object.prototype,Fi=Ci.isPrototypeOf,Ui=Ye(\"toStringTag\"),Si=D(\"TYPED_ARRAY_TAG\"),Zi=Ii&&!!On&&\"Opera\"!==Ft(l.opera),Vi={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Gi=function(e){return F(e)&&Z(Vi,Ft(e))};for(fi in Vi)l[fi]||(Zi=!1);if((!Zi||\"function\"!=typeof vi||vi===Function.prototype)&&(vi=function(){throw TypeError(\"Incorrect invocation\")},Zi))for(fi in Vi)l[fi]&&On(l[fi],vi);if((!Zi||!Bi||Bi===Ci)&&(Bi=vi.prototype,Zi))for(fi in Vi)l[fi]&&On(l[fi].prototype,Bi);if(Zi&&Hn(mi)!==Bi&&On(mi,Bi),g&&!Z(Bi,Ui))for(fi in!0,pi(Bi,Ui,{get:function(){return F(this)?this[Si]:void 0}}),Vi)l[fi]&&W(l[fi],Si,fi);var Xi=function(e){if(Gi(e))return e;throw TypeError(\"Target is not a typed array\")},wi=function(e){if(On){if(Fi.call(vi,e))return e}else for(var t in Vi)if(Z(Vi,fi)){var n=l[t];if(n&&(e===n||Fi.call(n,e)))return e}throw TypeError(\"Target is not a typed array constructor\")},xi=function(e,t,n){if(g){if(n)for(var i in Vi){var r=l[i];r&&Z(r.prototype,e)&&delete r.prototype[e]}Bi[e]&&!n||se(Bi,e,n?t:Zi&&yi[e]||t)}},Ai=Ye(\"species\"),Ri=Xi,Qi=wi,Ji=[].slice;xi(\"slice\",(function(e,t){for(var n=Ji.call(Ri(this),e,t),i=function(e,t){var n,i=R(e).constructor;return void 0===i||null==(n=R(i)[Ai])?t:et(n)}(this,this.constructor),r=0,o=n.length,c=new(Qi(i))(o);o>r;)c[r]=n[r++];return c}),d((function(){new Int8Array(1).slice()})));var Wi=Ye(\"unscopables\"),ki=Array.prototype;null==ki[Wi]&&J.f(ki,Wi,{configurable:!0,value:Rt(null)});var Hi=function(e){ki[Wi][e]=!0},Li=Object.defineProperty,Ei={},Ti=function(e){throw e},Yi=me.includes,Ni=function(e,t){if(Z(Ei,e))return Ei[e];t||(t={});var n=[][e],i=!!Z(t,\"ACCESSORS\")&&t.ACCESSORS,r=Z(t,0)?t[0]:Ti,o=Z(t,1)?t[1]:void 0;return Ei[e]=!!n&&!d((function(){if(i&&!g)return!0;var e={length:-1};i?Li(e,1,{enumerable:!0,get:Ti}):e[1]=1,n.call(e,r,o)}))}(\"indexOf\",{ACCESSORS:!0,1:0});We({target:\"Array\",proto:!0,forced:!Ni},{includes:function(e){return Yi(this,e,arguments.length>1?arguments[1]:void 0)}}),Hi(\"includes\");it(\"Array\",\"includes\");We({target:\"String\",proto:!0,forced:!ze(\"includes\")},{includes:function(e){return!!~String(B(this)).indexOf(Ke(e),arguments.length>1?arguments[1]:void 0)}});it(\"String\",\"includes\");var Ki=!d((function(){return Object.isExtensible(Object.preventExtensions({}))})),Oi=a((function(e){var t=J.f,n=D(\"meta\"),i=0,r=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:\"O\"+ ++i,weakData:{}}})},c=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!F(e))return\"symbol\"==typeof e?e:(\"string\"==typeof e?\"S\":\"P\")+e;if(!Z(e,n)){if(!r(e))return\"F\";if(!t)return\"E\";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!Z(e,n)){if(!r(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return Ki&&c.REQUIRED&&r(e)&&!Z(e,n)&&o(e),e}};q[n]=!0})),zi=(Oi.REQUIRED,Oi.fastKey,Oi.getWeakData,Oi.onFreeze,function(e,t){this.stopped=e,this.result=t}),ji=function(e,t,n){var i,r,o,c,s,a,u,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),g=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),I=tt(t,l,1+d+f),p=function(e){return i&&ei(i),new zi(!0,e)},h=function(e){return d?(R(e),f?I(e[0],e[1],p):I(e[0],e[1])):f?I(e,p):I(e)};if(g)i=e;else{if(\"function\"!=typeof(r=ci(e)))throw TypeError(\"Target is not iterable\");if(ri(r)){for(o=0,c=pe(e.length);c>o;o++)if((s=h(e[o]))&&s instanceof zi)return s;return new zi(!1)}i=r.call(e)}for(a=i.next;!(u=a.call(i)).done;){try{s=h(u.value)}catch(e){throw ei(i),e}if(\"object\"==typeof s&&s&&s instanceof zi)return s}return new zi(!1)},_i=function(e,t,n){if(!(e instanceof t))throw TypeError(\"Incorrect \"+(n?n+\" \":\"\")+\"invocation\");return e},Di=function(e,t,n){for(var i in t)se(e,i,t[i],n);return e},Pi=Ye(\"species\"),Mi=J.f,qi=Oi.fastKey,$i=ce.set,er=ce.getterFor,tr=(function(e,t,n){var i=-1!==e.indexOf(\"Map\"),r=-1!==e.indexOf(\"Weak\"),o=i?\"set\":\"add\",c=l[e],s=c&&c.prototype,a=c,u={},g=function(e){var t=s[e];se(s,e,\"add\"==e?function(e){return t.call(this,0===e?0:e),this}:\"delete\"==e?function(e){return!(r&&!F(e))&&t.call(this,0===e?0:e)}:\"get\"==e?function(e){return r&&!F(e)?void 0:t.call(this,0===e?0:e)}:\"has\"==e?function(e){return!(r&&!F(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Qe(e,\"function\"!=typeof c||!(r||s.forEach&&!d((function(){(new c).entries().next()})))))a=n.getConstructor(t,e,i,o),Oi.REQUIRED=!0;else if(Qe(e,!0)){var f=new a,I=f[o](r?{}:-0,1)!=f,p=d((function(){f.has(1)})),h=di((function(e){new c(e)})),y=!r&&d((function(){for(var e=new c,t=5;t--;)e[o](t,t);return!e.has(-0)}));h||((a=t((function(t,n){_i(t,a,e);var r=function(e,t,n){var i,r;return On&&\"function\"==typeof(i=t.constructor)&&i!==n&&F(r=i.prototype)&&r!==n.prototype&&On(e,r),e}(new c,t,a);return null!=n&&ji(n,r[o],{that:r,AS_ENTRIES:i}),r}))).prototype=s,s.constructor=a),(p||y)&&(g(\"delete\"),g(\"has\"),i&&g(\"get\")),(y||I)&&g(o),r&&s.clear&&delete s.clear}u[e]=a,We({global:!0,forced:a!=c},u),Nt(a,e),r||n.setStrong(a,e,i)}(\"Set\",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,i){var r=e((function(e,o){_i(e,r,t),$i(e,{type:t,index:Rt(null),first:void 0,last:void 0,size:0}),g||(e.size=0),null!=o&&ji(o,e[i],{that:e,AS_ENTRIES:n})})),o=er(t),c=function(e,t,n){var i,r,c=o(e),a=s(e,t);return a?a.value=n:(c.last=a={index:r=qi(t,!0),key:t,value:n,previous:i=c.last,next:void 0,removed:!1},c.first||(c.first=a),i&&(i.next=a),g?c.size++:e.size++,\"F\"!==r&&(c.index[r]=a)),e},s=function(e,t){var n,i=o(e),r=qi(t);if(\"F\"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return Di(r.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,g?e.size=0:this.size=0},delete:function(e){var t=this,n=o(t),i=s(t,e);if(i){var r=i.next,c=i.previous;delete n.index[i.index],i.removed=!0,c&&(c.next=r),r&&(r.previous=c),n.first==i&&(n.first=r),n.last==i&&(n.last=c),g?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=o(this),i=tt(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),Di(r.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return c(this,0===e?0:e,t)}}:{add:function(e){return c(this,e=0===e?0:e,e)}}),g&&Mi(r.prototype,\"size\",{get:function(){return o(this).size}}),r},setStrong:function(e,t,n){var i=t+\" Iterator\",r=er(t),o=er(i);Pn(e,t,(function(e,t){$i(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?\"keys\"==t?{value:n.key,done:!1}:\"values\"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?\"entries\":\"values\",!n,!0),function(e){var t=le(e),n=J.f;g&&t&&!t[Pi]&&n(t,Pi,{configurable:!0,get:function(){return this}})}(t)}}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),nr=ce.set,ir=ce.getterFor(\"Array Iterator\"),rr=Pn(Array,\"Array\",(function(e,t){nr(this,{type:\"Array Iterator\",target:C(e),index:0,kind:t})}),(function(){var e=ir(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):\"keys\"==n?{value:i,done:!1}:\"values\"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),\"values\");Yn.Arguments=Yn.Array,Hi(\"keys\"),Hi(\"values\"),Hi(\"entries\");var or=Ye(\"iterator\"),cr=Ye(\"toStringTag\"),sr=rr.values;for(var ar in tr){var ur=l[ar],lr=ur&&ur.prototype;if(lr){if(lr[or]!==sr)try{W(lr,or,sr)}catch(e){lr[or]=sr}if(lr[cr]||W(lr,cr,ar),tr[ar])for(var dr in rr)if(lr[dr]!==rr[dr])try{W(lr,dr,rr[dr])}catch(e){lr[dr]=rr[dr]}}}ae.Set;function gr(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function fr(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+\" \"+e+\" is not iterable(cannot read property Symbol(Symbol.iterator))\"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,n){if(n&&(\"object\"==typeof n||\"function\"==typeof n)){var c=n.then;if(\"function\"==typeof c)return void c.call(n,(function(t){o(e,t)}),(function(n){i[e]={status:\"rejected\",reason:n},0==--r&&t(i)}))}i[e]={status:\"fulfilled\",value:n},0==--r&&t(i)}for(var c=0;c<i.length;c++)o(c,i[c])}))}var Ir=setTimeout;function pr(e){return Boolean(e&&void 0!==e.length)}function hr(){}function yr(e){if(!(this instanceof yr))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Fr(e,this)}function br(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,yr._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void vr(t.promise,e)}mr(t.promise,i)}else(1===e._state?mr:vr)(t.promise,e._value)}))):e._deferreds.push(t)}function mr(e,t){try{if(t===e)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(t instanceof yr)return e._state=3,e._value=t,void Br(e);if(\"function\"==typeof n)return void Fr((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,Br(e)}catch(t){vr(e,t)}var i,r}function vr(e,t){e._state=2,e._value=t,Br(e)}function Br(e){2===e._state&&0===e._deferreds.length&&yr._immediateFn((function(){e._handled||yr._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)br(e,e._deferreds[t]);e._deferreds=null}function Cr(e,t,n){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.promise=n}function Fr(e,t){var n=!1;try{e((function(e){n||(n=!0,mr(t,e))}),(function(e){n||(n=!0,vr(t,e))}))}catch(e){if(n)return;n=!0,vr(t,e)}}yr.prototype.catch=function(e){return this.then(null,e)},yr.prototype.then=function(e,t){var n=new this.constructor(hr);return br(this,new Cr(e,t,n)),n},yr.prototype.finally=gr,yr.all=function(e){return new yr((function(t,n){if(!pr(e))return n(new TypeError(\"Promise.all accepts an array\"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,c){try{if(c&&(\"object\"==typeof c||\"function\"==typeof c)){var s=c.then;if(\"function\"==typeof s)return void s.call(c,(function(t){o(e,t)}),n)}i[e]=c,0==--r&&t(i)}catch(e){n(e)}}for(var c=0;c<i.length;c++)o(c,i[c])}))},yr.allSettled=fr,yr.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===yr?e:new yr((function(t){t(e)}))},yr.reject=function(e){return new yr((function(t,n){n(e)}))},yr.race=function(e){return new yr((function(t,n){if(!pr(e))return n(new TypeError(\"Promise.race accepts an array\"));for(var i=0,r=e.length;i<r;i++)yr.resolve(e[i]).then(t,n)}))},yr._immediateFn=\"function\"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Ir(e,0)},yr._unhandledRejectionFn=function(e){\"undefined\"!=typeof console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)};var Ur=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(\"undefined\"!=typeof global)return global;throw new Error(\"unable to locate global object\")}();\"function\"!=typeof Ur.Promise?Ur.Promise=yr:Ur.Promise.prototype.finally?Ur.Promise.allSettled||(Ur.Promise.allSettled=fr):Ur.Promise.prototype.finally=gr,function(e){function t(){}function n(e,t){if(e=void 0===e?\"utf-8\":e,t=void 0===t?{fatal:!1}:t,-1===r.indexOf(e.toLowerCase()))throw new RangeError(\"Failed to construct 'TextDecoder': The encoding label provided ('\"+e+\"') is invalid.\");if(t.fatal)throw Error(\"Failed to construct 'TextDecoder': the 'fatal' option is unsupported.\")}function i(e){for(var t=0,n=Math.min(65536,e.length+1),i=new Uint16Array(n),r=[],o=0;;){var c=t<e.length;if(!c||o>=n-1){if(r.push(String.fromCharCode.apply(null,i.subarray(0,o))),!c)return r.join(\"\");e=e.subarray(t),o=t=0}if(0==(128&(c=e[t++])))i[o++]=c;else if(192==(224&c)){var s=63&e[t++];i[o++]=(31&c)<<6|s}else if(224==(240&c)){s=63&e[t++];var a=63&e[t++];i[o++]=(31&c)<<12|s<<6|a}else if(240==(248&c)){65535<(c=(7&c)<<18|(s=63&e[t++])<<12|(a=63&e[t++])<<6|63&e[t++])&&(c-=65536,i[o++]=c>>>10&1023|55296,c=56320|1023&c),i[o++]=c}}}if(e.TextEncoder&&e.TextDecoder)return!1;var r=[\"utf-8\",\"utf8\",\"unicode-1-1-utf-8\"];Object.defineProperty(t.prototype,\"encoding\",{value:\"utf-8\"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error(\"Failed to encode: the 'stream' option is unsupported.\");t=0;for(var n=e.length,i=0,r=Math.max(32,n+(n>>>1)+7),o=new Uint8Array(r>>>3<<3);t<n;){var c=e.charCodeAt(t++);if(55296<=c&&56319>=c){if(t<n){var s=e.charCodeAt(t);56320==(64512&s)&&(++t,c=((1023&c)<<10)+(1023&s)+65536)}if(55296<=c&&56319>=c)continue}if(i+4>o.length&&(r+=8,r=(r*=1+t/e.length*2)>>>3<<3,(s=new Uint8Array(r)).set(o),o=s),0==(4294967168&c))o[i++]=c;else{if(0==(4294965248&c))o[i++]=c>>>6&31|192;else if(0==(4294901760&c))o[i++]=c>>>12&15|224,o[i++]=c>>>6&63|128;else{if(0!=(4292870144&c))continue;o[i++]=c>>>18&7|240,o[i++]=c>>>12&63|128,o[i++]=c>>>6&63|128}o[i++]=63&c|128}}return o.slice?o.slice(0,i):o.subarray(0,i)},Object.defineProperty(n.prototype,\"encoding\",{value:\"utf-8\"}),Object.defineProperty(n.prototype,\"fatal\",{value:!1}),Object.defineProperty(n.prototype,\"ignoreBOM\",{value:!1});var o=i;\"function\"==typeof Buffer&&Buffer.from?o=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString(\"utf-8\")}:\"function\"==typeof Blob&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&(o=function(e){var t=URL.createObjectURL(new Blob([e],{type:\"text/plain;charset=UTF-8\"}));try{var n=new XMLHttpRequest;return n.open(\"GET\",t,!1),n.send(),n.responseText}catch(t){return i(e)}finally{URL.revokeObjectURL(t)}}),n.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error(\"Failed to decode: the 'stream' option is unsupported.\");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),o(e)},e.TextEncoder=t,e.TextDecoder=n}(\"undefined\"!=typeof window?window:c),function(){function e(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function u(e,t){return!t||\"object\"!=typeof t&&\"function\"!=typeof t?a(e):t}function l(e){var t=s();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}function g(e,t,n){return(g=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=d(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}var f=function(){function t(){e(this,t),Object.defineProperty(this,\"listeners\",{value:{},writable:!0,configurable:!0})}return n(t,[{key:\"addEventListener\",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:\"removeEventListener\",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,r=n.length;i<r;i++)if(n[i]===t)return void n.splice(i,1)}},{key:\"dispatchEvent\",value:function(e){var t=this;if(e.type in this.listeners){for(var n=function(n){setTimeout((function(){return n.call(t,e)}))},i=this.listeners[e.type],r=0,o=i.length;r<o;r++)n(i[r]);return!e.defaultPrevented}}}]),t}(),I=function(t){i(c,t);var o=l(c);function c(){var t;return e(this,c),(t=o.call(this)).listeners||f.call(a(t)),Object.defineProperty(a(t),\"aborted\",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(t),\"onabort\",{value:null,writable:!0,configurable:!0}),t}return n(c,[{key:\"toString\",value:function(){return\"[object AbortSignal]\"}},{key:\"dispatchEvent\",value:function(e){\"abort\"===e.type&&(this.aborted=!0,\"function\"==typeof this.onabort&&this.onabort.call(this,e)),g(r(c.prototype),\"dispatchEvent\",this).call(this,e)}}]),c}(f),p=function(){function t(){e(this,t),Object.defineProperty(this,\"signal\",{value:new I,writable:!0,configurable:!0})}return n(t,[{key:\"abort\",value:function(){var e;try{e=new Event(\"abort\")}catch(t){\"undefined\"!=typeof document?document.createEvent?(e=document.createEvent(\"Event\")).initEvent(\"abort\",!1,!1):(e=document.createEventObject()).type=\"abort\":e={type:\"abort\",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:\"toString\",value:function(){return\"[object AbortController]\"}}]),t}();function h(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log(\"__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill\"),!0):\"function\"==typeof e.Request&&!e.Request.prototype.hasOwnProperty(\"signal\")||!e.AbortController}\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]=\"AbortController\",I.prototype[Symbol.toStringTag]=\"AbortSignal\"),function(e){h(e)&&(e.AbortController=p,e.AbortSignal=I)}(\"undefined\"!=typeof self?self:c)}();var Sr=a((function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var i=e.locked.get(t);void 0===i?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(i.unshift(n),e.locked.set(t,i))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,i){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var i=n.pop();e.locked.set(t,n),void 0!==i&&setTimeout(i,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));s(Sr);var Zr=s(a((function(e,t){var n=c&&c.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function c(e){try{a(i.next(e))}catch(e){o(e)}}function s(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(c,s)}a((i=i.apply(e,t||[])).next())}))},i=c&&c.__generator||function(e,t){var n,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;c;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"browser-tabs-lock-key\";function o(e){return new Promise((function(t){return setTimeout(t,e)}))}function s(e){for(var t=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\",n=\"\",i=0;i<e;i++){n+=t[Math.floor(Math.random()*t.length)]}return n}var a=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+s(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,c){return void 0===c&&(c=5e3),n(this,void 0,void 0,(function(){var n,a,u,l,d,g;return i(this,(function(i){switch(i.label){case 0:n=Date.now()+s(4),a=Date.now()+c,u=r+\"-\"+t,l=window.localStorage,i.label=1;case 1:return Date.now()<a?[4,o(30)]:[3,8];case 2:return i.sent(),null!==l.getItem(u)?[3,5]:(d=this.id+\"-\"+t+\"-\"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return i.sent(),l.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return i.sent(),null!==(g=l.getItem(u))&&(g=JSON.parse(g)).id===this.id&&g.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(a)];case 6:i.sent(),i.label=7;case 7:return n=Date.now()+s(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var r=this;return i(this,(function(o){return setTimeout((function(){return n(r,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,Sr.default().lock(t)];case 1:return i.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(r=n.getItem(e))?(Sr.default().unlock(t),[2]):((r=JSON.parse(r)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(r)),Sr.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(Sr.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var i=!1,r=Date.now(),o=!1;function c(){if(o||(window.removeEventListener(\"storage\",c),e.removeFromWaiting(c),clearTimeout(s),o=!0),!i){i=!0;var t=50-(Date.now()-r);t>0?setTimeout(n,t):n()}}window.addEventListener(\"storage\",c),e.addToWaiting(c);var s=setTimeout(c,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,o,c;return i(this,(function(i){switch(i.label){case 0:return n=window.localStorage,o=r+\"-\"+t,null===(c=n.getItem(o))?[2]:(c=JSON.parse(c)).id!==this.id?[3,2]:[4,Sr.default().lock(c.iat)];case 1:i.sent(),this.acquiredIatSet.delete(c.iat),n.removeItem(o),Sr.default().unlock(c.iat),e.notifyWaiters(),i.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,i=Object.keys(n),o=!1,c=0;c<i.length;c++){var s=i[c];if(s.includes(r)){var a=n.getItem(s);null!==a&&(void 0===(a=JSON.parse(a)).timeRefreshed&&a.timeAcquired<t||void 0!==a.timeRefreshed&&a.timeRefreshed<t)&&(n.removeItem(s),o=!0)}}o&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=a}))),Vr={timeoutInSeconds:60},Gr=[\"login_required\",\"consent_required\",\"interaction_required\",\"account_selection_required\",\"access_denied\"],Xr={name:\"auth0-spa-js\",version:\"1.13.6\"},wr=function(e){function n(t,i){var r=e.call(this,i)||this;return r.error=t,r.error_description=i,Object.setPrototypeOf(r,n.prototype),r}return t(n,e),n.fromPayload=function(e){return new n(e.error,e.error_description)},n}(Error),xr=function(e){function n(t,i,r,o){void 0===o&&(o=null);var c=e.call(this,t,i)||this;return c.state=r,c.appState=o,Object.setPrototypeOf(c,n.prototype),c}return t(n,e),n}(wr),Ar=function(e){function n(){var t=e.call(this,\"timeout\",\"Timeout\")||this;return Object.setPrototypeOf(t,n.prototype),t}return t(n,e),n}(wr),Rr=function(e){function n(t){var i=e.call(this)||this;return i.popup=t,Object.setPrototypeOf(i,n.prototype),i}return t(n,e),n}(Ar),Qr=function(e,t,n){return void 0===n&&(n=60),new Promise((function(i,r){var o=window.document.createElement(\"iframe\");o.setAttribute(\"width\",\"0\"),o.setAttribute(\"height\",\"0\"),o.style.display=\"none\";var c,s=function(){window.document.body.contains(o)&&(window.document.body.removeChild(o),window.removeEventListener(\"message\",c,!1))},a=setTimeout((function(){r(new Ar),s()}),1e3*n);c=function(e){if(e.origin==t&&e.data&&\"authorization_response\"===e.data.type){var n=e.source;n&&n.close(),e.data.response.error?r(wr.fromPayload(e.data.response)):i(e.data.response),clearTimeout(a),window.removeEventListener(\"message\",c,!1),setTimeout(s,2e3)}},window.addEventListener(\"message\",c,!1),window.document.body.appendChild(o),o.setAttribute(\"src\",e)}))},Jr=function(e,t){var n,i,r,o=t.popup;if(o?o.location.href=e:(n=e,i=window.screenX+(window.innerWidth-400)/2,r=window.screenY+(window.innerHeight-600)/2,o=window.open(n,\"auth0:authorize:popup\",\"left=\"+i+\",top=\"+r+\",width=400,height=600,resizable,scrollbars=yes,status=1\")),!o)throw new Error(\"Could not open popup\");return new Promise((function(e,n){var i,r=setTimeout((function(){n(new Rr(o)),window.removeEventListener(\"message\",i,!1)}),1e3*(t.timeoutInSeconds||60));i=function(t){if(t.data&&\"authorization_response\"===t.data.type){if(clearTimeout(r),window.removeEventListener(\"message\",i,!1),o.close(),t.data.response.error)return n(wr.fromPayload(t.data.response));e(t.data.response)}},window.addEventListener(\"message\",i)}))},Wr=function(){return window.crypto||window.msCrypto},kr=function(){var e=Wr();return e.subtle||e.webkitSubtle},Hr=function(){var e=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.\",t=\"\";return Array.from(Wr().getRandomValues(new Uint8Array(43))).forEach((function(n){return t+=e[n%e.length]})),t},Lr=function(e){return btoa(e)},Er=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+\"=\"+encodeURIComponent(e[t])})).join(\"&\")},Tr=function(e){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t=kr().digest({name:\"SHA-256\"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n(\"The digest operation was aborted\")}}))]:[4,t];case 1:return[2,n.sent()]}}))}))},Yr=function(e){return function(e){return decodeURIComponent(atob(e).split(\"\").map((function(e){return\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2)})).join(\"\"))}(e.replace(/_/g,\"/\").replace(/-/g,\"+\"))},Nr=function(e){var t=new Uint8Array(e);return function(e){var t={\"+\":\"-\",\"/\":\"_\",\"=\":\"\"};return e.replace(/[+/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(t))))};var Kr=function(e,t){return r(void 0,void 0,void 0,(function(){var n,i;return o(this,(function(r){switch(r.label){case 0:return[4,(o=e,c=t,c=c||{},new Promise((function(e,t){var n=new XMLHttpRequest,i=[],r=[],s={},a=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:a,headers:{keys:function(){return i},entries:function(){return r},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var u in n.open(c.method||\"get\",o,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),r.push([t,n]),s[t]=s[t]?s[t]+\",\"+n:n})),e(a())},n.onerror=t,n.withCredentials=\"include\"==c.credentials,c.headers)n.setRequestHeader(u,c.headers[u]);n.send(c.body||null)})))];case 1:return n=r.sent(),i={ok:n.ok},[4,n.json()];case 2:return[2,(i.json=r.sent(),i)]}var o,c}))}))},Or=function(e,t,n){return r(void 0,void 0,void 0,(function(){var i,r;return o(this,(function(o){return i=new AbortController,t.signal=i.signal,[2,Promise.race([Kr(e,t),new Promise((function(e,t){r=setTimeout((function(){i.abort(),t(new Error(\"Timeout when executing 'fetch'\"))}),n)}))]).finally((function(){clearTimeout(r)}))]}))}))},zr=function(e,t,n,i,c,s){return r(void 0,void 0,void 0,(function(){return o(this,(function(r){return[2,(o={auth:{audience:t,scope:n},timeout:c,fetchUrl:e,fetchOptions:i},a=s,new Promise((function(e,t){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data)},a.postMessage(o,[n.port2])})))];var o,a}))}))},jr=function(e,t,n,i,c,s){return void 0===s&&(s=1e4),r(void 0,void 0,void 0,(function(){return o(this,(function(r){return c?[2,zr(e,t,n,i,s,c)]:[2,Or(e,i,s)]}))}))};function _r(e,t,n,c,s,a){return r(this,void 0,void 0,(function(){var r,u,l,d,g,f,I,p;return o(this,(function(o){switch(o.label){case 0:r=null,l=0,o.label=1;case 1:if(!(l<3))return[3,6];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,jr(e,n,c,s,a,t)];case 3:return u=o.sent(),r=null,[3,6];case 4:return d=o.sent(),r=d,[3,5];case 5:return l++,[3,1];case 6:if(r)throw r.message=r.message||\"Failed to fetch\",r;if(g=u.json,f=g.error,I=g.error_description,p=i(g,[\"error\",\"error_description\"]),!u.ok)throw new wr(f||\"request_error\",I||\"HTTP error. Unable to fetch \"+e);return[2,p]}}))}))}var Dr=function(e){return Array.from(new Set(e))},Pr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dr(e.join(\" \").trim().split(/\\s+/)).join(\" \")};function Mr(e,t){var n=e.baseUrl,c=e.timeout,s=e.audience,a=e.scope,u=e.auth0Client,l=i(e,[\"baseUrl\",\"timeout\",\"audience\",\"scope\",\"auth0Client\"]);return r(this,void 0,void 0,(function(){var e,i;return o(this,(function(r){switch(r.label){case 0:return[4,_r(n+\"/oauth/token\",c,s||\"default\",a,{method:\"POST\",body:JSON.stringify(l),headers:{\"Content-type\":\"application/json\",\"Auth0-Client\":btoa(JSON.stringify(u||Xr))}},t)];case 1:return e=r.sent(),(i=function(e,t){void 0===e&&(e=\"\"),void 0===t&&(t=\"\");var n=e.split(/\\s+/),i=t.split(/\\s+/);return n.filter((function(e){return!i.includes(e)})).join(\" \")}(a,e.scope)).length&&console.warn(\"The requested scopes (\"+a+\") are different from the scopes of the retrieved token (\"+e.scope+\"). This could mean that your access token may not include all the scopes that you expect. It is advised to resolve this by either:\\n  \\n  - Removing `\"+i+\"` from the scope when requesting a new token.\\n  - Ensuring `\"+i+\"` is returned as part of the requested token's scopes.\"),[2,e]}}))}))}var qr=function(){function e(e,t){void 0===t&&(t=$r),this.prefix=t,this.client_id=e.client_id,this.scope=e.scope,this.audience=e.audience}return e.prototype.toKey=function(){return this.prefix+\"::\"+this.client_id+\"::\"+this.audience+\"::\"+this.scope},e.fromKey=function(t){var n=t.split(\"::\"),i=n[0],r=n[1],o=n[2];return new e({client_id:r,scope:n[3],audience:o},i)},e}(),$r=\"@@auth0spajs@@\",eo=function(e){var t=Math.floor(Date.now()/1e3)+e.expires_in;return{body:e,expiresAt:Math.min(t,e.decodedToken.claims.exp)}},to=function(e,t){var n=e.client_id,i=e.audience,r=e.scope;return t.filter((function(e){var t=qr.fromKey(e),o=t.prefix,c=t.client_id,s=t.audience,a=t.scope,u=a&&a.split(\" \"),l=a&&r.split(\" \").reduce((function(e,t){return e&&u.includes(t)}),!0);return o===$r&&c===n&&s===i&&l}))[0]},no=function(){function e(){}return e.prototype.save=function(e){var t=new qr({client_id:e.client_id,scope:e.scope,audience:e.audience}),n=eo(e);window.localStorage.setItem(t.toKey(),JSON.stringify(n))},e.prototype.get=function(e,t){void 0===t&&(t=0);var n=this.readJson(e),i=Math.floor(Date.now()/1e3);if(n){if(!(n.expiresAt-t<i))return n.body;if(n.body.refresh_token){var r=this.stripData(n);return this.writeJson(e.toKey(),r),r.body}localStorage.removeItem(e.toKey())}},e.prototype.clear=function(){for(var e=localStorage.length-1;e>=0;e--)localStorage.key(e).startsWith($r)&&localStorage.removeItem(localStorage.key(e))},e.prototype.readJson=function(e){var t,n=to(e,Object.keys(window.localStorage)),i=n&&window.localStorage.getItem(n);if(i&&(t=JSON.parse(i)))return t},e.prototype.writeJson=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.stripData=function(e){return{body:{refresh_token:e.body.refresh_token},expiresAt:e.expiresAt}},e}(),io=function(){this.enclosedCache=function(){var e={};return{save:function(t){var n=new qr({client_id:t.client_id,scope:t.scope,audience:t.audience}),i=eo(t);e[n.toKey()]=i},get:function(t,n){void 0===n&&(n=0);var i=to(t,Object.keys(e)),r=e[i],o=Math.floor(Date.now()/1e3);if(r)return r.expiresAt-n<o?r.body.refresh_token?(r.body={refresh_token:r.body.refresh_token},r.body):void delete e[t.toKey()]:r.body},clear:function(){e={}}}}()},ro=function(){function e(e){this.storage=e,this.transaction=this.storage.get(\"a0.spajs.txs\")}return e.prototype.create=function(e){this.transaction=e,this.storage.save(\"a0.spajs.txs\",e,{daysUntilExpire:1})},e.prototype.get=function(){return this.transaction},e.prototype.remove=function(){delete this.transaction,this.storage.remove(\"a0.spajs.txs\")},e}(),oo=function(e){return\"number\"==typeof e},co=[\"iss\",\"aud\",\"exp\",\"nbf\",\"iat\",\"jti\",\"azp\",\"nonce\",\"auth_time\",\"at_hash\",\"c_hash\",\"acr\",\"amr\",\"sub_jwk\",\"cnf\",\"sip_from_tag\",\"sip_date\",\"sip_callid\",\"sip_cseq_num\",\"sip_via_branch\",\"orig\",\"dest\",\"mky\",\"events\",\"toe\",\"txn\",\"rph\",\"sid\",\"vot\",\"vtm\"],so=function(e){if(!e.id_token)throw new Error(\"ID token is required but missing\");var t=function(e){var t=e.split(\".\"),n=t[0],i=t[1],r=t[2];if(3!==t.length||!n||!i||!r)throw new Error(\"ID token could not be decoded\");var o=JSON.parse(Yr(i)),c={__raw:e},s={};return Object.keys(o).forEach((function(e){c[e]=o[e],co.includes(e)||(s[e]=o[e])})),{encoded:{header:n,payload:i,signature:r},header:JSON.parse(Yr(n)),claims:c,user:s}}(e.id_token);if(!t.claims.iss)throw new Error(\"Issuer (iss) claim must be a string present in the ID token\");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected \"'+e.iss+'\", found \"'+t.claims.iss+'\"');if(!t.user.sub)throw new Error(\"Subject (sub) claim must be a string present in the ID token\");if(\"RS256\"!==t.header.alg)throw new Error('Signature algorithm of \"'+t.header.alg+'\" is not supported. Expected the ID token to be signed with \"RS256\".');if(!t.claims.aud||\"string\"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error(\"Audience (aud) claim must be a string or array of strings present in the ID token\");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected \"'+e.aud+'\" but was not one of \"'+t.claims.aud.join(\", \")+'\"');if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error(\"Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values\");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected \"'+e.aud+'\", found \"'+t.claims.azp+'\"')}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected \"'+e.aud+'\" but found \"'+t.claims.aud+'\"');if(e.nonce){if(!t.claims.nonce)throw new Error(\"Nonce (nonce) claim must be a string present in the ID token\");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected \"'+e.nonce+'\", found \"'+t.claims.nonce+'\"')}if(e.max_age&&!oo(t.claims.auth_time))throw new Error(\"Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified\");if(!oo(t.claims.exp))throw new Error(\"Expiration Time (exp) claim must be a number present in the ID token\");if(!oo(t.claims.iat))throw new Error(\"Issued At (iat) claim must be a number present in the ID token\");var n=e.leeway||60,i=new Date(Date.now()),r=new Date(0),o=new Date(0),c=new Date(0);if(c.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),r.setUTCSeconds(t.claims.exp+n),o.setUTCSeconds(t.claims.nbf-n),i>r)throw new Error(\"Expiration Time (exp) claim error in the ID token; current time (\"+i+\") is after expiration time (\"+r+\")\");if(oo(t.claims.nbf)&&i<o)throw new Error(\"Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time (\"+i+\") is before \"+o);if(oo(t.claims.auth_time)&&i>c)throw new Error(\"Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time (\"+i+\") is after last auth at \"+c);if(e.organizationId){if(!t.claims.org_id)throw new Error(\"Organization ID (org_id) claim must be a string present in the ID token\");if(e.organizationId!==t.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected \"'+e.organizationId+'\", found \"'+t.claims.org_id+'\"')}return t},ao=a((function(e,t){var n=c&&c.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t){if(!t)return\"\";var n=\"; \"+e;return!0===t?n:n+\"=\"+t}function r(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\")+\"=\"+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if(\"number\"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return i(\"Expires\",e.expires?e.expires.toUTCString():\"\")+i(\"Domain\",e.domain)+i(\"Path\",e.path)+i(\"Secure\",e.secure)+i(\"SameSite\",e.sameSite)}(n)}function o(e){for(var t={},n=e?e.split(\"; \"):[],i=/(%[\\dA-F]{2})+/gi,r=0;r<n.length;r++){var o=n[r].split(\"=\"),c=o.slice(1).join(\"=\");'\"'===c.charAt(0)&&(c=c.slice(1,-1));try{t[o[0].replace(i,decodeURIComponent)]=c.replace(i,decodeURIComponent)}catch(e){}}return t}function s(){return o(document.cookie)}function a(e,t,i){document.cookie=r(e,t,n({path:\"/\"},i))}t.__esModule=!0,t.encode=r,t.parse=o,t.getAll=s,t.get=function(e){return s()[e]},t.set=a,t.remove=function(e,t){a(e,\"\",n(n({},t),{expires:-1}))}}));s(ao);ao.encode,ao.parse,ao.getAll;var uo=ao.get,lo=ao.set,go=ao.remove,fo={get:function(e){var t=uo(e);if(void 0!==t)return JSON.parse(t)},save:function(e,t,n){var i={};\"https:\"===window.location.protocol&&(i={secure:!0,sameSite:\"none\"}),i.expires=n.daysUntilExpire,lo(e,JSON.stringify(t),i)},remove:function(e){go(e)}},Io={get:function(e){var t=fo.get(e);return t||fo.get(\"_legacy_\"+e)},save:function(e,t,n){var i={};\"https:\"===window.location.protocol&&(i={secure:!0}),i.expires=n.daysUntilExpire,lo(\"_legacy_\"+e,JSON.stringify(t),i),fo.save(e,t,n)},remove:function(e){fo.remove(e),fo.remove(\"_legacy_\"+e)}},po={get:function(e){if(\"undefined\"!=typeof sessionStorage){var t=sessionStorage.getItem(e);if(void 0!==t)return JSON.parse(t)}},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};function ho(e,t,n){var i=void 0===t?null:t,r=function(e,t){var n=atob(e);if(t){for(var i=new Uint8Array(n.length),r=0,o=n.length;r<o;++r)i[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(e,void 0!==n&&n),o=r.indexOf(\"\\n\",10)+1,c=r.substring(o)+(i?\"//# sourceMappingURL=\"+i:\"\"),s=new Blob([c],{type:\"application/javascript\"});return URL.createObjectURL(s)}var yo,bo,mo,vo,Bo=(yo=\"Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlCiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZQogICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVECiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLAogICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC4KCiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMKICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHQoZSx0KXt2YXIgcixuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYocj0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7cj1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciByPXt9LG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsifCIrdH07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGM9by5kYXRhLGw9Yy50aW1lb3V0LGY9Yy5hdXRoLGg9Yy5mZXRjaFVybCxwPWMuZmV0Y2hPcHRpb25zLGI9by5wb3J0c1swXTtyZXR1cm4gcz12b2lkIDAsYT12b2lkIDAsdT1mdW5jdGlvbigpe3ZhciBvLHMsYSxpLHUsYyx5LGQsdix3O3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6YT0ocz1mfHx7fSkuYXVkaWVuY2UsaT1zLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEodT1KU09OLnBhcnNlKHAuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXUuZ3JhbnRfdHlwZSl7aWYoIShjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHJbbihlLHQpXX0oYSxpKSkpdGhyb3cgbmV3IEVycm9yKCJUaGUgd2ViIHdvcmtlciBpcyBtaXNzaW5nIHRoZSByZWZyZXNoIHRva2VuIik7cC5ib2R5PUpTT04uc3RyaW5naWZ5KGUoZSh7fSx1KSx7cmVmcmVzaF90b2tlbjpjfSkpfXk9dm9pZCAwLCJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJih5PW5ldyBBYm9ydENvbnRyb2xsZXIscC5zaWduYWw9eS5zaWduYWwpLGQ9dm9pZCAwLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHQudHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCxQcm9taXNlLnJhY2UoWyhnPWwsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3JldHVybiBzZXRUaW1lb3V0KGUsZyl9KSkpLGZldGNoKGgsZSh7fSxwKSldKV07Y2FzZSAzOnJldHVybiBkPXQuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdj10LnNlbnQoKSxiLnBvc3RNZXNzYWdlKHtlcnJvcjp2Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiBkP1s0LGQuanNvbigpXTooeSYmeS5hYm9ydCgpLGIucG9zdE1lc3NhZ2Uoe2Vycm9yOiJUaW1lb3V0IHdoZW4gZXhlY3V0aW5nICdmZXRjaCcifSksWzJdKTtjYXNlIDY6cmV0dXJuKG89dC5zZW50KCkpLnJlZnJlc2hfdG9rZW4/KGZ1bmN0aW9uKGUsdCxvKXtyW24odCxvKV09ZX0oby5yZWZyZXNoX3Rva2VuLGEsaSksZGVsZXRlIG8ucmVmcmVzaF90b2tlbik6ZnVuY3Rpb24oZSx0KXtkZWxldGUgcltuKGUsdCldfShhLGkpLGIucG9zdE1lc3NhZ2Uoe29rOmQub2ssanNvbjpvfSksWzMsOF07Y2FzZSA3OnJldHVybiB3PXQuc2VudCgpLGIucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yX2Rlc2NyaXB0aW9uOncubWVzc2FnZX19KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfXZhciBnfSkpfSxuZXcoKGk9dm9pZCAwKXx8KGk9UHJvbWlzZSkpKChmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7dHJ5e28odS5uZXh0KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBuKGUpe3RyeXtvKHUudGhyb3coZSkpfWNhdGNoKGUpe3QoZSl9fWZ1bmN0aW9uIG8odCl7dC5kb25lP2UodC52YWx1ZSk6bmV3IGkoKGZ1bmN0aW9uKGUpe2UodC52YWx1ZSl9KSkudGhlbihyLG4pfW8oKHU9dS5hcHBseShzLGF8fFtdKSkubmV4dCgpKX0pKX0pKX0oKTsKCg==\",bo=\"data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy93b3JrZXIvdG9rZW4ud29ya2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB2ZXJzaW9uIGZyb20gJy4vdmVyc2lvbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTID0gNjA7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1BVUF9DT05GSUdfT1BUSU9OUzogUG9wdXBDb25maWdPcHRpb25zID0ge1xuICB0aW1lb3V0SW5TZWNvbmRzOiBERUZBVUxUX0FVVEhPUklaRV9USU1FT1VUX0lOX1NFQ09ORFNcbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9TSUxFTlRfVE9LRU5fUkVUUllfQ09VTlQgPSAzO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IENMRUFOVVBfSUZSQU1FX1RJTUVPVVRfSU5fU0VDT05EUyA9IDI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9GRVRDSF9USU1FT1VUX01TID0gMTAwMDA7XG5cbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9NRU1PUlkgPSAnbWVtb3J5JztcbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9MT0NBTF9TVE9SQUdFID0gJ2xvY2Fsc3RvcmFnZSc7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPVxuICAnVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPSAnaW52YWxpZCByZWZyZXNoIHRva2VuJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDT1BFID0gJ29wZW5pZCBwcm9maWxlIGVtYWlsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGlzc3VlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd2hpY2ggdGhlXG4gKiB1c2VyIGNhbiByZWNvdmVyIGZyb20gYnkgc2lnbmluZyBpbiBpbnRlcmFjdGl2ZWx5LlxuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjQXV0aEVycm9yXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBSRUNPVkVSQUJMRV9FUlJPUlMgPSBbXG4gICdsb2dpbl9yZXF1aXJlZCcsXG4gICdjb25zZW50X3JlcXVpcmVkJyxcbiAgJ2ludGVyYWN0aW9uX3JlcXVpcmVkJyxcbiAgJ2FjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkJyxcbiAgLy8gU3RyaWN0bHkgc3BlYWtpbmcgdGhlIHVzZXIgY2FuJ3QgcmVjb3ZlciBmcm9tIGBhY2Nlc3NfZGVuaWVkYCAtIGJ1dCB0aGV5XG4gIC8vIGNhbiBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVpciBhY2Nlc3MgYmVpbmcgZGVuaWVkIGJ5IGxvZ2dpbmcgaW5cbiAgLy8gaW50ZXJhY3RpdmVseS5cbiAgJ2FjY2Vzc19kZW5pZWQnXG5dO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9DSEVDS19FWFBJUllfREFZUyA9IDE7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIMF9DTElFTlQgPSB7XG4gIG5hbWU6ICdhdXRoMC1zcGEtanMnLFxuICB2ZXJzaW9uOiB2ZXJzaW9uXG59O1xuIiwiaW1wb3J0IHsgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgV29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZSB9IGZyb20gJy4vd29ya2VyLnR5cGVzJztcblxubGV0IHJlZnJlc2hUb2tlbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT4gYCR7YXVkaWVuY2V9fCR7c2NvcGV9YDtcblxuY29uc3QgZ2V0UmVmcmVzaFRva2VuID0gKGF1ZGllbmNlOiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcpID0+XG4gIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHNldFJlZnJlc2hUb2tlbiA9IChcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmcsXG4gIGF1ZGllbmNlOiBzdHJpbmcsXG4gIHNjb3BlOiBzdHJpbmdcbikgPT4gKHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV0gPSByZWZyZXNoVG9rZW4pO1xuXG5jb25zdCBkZWxldGVSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQgPSAodGltZTogbnVtYmVyKSA9PlxuICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xuXG5jb25zdCBtZXNzYWdlSGFuZGxlciA9IGFzeW5jICh7XG4gIGRhdGE6IHsgdGltZW91dCwgYXV0aCwgZmV0Y2hVcmwsIGZldGNoT3B0aW9ucyB9LFxuICBwb3J0czogW3BvcnRdXG59OiBNZXNzYWdlRXZlbnQ8V29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZT4pID0+IHtcbiAgbGV0IGpzb246IHtcbiAgICByZWZyZXNoX3Rva2VuPzogc3RyaW5nO1xuICB9O1xuXG4gIGNvbnN0IHsgYXVkaWVuY2UsIHNjb3BlIH0gPSBhdXRoIHx8IHt9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UoZmV0Y2hPcHRpb25zLmJvZHkpO1xuXG4gICAgaWYgKCFib2R5LnJlZnJlc2hfdG9rZW4gJiYgYm9keS5ncmFudF90eXBlID09PSAncmVmcmVzaF90b2tlbicpIHtcbiAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdldFJlZnJlc2hUb2tlbihhdWRpZW5jZSwgc2NvcGUpO1xuXG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4uYm9keSxcbiAgICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IGFib3J0Q29udHJvbGxlci5zaWduYWw7XG4gICAgfVxuXG4gICAgbGV0IHJlc3BvbnNlOiBhbnk7XG5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICB3YWl0KHRpbWVvdXQpLFxuICAgICAgICBmZXRjaChmZXRjaFVybCwgeyAuLi5mZXRjaE9wdGlvbnMgfSlcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBmZXRjaCBlcnJvciwgcmVqZWN0IGBzZW5kTWVzc2FnZWAgdXNpbmcgYGVycm9yYCBrZXkgc28gdGhhdCB3ZSByZXRyeS5cbiAgICAgIHBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYHN3aXRjaEZldGNoYCByYWlzZSB0aGUgZXJyb3IuXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBcIlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJ1wiXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidGltZW91dCIsImF1dGgiLCJmZXRjaFVybCIsImZldGNoT3B0aW9ucyIsInBvcnQiLCJfYyIsIkpTT04iLCJwYXJzZSIsInJlZnJlc2hfdG9rZW4iLCJncmFudF90eXBlIiwicmVmcmVzaFRva2VuIiwiZ2V0UmVmcmVzaFRva2VuIiwiRXJyb3IiLCJzdHJpbmdpZnkiLCJhYm9ydENvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJzaWduYWwiLCJyZXNwb25zZSIsIlByb21pc2UiLCJyYWNlIiwidGltZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZmV0Y2giLCJfZCIsInBvc3RNZXNzYWdlIiwiZXJyb3IiLCJlcnJvcl8xIiwibWVzc2FnZSIsImpzb24iLCJhYm9ydCIsInNldFJlZnJlc2hUb2tlbiIsImRlbGV0ZVJlZnJlc2hUb2tlbiIsIm9rIiwiZXJyb3JfZGVzY3JpcHRpb24iLCJlcnJvcl8yIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztvRkE2Qk8sSUFBSUEsRUFBVyxXQVFsQixPQVBBQSxFQUFXQyxPQUFPQyxRQUFVLFNBQWtCQyxHQUMxQyxJQUFLLElBQUlDLEVBQUdDLEVBQUksRUFBR0MsRUFBSUMsVUFBVUMsT0FBUUgsRUFBSUMsRUFBR0QsSUFFNUMsSUFBSyxJQUFJSSxLQURUTCxFQUFJRyxVQUFVRixHQUNPSixPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxJQUU5RSxPQUFPTixJQUVLVSxNQUFNQyxLQUFNUCxZQXVDekIsU0FBU1EsRUFBWUMsRUFBU0MsR0FDakMsSUFBc0dDLEVBQUdDLEVBQUdoQixFQUFHaUIsRUFBM0dDLEVBQUksQ0FBRUMsTUFBTyxFQUFHQyxLQUFNLFdBQWEsR0FBVyxFQUFQcEIsRUFBRSxHQUFRLE1BQU1BLEVBQUUsR0FBSSxPQUFPQSxFQUFFLElBQU9xQixLQUFNLEdBQUlDLElBQUssSUFDaEcsT0FBT0wsRUFBSSxDQUFFTSxLQUFNQyxFQUFLLEdBQUlDLE1BQVNELEVBQUssR0FBSUUsT0FBVUYsRUFBSyxJQUF3QixtQkFBWEcsU0FBMEJWLEVBQUVVLE9BQU9DLFVBQVksV0FBYSxPQUFPakIsT0FBVU0s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\",mo=!1,function(e){return vo=vo||ho(yo,bo,mo),new Worker(vo,e)}),Co={},Fo=new Zr,Uo={memory:function(){return(new io).enclosedCache},localstorage:function(){return new no}},So=function(e){return Uo[e]},Zo=function(){return!/Trident.*rv:11\\.0/.test(navigator.userAgent)},Vo=function(){function e(e){var t,n;if(this.options=e,\"undefined\"!=typeof window&&function(){if(!Wr())throw new Error(\"For security reasons, `window.crypto` is required to run `auth0-spa-js`.\");if(void 0===kr())throw new Error(\"\\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\\n    \")}(),this.cacheLocation=e.cacheLocation||\"memory\",this.cookieStorage=!1===e.legacySameSiteCookie?fo:Io,this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1,!So(this.cacheLocation))throw new Error('Invalid cache location \"'+this.cacheLocation+'\"');var r,o,c=e.useCookiesForTransactions?this.cookieStorage:po;this.cache=So(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new ro(c),this.domainUrl=\"https://\"+this.options.domain,this.tokenIssuer=(r=this.options.issuer,o=this.domainUrl,r?r.startsWith(\"https://\")?r:\"https://\"+r+\"/\":o+\"/\"),this.defaultScope=Pr(\"openid\",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:\"openid profile email\"),this.options.useRefreshTokens&&(this.scope=Pr(this.scope,\"offline_access\")),\"undefined\"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&\"memory\"===this.cacheLocation&&Zo()&&(this.worker=new Bo),this.customOptions=function(e){return e.advancedOptions,e.audience,e.auth0Client,e.authorizeTimeoutInSeconds,e.cacheLocation,e.client_id,e.domain,e.issuer,e.leeway,e.max_age,e.redirect_uri,e.scope,e.useRefreshTokens,i(e,[\"advancedOptions\",\"audience\",\"auth0Client\",\"authorizeTimeoutInSeconds\",\"cacheLocation\",\"client_id\",\"domain\",\"issuer\",\"leeway\",\"max_age\",\"redirect_uri\",\"scope\",\"useRefreshTokens\"])}(e)}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Xr)));return\"\"+this.domainUrl+e+\"&auth0Client=\"+t},e.prototype._getParams=function(e,t,r,o,c){var s=this.options,a=(s.domain,s.leeway,s.useRefreshTokens,s.useCookiesForTransactions,s.auth0Client,s.cacheLocation,s.advancedOptions,i(s,[\"domain\",\"leeway\",\"useRefreshTokens\",\"useCookiesForTransactions\",\"auth0Client\",\"cacheLocation\",\"advancedOptions\"]));return n(n(n({},a),e),{scope:Pr(this.defaultScope,this.scope,e.scope),response_type:\"code\",response_mode:\"query\",state:t,nonce:r,redirect_uri:c||this.options.redirect_uri,code_challenge:o,code_challenge_method:\"S256\"})},e.prototype._authorizeUrl=function(e){return this._url(\"/authorize?\"+Er(e))},e.prototype._verifyIdToken=function(e,t,n){return so({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},e.prototype._parseNumber=function(e){return\"string\"!=typeof e?e:parseInt(e,10)||void 0},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){var t,r,c,s,a,u,l,d,g,f,I,p;return o(this,(function(o){switch(o.label){case 0:return t=e.redirect_uri,r=e.appState,c=i(e,[\"redirect_uri\",\"appState\"]),s=Lr(Hr()),a=Lr(Hr()),u=Hr(),[4,Tr(u)];case 1:return l=o.sent(),d=Nr(l),g=e.fragment?\"#\"+e.fragment:\"\",f=this._getParams(c,s,a,d,t),I=this._authorizeUrl(f),p=e.organization||this.options.organization,this.transactionManager.create(n({nonce:a,code_verifier:u,appState:r,scope:f.scope,audience:f.audience||\"default\",redirect_uri:f.redirect_uri},p&&{organizationId:p})),[2,I+g]}}))}))},e.prototype.loginWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),r(this,void 0,void 0,(function(){var r,c,s,a,u,l,d,g,f,I,p,h,y;return o(this,(function(o){switch(o.label){case 0:return r=i(e,[]),c=Lr(Hr()),s=Lr(Hr()),a=Hr(),[4,Tr(a)];case 1:return u=o.sent(),l=Nr(u),d=this._getParams(r,c,s,l,this.options.redirect_uri||window.location.origin),g=this._authorizeUrl(n(n({},d),{response_mode:\"web_message\"})),[4,Jr(g,n(n({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(f=o.sent(),c!==f.state)throw new Error(\"Invalid state\");return[4,Mr({audience:d.audience,scope:d.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a,code:f.code,grant_type:\"authorization_code\",redirect_uri:d.redirect_uri,auth0Client:this.options.auth0Client},this.worker)];case 3:return I=o.sent(),p=e.organization||this.options.organization,h=this._verifyIdToken(I.id_token,s,p),y=n(n({},I),{decodedToken:h,scope:d.scope,audience:d.audience||\"default\",client_id:this.options.client_id}),this.cache.save(y),this.cookieStorage.save(\"auth0.is.authenticated\",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){var t,n,i;return o(this,(function(r){return t=e.audience||this.options.audience||\"default\",n=Pr(this.defaultScope,this.scope,e.scope),[2,(i=this.cache.get(new qr({client_id:this.options.client_id,audience:t,scope:n})))&&i.decodedToken&&i.decodedToken.user]}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){var t,n,i;return o(this,(function(r){return t=e.audience||this.options.audience||\"default\",n=Pr(this.defaultScope,this.scope,e.scope),[2,(i=this.cache.get(new qr({client_id:this.options.client_id,audience:t,scope:n})))&&i.decodedToken&&i.decodedToken.claims]}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.buildAuthorizeUrl(e)];case 1:return t=n.sent(),window.location.assign(t),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),r(this,void 0,void 0,(function(){var t,i,r,c,s,a,u,l,d,g,f;return o(this,(function(o){switch(o.label){case 0:if(0===(t=e.split(\"?\").slice(1)).length)throw new Error(\"There are no query params available for parsing.\");if(i=function(e){e.indexOf(\"#\")>-1&&(e=e.substr(0,e.indexOf(\"#\")));var t=e.split(\"&\"),i={};return t.forEach((function(e){var t=e.split(\"=\"),n=t[0],r=t[1];i[n]=decodeURIComponent(r)})),n(n({},i),{expires_in:parseInt(i.expires_in)})}(t.join(\"\")),r=i.state,c=i.code,s=i.error,a=i.error_description,!(u=this.transactionManager.get())||!u.code_verifier)throw new Error(\"Invalid state\");if(this.transactionManager.remove(),s)throw new xr(s,a,r,u.appState);return l={audience:u.audience,scope:u.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:u.code_verifier,grant_type:\"authorization_code\",code:c,auth0Client:this.options.auth0Client},void 0!==u.redirect_uri&&(l.redirect_uri=u.redirect_uri),[4,Mr(l,this.worker)];case 1:return d=o.sent(),g=this._verifyIdToken(d.id_token,u.nonce,u.organizationId),f=n(n({},d),{decodedToken:g,audience:u.audience,scope:u.scope,client_id:this.options.client_id}),this.cache.save(f),this.cookieStorage.save(\"auth0.is.authenticated\",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,{appState:u.appState}]}}))}))},e.prototype.checkSession=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get(\"auth0.is.authenticated\"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return n.sent(),[3,4];case 3:if(t=n.sent(),!Gr.includes(t.error))throw t;return[3,4];case 4:return[2]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){var t,r,c,s=this;return o(this,(function(o){return t=n(n({audience:this.options.audience,ignoreCache:!1},e),{scope:Pr(this.defaultScope,this.scope,e.scope)}),r=t.ignoreCache,c=i(t,[\"ignoreCache\"]),[2,(a=function(){return s._getTokenSilently(n({ignoreCache:r},c))},u=this.options.client_id+\"::\"+c.audience+\"::\"+c.scope,l=Co[u],l||(l=a().finally((function(){delete Co[u],l=null})),Co[u]=l),l)];var a,u,l}))}))},e.prototype._getTokenSilently=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){var t,c,s,a,u,l,d=this;return o(this,(function(g){switch(g.label){case 0:return t=e.ignoreCache,c=i(e,[\"ignoreCache\"]),s=function(){var e=d.cache.get(new qr({scope:c.scope,audience:c.audience||\"default\",client_id:d.options.client_id}),60);return e&&e.access_token},!t&&(a=s())?[2,a]:[4,(f=function(){return Fo.acquireLock(\"auth0.lock.getTokenSilently\",5e3)},I=10,void 0===I&&(I=3),r(void 0,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<I?[4,f()]:[3,4];case 2:if(t.sent())return[2,!0];t.label=3;case 3:return e++,[3,1];case 4:return[2,!1]}}))})))];case 1:if(!g.sent())return[3,10];g.label=2;case 2:return g.trys.push([2,,7,9]),!t&&(a=s())?[2,a]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(c)]:[3,4];case 3:return l=g.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(c)];case 5:l=g.sent(),g.label=6;case 6:return u=l,this.cache.save(n({client_id:this.options.client_id},u)),this.cookieStorage.save(\"auth0.is.authenticated\",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,u.access_token];case 7:return[4,Fo.releaseLock(\"auth0.lock.getTokenSilently\")];case 8:return g.sent(),[7];case 9:return[3,11];case 10:throw new Ar;case 11:return[2]}var f,I}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),r(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=Pr(this.defaultScope,this.scope,e.scope),t=n(n({},Vr),t),[4,this.loginWithPopup(e,t)];case 1:return i.sent(),[2,this.cache.get(new qr({scope:e.scope,audience:e.audience||\"default\",client_id:this.options.client_id})).access_token]}}))}))},e.prototype.isAuthenticated=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.buildLogoutUrl=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=i(e,[\"federated\"]),r=t?\"&federated\":\"\";return this._url(\"/v2/logout?\"+Er(n))+r},e.prototype.logout=function(e){void 0===e&&(e={});var t=e.localOnly,n=i(e,[\"localOnly\"]);if(t&&n.federated)throw new Error(\"It is invalid to set both the `federated` and `localOnly` options to `true`\");if(this.cache.clear(),this.cookieStorage.remove(\"auth0.is.authenticated\"),!t){var r=this.buildLogoutUrl(n);window.location.assign(r)}},e.prototype._getTokenFromIFrame=function(e){return r(this,void 0,void 0,(function(){var t,r,c,s,a,u,l,d,g,f,I,p,h,y,b;return o(this,(function(o){switch(o.label){case 0:return t=Lr(Hr()),r=Lr(Hr()),c=Hr(),[4,Tr(c)];case 1:s=o.sent(),a=Nr(s),u=this._getParams(e,t,r,a,e.redirect_uri||this.options.redirect_uri||window.location.origin),l=this._authorizeUrl(n(n({},u),{prompt:\"none\",response_mode:\"web_message\"})),d=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,o.label=2;case 2:return o.trys.push([2,5,,6]),[4,Qr(l,this.domainUrl,d)];case 3:if(g=o.sent(),t!==g.state)throw new Error(\"Invalid state\");return f=e.scope,I=e.audience,e.redirect_uri,e.ignoreCache,e.timeoutInSeconds,p=i(e,[\"scope\",\"audience\",\"redirect_uri\",\"ignoreCache\",\"timeoutInSeconds\"]),[4,Mr(n(n(n({},this.customOptions),p),{scope:f,audience:I,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:c,code:g.code,grant_type:\"authorization_code\",redirect_uri:u.redirect_uri,auth0Client:this.options.auth0Client}),this.worker)];case 4:return h=o.sent(),y=this._verifyIdToken(h.id_token,r),[2,n(n({},h),{decodedToken:y,scope:u.scope,audience:u.audience||\"default\"})];case 5:throw\"login_required\"===(b=o.sent()).error&&this.logout({localOnly:!0}),b;case 6:return[2]}}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return r(this,void 0,void 0,(function(){var t,r,c,s,a,u,l,d,g;return o(this,(function(o){switch(o.label){case 0:return e.scope=Pr(this.defaultScope,this.options.scope,e.scope),(t=this.cache.get(new qr({scope:e.scope,audience:e.audience||\"default\",client_id:this.options.client_id})))&&t.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(e)];case 1:return[2,o.sent()];case 2:r=e.redirect_uri||this.options.redirect_uri||window.location.origin,s=e.scope,a=e.audience,e.ignoreCache,e.timeoutInSeconds,u=i(e,[\"scope\",\"audience\",\"ignoreCache\",\"timeoutInSeconds\"]),l=\"number\"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null,o.label=3;case 3:return o.trys.push([3,5,,8]),[4,Mr(n(n(n(n(n({},this.customOptions),u),{audience:a,scope:s,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:\"refresh_token\",refresh_token:t&&t.refresh_token,redirect_uri:r}),l&&{timeout:l}),{auth0Client:this.options.auth0Client}),this.worker)];case 4:return c=o.sent(),[3,8];case 5:return\"The web worker is missing the refresh token\"===(d=o.sent()).message||d.message&&d.message.indexOf(\"invalid refresh token\")>-1?[4,this._getTokenFromIFrame(e)]:[3,7];case 6:return[2,o.sent()];case 7:throw d;case 8:return g=this._verifyIdToken(c.id_token),[2,n(n({},c),{decodedToken:g,scope:e.scope,audience:e.audience||\"default\"})]}}))}))},e}(),Go=function(){};function Xo(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,(t=new Vo(e)).checkSession()];case 1:return n.sent(),[2,t]}}))}))}export default Xo;export{Vo as Auth0Client,Go as User};\n//# sourceMappingURL=auth0-spa-js.production.esm.js.map\n","function e(e){this.message=e}e.prototype=new Error,e.prototype.name=\"InvalidCharacterError\";var r=\"undefined\"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var t=String(r).replace(/=+$/,\"\");if(t.length%4==1)throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var n,o,a=0,i=0,c=\"\";o=t.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(o);return c};function t(e){var t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");switch(t.length%4){case 0:break;case 2:t+=\"==\";break;case 3:t+=\"=\";break;default:throw\"Illegal base64url string!\"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t=\"0\"+t),\"%\"+t})))}(t)}catch(e){return r(t)}}function n(e){this.message=e}function o(e,r){if(\"string\"!=typeof e)throw new n(\"Invalid token specified\");var o=!0===(r=r||{}).header?0:1;try{return JSON.parse(t(e.split(\".\")[o]))}catch(e){throw new n(\"Invalid token specified: \"+e.message)}}n.prototype=new Error,n.prototype.name=\"InvalidTokenError\";export default o;export{n as InvalidTokenError};\n//# sourceMappingURL=jwt-decode.esm.js.map\n","// src/services/authOptions/gtt.js\n\n\nconst FLAG = 13\nconst IMAGE = 12\nconst FESTIGRAM = 11\nconst MESSAGE = 10\nconst DAY = 9\nconst DATE = 8\nconst FESTIVAL = 7\nconst SERIES = 6\nconst VENUE = 5\nconst PLACE = 4\nconst SET = 3\nconst ARTIST = 2\nconst USER = 1\n\nconst alwaysAccessibleSubjects = [\nFLAG,\nIMAGE,\nFESTIGRAM,\nSERIES,\nVENUE,\nPLACE,\nARTIST,\nUSER,\nMESSAGE\n]\nvar gttFields = {}\ngttFields[SET] = 'sets'\ngttFields[DAY] = 'days'\ngttFields[DATE] = 'dates'\ngttFields[FESTIVAL] = 'festivals'\nexport const subjectBought = (subjectObject) => (gtt) => {\n  //if the subject is not restricted by gtt, retrun true\n  if(alwaysAccessibleSubjects.includes(subjectObject.subjectType)) return true\n  if(!gtt) return false\n  //if user has full access, retrun true\n  if(gtt.full && gtt.exp > (Date.now() / 1000)) return true\n  const gttField = gttFields[subjectObject.subjectType]\n  //if no gtt field, the subjectTypew is not restricted\n  if(!gttField) return true\n  if(!gtt[gttField]) {\n    console.error('No field found', gtt, gttField)\n    return false\n  }\n  const bought = gtt[gttField].includes(subjectObject.subject)\n  return bought\n\n}","// src/services/fetchT.js\n\nexport default async function fetchWithTimeout(resource, options = {}) {\n\tconst { timeout = 8000 } = options\n\n\tconst controller = new AbortController()\n\tconst id = setTimeout(() => controller.abort(), timeout)\n\n\tconst response = await fetch(resource, {\n\t\t...options,\n\t\tsignal: controller.signal\n\t})\n\tclearTimeout(id)\n\n\treturn response\n}\n","// auth0.js\n\nimport auth00 from \"@auth0/auth0-spa-js\"\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport localforage from \"localforage\"\nimport jwt_decode from \"jwt-decode\"\nimport { subjectBought } from \"./gtt\"\nimport fetchT from \"../fetchT\"\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\"\n})\nconst headerBase = {\n\t\"Content-Type\": \"application/json\"\n}\n\nconst AUTH0_DATA = typeof AUTH_CONFIG === \"undefined\" ? {} : AUTH_CONFIG\n\nconst scopeAr = \"openid profile email create:messages verify:festivals create:festivals\"\n\nconst tokenFunction = token =>\n\tfunction(xhr) {\n\t\txhr.setRequestHeader(\"Authorization\", \"Bearer \" + token)\n\t}\n\nconst userIdFromToken = userData => token =>\n\tm\n\t\t.request({\n\t\t\tmethod: \"POST\",\n\t\t\turl: \"/api/Profiles/getUserId/\",\n\t\t\tconfig: tokenFunction(token),\n\t\t\tbody: userData\n\t\t})\n\t\t.then(result => {\n\t\t\tconst id = result.id\n\t\t\tif (!id) throw \"invalid id received from getFtUserId() \" + id\n\t\t\treturn id\n\t\t})\n\nvar userIdPromiseCache = {}\nvar nextIdRequestTime = 0\nlet accessTokenPromiseCache = {}\nlet gttPromiseCache = {}\nlet decodedPromiseCache = {}\nlet userData = {}\nlet gttCache\nvar accessTokenPending = false\nvar userIdCache = 0\nvar userRoleCache = []\nvar dataReset = () => true\nvar cacheReset = () => true\nvar auth0 = {}\nvar authHandler = {}\nvar lastToken, lastUserData\n\nconst clean = () => {\n\tlocalStorage.clear()\n\tuserIdCache = 0\n\tuserRoleCache = []\n\n\tuserIdPromiseCache = {}\n\tnextIdRequestTime = 0\n\taccessTokenPromiseCache = {}\n\tgttPromiseCache = {}\n\tdecodedPromiseCache = {}\n\treturn (\n\t\tlocalforage\n\t\t\t.clear()\n\t\t\t//.then(() => console.log('data Reset'))\n\t\t\t.catch(err => console.error(\"logout data reset failed\", err))\n\t\t\t.then(() => {\n\t\t\t\tif (typeof navigator !== \"undefined\" && \"serviceWorker\" in navigator) {\n\t\t\t\t\t//console.log(\"auth.logout: sw found\", swCacheClear)\n\t\t\t\t\treturn swCacheClear()\n\t\t\t\t}\n\t\t\t})\n\t)\n}\nconst swCacheClear = () => {\n\t//console.log(\"auth.logout: clearing sw caches\")\n\tvar cacheWhitelist = []\n\treturn caches.keys().then(cacheName => {\n\t\tconst precache = /precache/.test(cacheName)\n\t\tconst font = precache || /fonts/.test(cacheName)\n\t\tconst img = font || /cloud-image/.test(cacheName)\n\t\tconst save = img || cacheWhitelist.indexOf(cacheName) > -1\n\t\treturn save ? caches.delete(cacheName) : Promise.resolve(true)\n\t})\n}\nvar authLoad\nexport default class Auth {\n\tconstructor() {\n\t\tif (authLoad) return\n\t\tauthLoad = true\n\t\tauthLoad = window.mockery\n\t\t\t? Promise.reject(\"mocked\")\n\t\t\t: auth00({\n\t\t\t\t\tdomain: AUTH0_DATA.DOMAIN,\n\t\t\t\t\tclient_id: AUTH0_DATA.CLIENTID,\n\t\t\t\t\tredirect_uri: AUTH0_DATA.CALLBACKURL,\n\t\t\t\t\taudience: AUTH0_DATA.AUDIENCE,\n\t\t\t\t\tscope: scopeAr,\n\t\t\t\t\tcacheLocation: \"localstorage\"\n\t\t\t  })\n\t\t\t\t\t.then(x => {\n\t\t\t\t\t\t//console.log(\"authload construct auth0\", x)\n\t\t\t\t\t\treturn x\n\t\t\t\t\t})\n\t\t\t\t\t.then(o => (auth0 = o))\n\t\t\t\t\t.then(o => o.getTokenSilently())\n\t\t\t\t\t.then(status => {\n\t\t\t\t\t\t//console.log(\"authload status status\", status)\n\t\t\t\t\t\tif (!status) {\n\t\t\t\t\t\t\tlocalStorage.setItem(\"ft_user_id\", 0)\n\t\t\t\t\t\t\tthrow \"auth fail\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn status\n\t\t\t\t\t})\n\t\t\t\t\t.then(x => auth0.getUser())\n\t\t\t\t\t.then(x => this.getFtUserId(x))\n\t\t\t\t\t.then(id => {\n\t\t\t\t\t\t//console.log(\"setting id\", id)\n\t\t\t\t\t\tlocalStorage.setItem(\"ft_user_id\", id)\n\t\t\t\t\t})\n\t\t\t\t\t.then(() => auth0.getIdTokenClaims())\n\t\t\t\t\t.then(claims => (claims ? claims[\"https://festigram/roles\"] : []))\n\t\t\t\t\t/*\n    .then(() => this.getRoles())\n    */\n\t\t\t\t\t.then(roles => (userRoleCache = roles))\n\t\t\t\t\t.then(roles => {\n\t\t\t\t\t\t//console.log(\"setting roles\", roles)\n\t\t\t\t\t\tlocalStorage.setItem(\"ft_user_roles\", JSON.stringify(roles))\n\t\t\t\t\t})\n\t\t\t\t\t.then(() => \"authLoaded\")\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tif (err.error === \"login_required\") {\n\t\t\t\t\t\t\tconst lastId = localStorage.getItem(\"ft_user_id\")\n\t\t\t\t\t\t\treturn lastId ? clean() : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\terr !== \"mocked\" &&\n\t\t\t\t\t\t\terr !== 0 &&\n\t\t\t\t\t\t\tconsole.error(\"auth0 instantiantion failed\", err)\n\t\t\t\t\t})\n\t}\n\n\tlogin(prev) {\n\t\tauthLoad\n\t\t\t/*\n      .then(hrcb => {\n          console.log('authLoad', hrcb)\n          return hrcb\n      })\n      */\n\t\t\t.then(() =>\n\t\t\t\tauth0.loginWithRedirect({\n\t\t\t\t\tappState: {\n\t\t\t\t\t\troute: prev\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t\t.catch(err => console.error(\"login error\", err))\n\t}\n\n\thandleAuthentication() {\n\t\t//console.log(\"handleAuthentication\")\n\t\treturn (\n\t\t\tauthLoad\n\t\t\t\t.then(hrcb => {\n\t\t\t\t\t//console.log(\"authLoad for handleAuthentication\", hrcb)\n\t\t\t\t\treturn hrcb\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst query = window.location.search\n\t\t\t\t\tconst handling = /code/.test(query) && /state/.test(query)\n\n\t\t\t\t\tif (!handling) throw \"not handling\"\n\t\t\t\t})\n\t\t\t\t//.catch(err => {if(err === 'not handling') return; console.error(err)})\n\t\t\t\t.then(() => auth0.handleRedirectCallback())\n\t\t\t\t.then(x => {\n\t\t\t\t\t//console.log(\"handleRedirectCallback\", x)\n\t\t\t\t\treturn x\n\t\t\t\t})\n\t\t\t\t.then(redirect => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tauth0\n\t\t\t\t\t\t\t.getUser()\n\t\t\t\t\t\t\t.then(user => {\n\t\t\t\t\t\t\t\t//console.log('auth0.getUser', user);\n\t\t\t\t\t\t\t\treturn (userData = user)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(user => this.getFtUserId(user))\n\t\t\t\t\t\t\t.then(id => {\n\t\t\t\t\t\t\t\t//console.log('setting id')\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"ft_user_id\", id)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(() => this.getRoles())\n\t\t\t\t\t\t\t.then(roles => (userRoleCache = roles))\n\t\t\t\t\t\t\t.then(roles => {\n\t\t\t\t\t\t\t\t//console.log('setting roles')\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\t\t\t\"ft_user_roles\",\n\t\t\t\t\t\t\t\t\tJSON.stringify(roles)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t//.then(() => m.redraw())\n\t\t\t\t\t\t\t.then(() =>\n\t\t\t\t\t\t\t\twindow.history.replaceState(\n\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\tdocument.title,\n\t\t\t\t\t\t\t\t\t\"/#!/launcher\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.then(() => redirect)\n\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t//if(err === 'Invalid state' || err.Error === \"There are no query params available for parsing.\") return\n\t\t\t\t\t\t\t\tconsole.error(\"handleRedirectCallback\", err)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tif (err === \"mocked\") return\n\t\t\t\t\tif (err === \"not handling\") return\n\t\t\t\t\tconsole.error(\"handleAuthentication\", err)\n\t\t\t\t})\n\t\t)\n\t\t//.then(({appState}) => m.route.set(appState && appState.route ? appState.route : '/launcher'))\n\t\t//.then(() => window.history.replaceState({}, document.title, \"/#!/launcher\"))\n\t\t/*\n      .then(hrcb => {\n          console.log('redirected', hrcb)\n          return hrcb\n      })\n      */\n\t\t//.then(() => this.getFtUserId('handleAuthentication'))\n\t\t/*\n      .then(() => {})\n      */\n\t}\n\n\tgtt() {\n\t\t//console.log('auth gtt')\n\t\t//console.log(gttCache)\n\t\treturn gttCache\n\t}\n\tuserId() {\n\t\t//console.log('auth userId')\n\t\t//console.log(userIdCache)\n\t\treturn parseInt(localStorage.getItem(\"ft_user_id\"), 10)\n\t}\n\n\tuserRoles() {\n\t\t//console.log('auth userId')\n\t\t//console.log(userIdCache)\n\t\treturn JSON.parse(localStorage.getItem(\"ft_user_roles\"))\n\t}\n\n\t//returns a promise that resolves to a userIdCache\n\tgetFtUserId(userDataSupplied) {\n\t\tconst userData = userDataSupplied ? userDataSupplied : lastUserData\n\t\t//console.log(\"getFtUserId intro\", userData)\n\t\tlastUserData = userData\n\t\tconst onAuthRoute = /auth/.test(window.location)\n\t\tif (onAuthRoute) return Promise.resolve(0)\n\t\tconst localUser = parseInt(localStorage.getItem(\"ft_user_id\"), 10)\n\t\tif (localUser) return Promise.resolve(localUser)\n\t\tif (userIdPromiseCache.then) return userIdPromiseCache\n\t\tif (!localUser && !userData) return Promise.reject(0)\n\t\t//console.log(\"getFtUserId\", userData)\n\t\t//console.trace()\n\t\tuserIdPromiseCache = (userDataSupplied ? Promise.resolve(true) : authLoad)\n\t\t\t.then(() => auth0.getTokenSilently())\n\t\t\t/*\n\t\t\t.then(\n\t\t\t\taccessToken =>\n\t\t\t\t\t[\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\"userIdPromiseCache accessToken\",\n\t\t\t\t\t\t\taccessToken\n\t\t\t\t\t\t),\n\t\t\t\t\t\taccessToken,\n\t\t\t\t\t][1]\n\t\t\t)\n*/\n\t\t\t.then(userIdFromToken(userData))\n\t\t\t.then(id => {\n\t\t\t\t//console.log(\"getFtUserId id\", id)\n\t\t\t\tlocalStorage.setItem(\"ft_user_id\", id)\n\t\t\t\t//this.cacheCleaner()\n\t\t\t\treturn id\n\t\t\t})\n\t\t\t//.then(userId => [console.log('userIdPromiseCache userId', userId), userId][1])\n\n\t\t\t.catch(err => {\n\t\t\t\tuserIdCache = 0\n\t\t\t\tlocalStorage.setItem(\"ft_user_id\", 0)\n\t\t\t\t//console.error('userIdPromiseCache failed', err)\n\t\t\t})\n\t\treturn userIdPromiseCache\n\t}\n\trecore(coreCheck) {\n\t\tdataReset = coreCheck\n\t}\n\tcacheCleaner() {\n\t\tclean()\n\t}\n\tlogout(skipRoute) {\n\t\t// Clear Access Token and ID Token from local storage\n\t\treturn clean()\n\t\t\t.then(ccp => console.log(\"caches clean\"))\n\t\t\t.finally(() =>\n\t\t\t\tauth0.logout({\n\t\t\t\t\tclient_id: AUTH0_DATA.CLIENTID,\n\t\t\t\t\treturnTo: AUTH0_DATA.CALLBACKURL\n\t\t\t\t})\n\t\t\t)\n\n\t\t// navigate to the default route\n\t\t//if(!skipRoute) m.route.set('/')\n\t}\n\n\tisAuthenticated() {\n\t\tif (!localStorage.getItem(\"ft_user_id\")) return Promise.reject(\"login required\")\n\n\t\treturn authLoad.then(() => auth0.isAuthenticated())\n\t}\n\n\tgetValidToken() {\n\t\t//if(!auth0.getTokenSilently) throw new Error('Auth Service Bootstrapping')\n\t\treturn authLoad.then(() => auth0.getTokenSilently())\n\t}\n\n\tgetAccessToken(opts) {\n\t\t//this returns a promise that resolves to a valid token\n\n\t\tif (accessTokenPromiseCache.then) return accessTokenPromiseCache\n\t\taccessTokenPromiseCache = authLoad\n\t\t\t.then(() => this.isAuthenticated())\n\t\t\t.then(authd => {\n\t\t\t\tif (!authd) throw new Error(\"no auth, no token\")\n\t\t\t})\n\t\t\t.then(() => this.getValidToken())\n\t\t\t.catch(err => (accessTokenPromiseCache = {}))\n\t\treturn accessTokenPromiseCache\n\t}\n\n\tgetGttRawRemote(force = false) {\n\t\tif (!force && gttPromiseCache.then) return gttPromiseCache\n\t\tgttPromiseCache = localforage\n\t\t\t.removeItem(\"gtt.raw\")\n\t\t\t.then(() => this.getFtUserId())\n\t\t\t.then(() => this.getAccessToken())\n\t\t\t.then(authResult => (_.isString(authResult) ? authResult : false))\n\t\t\t.then(authResult => {\n\t\t\t\tif (!_.isString(authResult) || !authResult)\n\t\t\t\t\tthrow new Error(\"not authorized\")\n\t\t\t\treturn authResult\n\t\t\t})\n\t\t\t/*\n      .then(authResult => { \n        console.log('updateModel reqUrl', reqUrl)\n        const req = m.request({\n            method: 'GET',\n            url: reqUrl,\n          config: tokenFunction(authResult),\n          background: true\n        })\n        console.log('req', req)\n        req.then(x => console.log('updateModel response') && x || x)\n        req.catch(x => console.log('updateModel err', x))\n        return req\n      })\n      */\n\t\t\t.then(authResult =>\n\t\t\t\tfetchT(\"/api/Profiles/gtt\", {\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\theaders: new Headers(\n\t\t\t\t\t\tauthResult\n\t\t\t\t\t\t\t? _.assign({}, headerBase, {\n\t\t\t\t\t\t\t\t\tAuthorization: `Bearer ${authResult}`\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t: headerBase\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t)\n\t\t\t.then(response => {\n\t\t\t\t//console.log('gtt', response)\n\t\t\t\tif (_.isArray(response)) return response\n\t\t\t\tif (!response.ok) throw new Error(\"not authorized\")\n\t\t\t\ttry {\n\t\t\t\t\treturn response.json()\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t\treturn []\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(json => json.token)\n\t\t\t.then(gtt => (gttCache = jwt_decode(gtt)))\n\t\t\t.then(gtt => localforage.setItem(\"gtt.raw\", gtt).then(() => gtt))\n\t\t\t.then(gtt => {\n\t\t\t\tdecodedPromiseCache = {}\n\t\t\t\treturn gtt\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\t//console.log(\"getGttRawRemote gtt\", json)\n\t\t\t\treturn json\n\t\t\t})\n\n\t\t\t.catch(err => {\n\t\t\t\tif (err.message === \"not authorized\") return \"\"\n\t\t\t\tif (/JSON\\.parse/.test(err.message)) {\n\t\t\t\t\treturn localforage.setItem(\"gtt.raw\", \"\")\n\t\t\t\t}\n\t\t\t\tconsole.error(err)\n\t\t\t})\n\t\treturn gttPromiseCache\n\t}\n\n\tgetGttRawLocal() {\n\t\treturn localforage.getItem(\"gtt.raw\").catch(err => {})\n\t}\n\n\tgetGttRaw() {\n\t\treturn this.isAuthenticated()\n\t\t\t.then(auth => {\n\t\t\t\tif (!auth) throw \"No auth\"\n\t\t\t})\n\t\t\t.then(() => this.getGttRawLocal())\n\t\t\t.then(json => {\n\t\t\t\t//console.log(\"getGttRaw local gtt\", json)\n\t\t\t\treturn json\n\t\t\t})\n\t\t\t.then(local => (_.isString(local) && local ? local : this.getGttRawRemote()))\n\t\t\t.then(raw => (raw ? raw : \"\"))\n\t\t\t.then(json => {\n\t\t\t\t//console.log(\"getGttRaw final gtt\", json)\n\t\t\t\treturn json\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tthrow err\n\t\t\t})\n\t}\n\n\tgetGttDecoded() {\n\t\t//console.log(\"decodedPromiseCache\", Boolean(decodedPromiseCache.then))\n\t\tif (decodedPromiseCache.then) return decodedPromiseCache\n\t\tdecodedPromiseCache = this.getGttRaw()\n\t\t\t.then(raw => (_.isString(raw) ? jwt_decode(raw) : raw))\n\t\t\t.then(raw => (raw ? raw : {}))\n\t\t\t.catch(err => {})\n\t\t\t.then(json => {\n\t\t\t\t//console.log(\"getGttDecoded final gtt\", json)\n\t\t\t\treturn json\n\t\t\t})\n\t\treturn decodedPromiseCache\n\t}\n\n\t//has gtt access will return false for past events that are accessible\n\thasGttAccess(so) {\n\t\treturn (\n\t\t\tthis.getGttDecoded()\n\t\t\t\t//.then(baseAccess => console.log('hasGttAccess getGttDecoded', baseAccess) || baseAccess)\n\n\t\t\t\t.then(subjectBought(so))\n\t\t)\n\t}\n\n\tgetBothTokens() {\n\t\t//if(!auth0.getTokenSilently) throw new Error('Auth Service Bootstrapping')\n\t\tconst access = authLoad\n\t\t\t.then(() => this.getValidToken())\n\t\t\t.then(raw => (raw ? raw : \"\"))\n\t\t\t.catch(() => \"\")\n\n\t\tconst gtt = this.getGttRaw().catch(() => \"\")\n\t\treturn Promise.all([access, gtt])\n\n\t\t//.then(x => console.log('getBothTokens', x) && x || x)\n\t}\n\tgetIdTokenClaims() {\n\t\treturn authLoad.then(() => auth0.getIdTokenClaims())\n\t}\n\tgetRoles() {\n\t\treturn this.getIdTokenClaims().then(claims =>\n\t\t\tclaims ? claims[\"https://festigram/roles\"] : []\n\t\t)\n\t\t//.then(roles => console.log('roles', roles) || roles)\n\t}\n}\n","// src/services/authOptions/authNoToken.js\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport localforage from \"localforage\"\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\",\n})\nimport fetchT from \"../fetchT\"\n\nexport default class Auth {\n\tlogin(prev) {}\n\n\thandleAuthentication() {\n\t\t//console.log('handleAuthentication')\n\t\treturn Promise.resolve(1)\n\t}\n\n\tuserId() {\n\t\t//console.log('auth userId')\n\t\t//console.log(userIdCache)\n\t\treturn 1\n\t}\n\n\tuserRoles() {\n\t\t//console.log('auth userId')\n\t\t//console.log(userIdCache)\n\t\treturn [\"user\", \"admin\"]\n\t}\n\n\t//returns a promise that resolves to a userIdCache\n\tgetFtUserId(userDataSupplied) {\n\t\treturn Promise.resolve(1)\n\t}\n\trecore(coreCheck) {}\n\tcacheCleaner(cleanCaches) {}\n\n\tlogout(skipRoute) {\n\t\t// Clear Access Token and ID Token from local storage\n\t\tclean()\n\t}\n\n\tisAuthenticated() {\n\t\treturn Promise.resolve(false)\n\t}\n\n\tgetValidToken() {\n\t\t//if(!auth0.getTokenSilently) throw new Error('Auth Service Bootstrapping')\n\t\treturn Promise.resolve(\"abc\")\n\t}\n\n\tgetAccessToken(opts) {\n\t\t//this returns a promise that resolves to a valid token\n\n\t\treturn Promise.resolve(\"abc\")\n\t}\n\n\tgetGttRawRemote() {\n\t\treturn (\n\t\t\tthis.getAccessToken()\n\t\t\t\t.then(authResult =>\n\t\t\t\t\t_.isString(authResult) ? authResult : false\n\t\t\t\t)\n\t\t\t\t.then(authResult => {\n\t\t\t\t\tif (!_.isString(authResult))\n\t\t\t\t\t\tthrow new Error(\"not authorized\")\n\t\t\t\t\treturn authResult\n\t\t\t\t})\n\t\t\t\t.then(authResult =>\n\t\t\t\t\tfetchT(\"/api/Profiles/gtt\", {\n\t\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\t\theaders: new Headers(\n\t\t\t\t\t\t\tauthResult\n\t\t\t\t\t\t\t\t? _.assign({}, headerBase, {\n\t\t\t\t\t\t\t\t\t\tAuthorization: `Bearer ${authResult}`,\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t: headerBase\n\t\t\t\t\t\t),\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.then(response => {\n\t\t\t\t\t//console.log('gtt', response)\n\t\t\t\t\tif (_.isArray(response)) return response\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn response.json()\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t\treturn []\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(json => json.token)\n\t\t\t\t.then(gtt =>\n\t\t\t\t\tlocalforage.setItem(\"gtt.raw\", gtt).then(() => gtt)\n\t\t\t\t)\n\t\t\t\t/*\n      .then(json => {\n        console.log(json)\n      })\n      */\n\t\t\t\t.catch(err => {\n\t\t\t\t\t//if(err.error === 'login_required' || err === 'login required' || err === 'auth fail') return\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t})\n\t\t)\n\t}\n\n\tgetGttRawLocal() {\n\t\treturn localforage.getItem(\"gtt.raw\")\n\t}\n\n\tgetGttRaw() {\n\t\treturn this.getGttRawLocal().then(local =>\n\t\t\tlocal ? local : this.getGttRawRemote()\n\t\t)\n\t}\n\n\tgetGttDecoded() {\n\t\treturn this.getGttRaw().then(jwt_decode)\n\t}\n\n\tgetBothTokens() {\n\t\t//if(!auth0.getTokenSilently) throw new Error('Auth Service Bootstrapping')\n\t\tconst access = authLoad\n\t\tconst gtt = this.getGttRaw()\n\t\treturn Promise.all([access, gtt])\n\t}\n\tgetIdTokenClaims() {\n\t\treturn Promise.resolve([])\n\t}\n\tgetRoles() {\n\t\treturn [\"user\", \"admin\"]\n\t}\n}\n","// src/services/authOptions/authLocal.js\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport localforage from \"localforage\"\nimport jwt_decode from \"jwt-decode\"\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\",\n})\nimport fetchT from \"../fetchT\"\n\nconst AUTH_DATA = typeof AUTH_CONFIG === \"undefined\" ? {} : AUTH_CONFIG\n\nconst scopeAr =\n\t\"openid profile email admin create:messages verify:festivals create:festivals\"\n\nvar userIdPromiseCache = {}\nvar nextIdRequestTime = 0\nlet accessTokenPromiseCache = {}\nlet userData = {}\nvar accessTokenPending = false\nvar userIdCache = 0\nvar userRoleCache = []\nvar dataReset = () => true\nvar cacheReset = () => true\nvar auth0 = {}\nvar authHandler = {}\nvar lastToken, lastUserData\n\nconst clean = () => {\n\tlocalStorage.clear()\n\tlocalforage\n\t\t.clear()\n\t\t.then(() => dataReset())\n\t\t//.then(() => console.log('data Reset'))\n\t\t.catch(err => console.error(\"logout data reset failed\", err))\n\tuserIdCache = 0\n\tuserRoleCache = []\n}\nconst authLoad = window.mockery\n\t? Promise.reject(\"mocked\")\n\t: Promise.resolve(true)\n\n/********************\nstart used in local logins\n\n*********************/\nvar lastState = {}\n\nconst tokenFunction = token =>\n\tfunction(xhr) {\n\t\txhr.setRequestHeader(\"Authorization\", \"Bearer \" + token)\n\t}\n\nconst userIdFromToken = userData => token =>\n\tm\n\t\t.request({\n\t\t\tmethod: \"POST\",\n\t\t\turl: \"/api/Profiles/getUserId/\",\n\t\t\tconfig: tokenFunction(token),\n\t\t\tbody: userData,\n\t\t})\n\t\t.then(result => {\n\t\t\tconst id = result.id\n\t\t\tif (!id) throw \"invalid id received from getFtUserId() \" + id\n\t\t\treturn id\n\t\t})\n/********************\nend used in local logins\n\n*********************/\n\nexport default class Auth {\n\tlogin(prev) {\n\t\tauthLoad\n\t\t\t.then(() => {\n\t\t\t\tlastState = {\n\t\t\t\t\troute: prev,\n\t\t\t\t}\n\t\t\t\twindow.location.assign(AUTH_DATA.LOGINURL)\n\t\t\t})\n\t\t\t.catch(err => console.error(\"login error\", err))\n\t}\n\n\thandleAuthentication() {\n\t\tconst query = window.location.href\n\t\t//console.log('local handleAuthentication', query)\n\n\t\tconst token = query.match(/[?&]token=([^&]+).*$/)[1]\n\t\t//console.log('handleAuthentication query', query, token)\n\n\t\t//store the token\n\t\tlocalStorage.setItem(\"local_token\", token)\n\t\t//console.log('local_token reload', localStorage.getItem('local_token'))\n\t\t//get the ftUserId\n\t\treturn this.getFtUserId()\n\t\t\t.then(id => localStorage.setItem(\"ft_user_id\", id))\n\t\t\t.then(() => this, getRoles())\n\t\t\t.then(roles =>\n\t\t\t\tlocalStorage.setItem(\"ft_user_roles\", JSON.stringify(roles))\n\t\t\t)\n\t}\n\n\tuserId() {\n\t\t//console.log('auth userId')\n\t\t//console.log(userIdCache)\n\t\treturn JSON.parse(localStorage.getItem(\"ft_user_id\"))\n\t}\n\n\tuserRoles() {\n\t\t//console.log('auth userId')\n\t\t//console.log(userIdCache)\n\t\treturn JSON.parse(localStorage.getItem(\"ft_user_roles\"))\n\t}\n\n\t//returns a promise that resolves to a userIdCache\n\tgetFtUserId() {\n\t\treturn Promise.all([\n\t\t\tthis.getValidToken(),\n\t\t\tthis.getIdTokenClaims(),\n\t\t]).then(([token, claims]) => userIdFromToken(claims)(token))\n\t}\n\trecore(coreCheck) {}\n\tcacheCleaner(cleanCaches) {}\n\n\tlogout(skipRoute) {\n\t\t// Clear Access Token and ID Token from local storage\n\t\tclean()\n\t\twindow.location.assign(\"/\")\n\t}\n\n\tisAuthenticated() {\n\t\treturn this.getIdTokenClaims().then(\n\t\t\tclaims => claims && claims.exp > Date.now() / 1000\n\t\t)\n\t}\n\n\tgetValidToken() {\n\t\t//if(!auth0.getTokenSilently) throw new Error('Auth Service Bootstrapping')\n\t\treturn Promise.resolve(localStorage.getItem(\"local_token\"))\n\t}\n\n\tgetAccessToken(opts) {\n\t\t//this returns a promise that resolves to a valid token\n\n\t\treturn this.getValidToken()\n\t}\n\n\tgetGttRawRemote() {\n\t\treturn (\n\t\t\tthis.getAccessToken()\n\t\t\t\t.then(authResult =>\n\t\t\t\t\t_.isString(authResult) ? authResult : false\n\t\t\t\t)\n\t\t\t\t.then(authResult => {\n\t\t\t\t\tif (!_.isString(authResult))\n\t\t\t\t\t\tthrow new Error(\"not authorized\")\n\t\t\t\t\treturn authResult\n\t\t\t\t})\n\t\t\t\t/*\n      .then(authResult => { \n        console.log('updateModel reqUrl', reqUrl)\n        const req = m.request({\n            method: 'GET',\n            url: reqUrl,\n          config: tokenFunction(authResult),\n          background: true\n        })\n        console.log('req', req)\n        req.then(x => console.log('updateModel response') && x || x)\n        req.catch(x => console.log('updateModel err', x))\n        return req\n      })\n      */\n\t\t\t\t.then(authResult =>\n\t\t\t\t\tfetchT(\"/api/Profiles/gtt\", {\n\t\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\t\theaders: new Headers(\n\t\t\t\t\t\t\tauthResult\n\t\t\t\t\t\t\t\t? _.assign({}, headerBase, {\n\t\t\t\t\t\t\t\t\t\tAuthorization: `Bearer ${authResult}`,\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t: headerBase\n\t\t\t\t\t\t),\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.then(response => {\n\t\t\t\t\t//console.log('gtt', response)\n\t\t\t\t\tif (_.isArray(response)) return response\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn response.json()\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t\treturn []\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(json => json.token)\n\t\t\t\t.then(gtt =>\n\t\t\t\t\tlocalforage.setItem(\"gtt.raw\", gtt).then(() => gtt)\n\t\t\t\t)\n\t\t\t\t/*\n      .then(json => {\n        console.log(json)\n      })\n      */\n\t\t\t\t.catch(err => {\n\t\t\t\t\t//if(err.error === 'login_required' || err === 'login required' || err === 'auth fail') return\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t})\n\t\t)\n\t}\n\n\tgetGttRawLocal() {\n\t\treturn localforage.getItem(\"gtt.raw\")\n\t}\n\n\tgetGttRaw() {\n\t\treturn this.getGttRawLocal().then(local =>\n\t\t\tlocal ? local : this.getGttRawRemote()\n\t\t)\n\t}\n\n\tgetGttDecoded() {\n\t\treturn this.getGttRaw().then(jwt_decode)\n\t}\n\n\tgetBothTokens() {\n\t\t//if(!auth0.getTokenSilently) throw new Error('Auth Service Bootstrapping')\n\t\tconst access = authLoad.then(() => auth0.getTokenSilently())\n\t\tconst gtt = this.getGttRaw()\n\t\treturn Promise.all([access, gtt])\n\t}\n\tgetIdTokenClaims() {\n\t\treturn this.getValidToken().then(jwt_decode)\n\t}\n\tgetRoles() {\n\t\treturn this.getIdTokenClaims().then(\n\t\t\tclaims => claims[\"https://festigram/roles\"]\n\t\t)\n\t}\n}\n","// auth.js\n\nimport Auth0 from './authOptions/auth0'\nimport AuthNoToken from './authOptions/authNoToken'\nimport AuthLocal from './authOptions/authLocal'\n\n\nconst AUTH_DATA = typeof AUTH_CONFIG === 'undefined' ? {} : AUTH_CONFIG\n\nconst AuthClass = AUTH_DATA.SCHEME === 'local' ? new AuthLocal() : new Auth0()\n\nexport default AuthClass","// src/store/loading/archive.js\nimport localforage from 'localforage'\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\"\n})\n\nexport default function setLocalList(modelName, newList) {\n\tconst localItem = `Model.${modelName}`\n\n\t//console.log('archive', localItem)\n\treturn localforage.setItem(localItem, newList)\n\t\n}\n","// src/store/loading/acquire.js\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport localforage from \"localforage\"\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\",\n})\nimport archive from \"./archive\"\nimport fetchT from \"../../services/fetchT\"\nimport Auth from \"../../services/auth\"\nconst auth = Auth\n\n//core\n/*\n[\n'Artists',\n'Images',\n'Series',\n'Festivals',\n'Dates',\n'Days',\n'Sets',\n'Lineups',\n'Venues',\n'Organizers',\n'Places',\n'ArtistPriorities',\n'StagePriorities',\n'StageLayouts',\n'PlaceTypes',\n'ArtistAliases',\n'ParentGenres',\n'Genres',\n'ArtistGenres',\n'MessageTypes',\n'SubjectTypes',\n]\n*/\n//core acquisition is done on app start if there is no core already present\n\nconst authOnly = [\"MessagesMonitors\", \"Intentions\"]\n\nconst loggedOnly = [/Intentions/, /MessagesMonitors/]\n\nconst headerBase = {\n\t\"Content-Type\": \"application/json\",\n}\nexport const coreCheck = () =>\n\tlocalforage\n\t\t.getItem(\"Model.core\")\n\t\t.then(coreData => coreData || window.mockery === true)\n\t\t.then(\n\t\t\tcoreData =>\n\t\t\t\t(coreData &&\n\t\t\t\t\tcoreData.timestamp &&\n\t\t\t\t\tcoreData.timestamp + 7 * 24 * 3600 * 1000 < Date.now()) ||\n\t\t\t\tfetchT(\"/api/Core/all/data\", {\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\theaders: new Headers(headerBase),\n\t\t\t\t})\n\t\t)\n\t\t//.then(data => (console.dir(\"coreCheck data\", data) && false) || data)\n\t\t.then(response => (response.json ? response.json() : response))\n\t\t.then(data => (data.data ? data.data : data))\n\t\t.then(coreData => archive(\"core\", coreData))\n\t\t.then(coreData =>\n\t\t\tPromise.all(\n\t\t\t\t_.map(coreData, (list, modelName) => archive(modelName, list))\n\t\t\t).then(() => coreData)\n\t\t)\n\t\t.catch(err => {\n\t\t\tconsole.error(\"acquire core error\", err)\n\t\t})\n\nexport const coreChecked = coreCheck()\n\nexport function updateModel(modelName, queryString = \"\", url, simResponse) {\n\tlet updated = false\n\tif (!modelName) return Promise.reject(\"missing model name\")\n\n\tconst reqUrl = url\n\t\t? url + (queryString ? \"?\" : \"\") + queryString\n\t\t: `/api/${modelName}${queryString ? \"?\" : \"\"}${\n\t\t\t\tqueryString ? queryString : \"\"\n\t\t  }`\n\tconst localItem = `Model.${modelName}`\n\tconst setModel = _.curry(archive)(modelName)\n\n\t//console.log(modelName, queryString = '', url, simResponse)\n\tconst resultChain = coreChecked\n\t\t.catch(err => {})\n\t\t.then(() =>\n\t\t\tsimResponse && simResponse.remoteData\n\t\t\t\t? Promise[simResponse.remoteResult](simResponse.remoteData)\n\t\t\t\t: auth\n\t\t\t\t\t\t.getBothTokens()\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\terr.error === \"login_required\" ||\n\t\t\t\t\t\t\t\terr === \"login required\" ||\n\t\t\t\t\t\t\t\terr === \"auth fail\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\tthrow err\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\t//.then(x => console.log('getBothTokens', x) && x || x)\n\t\t\t\t\t\t//.then(([authResult, gtt]) => authResult ? [authResult, gtt] : [false])\n\n\t\t\t\t\t\t.then(([authResult, gtt]) =>\n\t\t\t\t\t\t\t!authResult && authOnly.includes(modelName)\n\t\t\t\t\t\t\t\t? { ok: true, json: () => [] }\n\t\t\t\t\t\t\t\t: fetchT(reqUrl, {\n\t\t\t\t\t\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\t\t\t\t\t\theaders: new Headers(\n\t\t\t\t\t\t\t\t\t\t\tauthResult\n\t\t\t\t\t\t\t\t\t\t\t\t? _.assign({}, headerBase, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAuthorization: `Bearer ${authResult}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"X-GT-Access-Token\": gtt,\n\t\t\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t\t\t: headerBase\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t)\n\t\t\t\t\t\t//.then(x => console.log(modelName, 'authResult ', x) && x || x)\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\t\t\tthrow new Error(\"Network response was not ok\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn response\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(response => response.json())\n\t\t)\n\n\t\t.then(response =>\n\t\t\t_.isArray(response.data) || (response.data && response.data.id)\n\t\t\t\t? response.data\n\t\t\t\t: response\n\t\t)\n\t\t/*\n\t\t.then(x => {\n\t\t\tconsole.log('resultChain', x)\n\t\t\treturn x\n\t\t})\n\t\t*/\n\t\t.then(response => (response.id ? [response] : response))\n\t\t.then(data => {\n\t\t\tupdated = Boolean(data.length)\n\t\t\treturn data\n\t\t})\n\t\t.catch(err => {\n\t\t\tif (!simResponse) console.trace(\"updateModel err\", err)\n\t\t\tthrow err\n\t\t})\n\tconst localChain =\n\t\tsimResponse && simResponse.localData\n\t\t\t? Promise[simResponse.localResult](simResponse.localData)\n\t\t\t: localforage\n\t\t\t\t\t.getItem(localItem)\n\n\t\t\t\t\t.then(item => (_.isArray(item) ? item : []))\n\treturn Promise.all([resultChain, localChain])\n\t\t.then(([newData, oldData]) => [\n\t\t\t_.unionBy(newData, oldData, \"id\"),\n\t\t\tnewData,\n\t\t])\n\t\t.then(([data, newData]) => {\n\t\t\tsetModel(data)\n\t\t\treturn data\n\t\t})\n\t\t.then(data => [updated, data])\n}\n","// src/store/loading/enlist.js\n\nimport _ from 'lodash'\nimport localforage from 'localforage'\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\"\n})\nimport {updateModel, coreChecked} from './acquire.js'\n//pull data from localforage and convert into an array\n\n\n\nexport function loadModel(modelName) {\n\tconst localItem = `Model.${modelName}`\n\treturn localforage.getItem(localItem)\n}\n\nexport function coreLoaded(modelName) {\n\n\tcoreChecked\n\t\t.then()\n}\n\n//if there is no data, run acquire and then try again\n\nexport function getList(modelName) {\n\treturn coreChecked\n\t\t.then(() => loadModel(modelName))\n\t\t.then(local => local || (\n\t\t\tupdateModel(modelName)\n\t\t\t\t.then(() => loadModel(modelName))\n\t\t))\n\t\t.then(list => _.isArray(list) && list || [])\n\t\t.catch(err => console.error(err))\n\t\t//.then(data => console.dir('getList data ' + modelName) && false || data)\n}","// localData.js\n\nimport _ from 'lodash'\nimport localforage from 'localforage'\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\"\n})\nimport moment from 'dayjs'\n\nexport const defaultMeta = () => {return {calcTime: Date.now(), timestamps: [Infinity, 0], ids: [Infinity, 0]}} \n\n\nconst validMeta = meta => meta && meta.timestamps && meta.timestamps.length &&\n\tmeta.ids && meta.ids.length\n\nexport const combineMetas = (a, b) => { return {\n\tcalcTime: Date.now(), \n\ttimestamps: [\n\t\ta.timestamps[0] < b.timestamps[0] ? a.timestamps[0] : b.timestamps[0],\n\t\ta.timestamps[1] > b.timestamps[1] ? a.timestamps[1] : b.timestamps[1]\n\t],\n\tids: [\n\t\ta.ids[0] < b.ids[0] ? a.ids[0] : b.ids[0],\n\t\ta.ids[1] > b.ids[1] ? a.ids[1] : b.ids[1]\n\t]\n}}\nexport const metaQuivalent = (a, b) => { \n\treturn a.timestamps[0] === b.timestamps[0] &&\n\t\ta.timestamps[1] === b.timestamps[1] &&\n\t\ta.ids[0] === b.ids[0] &&\n\t\ta.ids[1] === b.ids[1]\n}\n\nconst combineWithLocalMetaPromise = dataFieldName => newMeta => localforage\n\t.getItem(dataFieldName + '_meta')\n\t.then(oldMeta => {\n\t\t//console.log('combineWithLocalMetaPromise dataFieldName ' + dataFieldName)\n\t\t//console.log(oldMeta)\n\t\t//console.log(newMeta)\n\t\tconst oldValid = validMeta(oldMeta)\n\t\tconst newValid = validMeta(newMeta)\n\t\tif(!newValid) throw dataFieldName + ' invalid meta: ' + JSON.stringify(newMeta)\n\t\tconst combinedMeta = oldValid ? combineMetas(newMeta, oldMeta) : newMeta\n\t\treturn combinedMeta\n\t})\n\t.then(newLocalMeta => {\n\t\tlocalforage.setItem(dataFieldName + '_meta', newLocalMeta)\n\t\treturn newLocalMeta\n\t})\n\t\t.catch(err => console.error(err))\n\n\nexport const calcMeta = data => (data && data.data ? data.data : (data ? data : []))\n\t.reduce((metaTemp, el, index, arr) => {\n\t\tconst m = moment(el.timestamp).valueOf()\n\t\tconst i = el.id\n\n\t\tconst oldest = m && m < metaTemp.timestamps[0]\n\t\tconst newest = m && m > metaTemp.timestamps[1]\n\t\tmetaTemp.timestamps[0] = oldest ? m : metaTemp.timestamps[0]\n\t\tmetaTemp.timestamps[1] = newest ? m : metaTemp.timestamps[1]\n\n\t\tconst lowest = i && i < metaTemp.ids[0]\n\t\tconst highest = i && i > metaTemp.ids[1]\n\t\tmetaTemp.ids[0] = lowest ? i : metaTemp.ids[0]\n\t\tmetaTemp.ids[1] = highest ? i : metaTemp.ids[1]\n\n\t\tmetaTemp.length = index + 1\n\n\t\treturn metaTemp\n\t}, defaultMeta())\n\n\nexport const unionLocalList = (dataFieldName, options = {updateMeta: false}) => {\n\tconst oldDataPromise = localforage.getItem(dataFieldName)\n\treturn newData => oldDataPromise\n\t\t.then(oldData => {\n\t\t\t//if there's no old data, save the entire result[0]\n\t\t\tconst mergedData = !oldData || !oldData.length ? newData : _.unionBy(newData, oldData, 'id')\n\t\t\tif(options.updateMeta) {\n\t\t\t\tconst newMeta = calcMeta(newData)\n\t\t\t\tcombineWithLocalMetaPromise(dataFieldName)(newMeta)\n\n\n\t\t\t}\n\n\t\t\tlocalforage.setItem(dataFieldName, mergedData)\n\n\t\t\treturn newData\n\t\t})\n\t\t.catch(err => console.error(err))\n}","// src/store/loading/provide.js\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport localforage from \"localforage\"\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\",\n})\n\nconst headerBase = {\n\t\"Content-Type\": \"application/json\",\n}\nconst formBase = {\n\t//'Content-Type': 'multipart/form-data'\n}\nimport fetchT from \"../../services/fetchT\"\nimport Auth from \"../../services/auth\"\nconst auth = Auth\nconst authOnly = [\"MessagesMonitors\", \"Intentions\", \"Interactions\"]\nexport default function(\n\tdata,\n\tmodelName,\n\tqueryString = \"\",\n\turl,\n\tmethod = \"POST\",\n\tsimResponse,\n\toptions = {}\n) {\n\tconst reqUrl = url ? url + queryString : `/api/${modelName}${queryString}`\n\tconst usingFormData = simResponse || data instanceof FormData\n\t//console.log('providing', reqUrl, method, data, modelName, queryString, simResponse)\n\tconst resultChain =\n\t\tsimResponse && simResponse.remoteData\n\t\t\t? Promise[simResponse.remoteResult](simResponse.remoteData)\n\t\t\t: auth\n\t\t\t\t\t.getBothTokens()\n\t\t\t\t\t//.then(x => console.log('provide result', x) || x)\n\t\t\t\t\t.then(([authResult, gtt]) =>\n\t\t\t\t\t\t!_.isString(authResult) && authOnly.includes(modelName)\n\t\t\t\t\t\t\t? { ok: true, json: () => [] }\n\t\t\t\t\t\t\t: fetchT(reqUrl, {\n\t\t\t\t\t\t\t\t\tmethod: method,\n\t\t\t\t\t\t\t\t\theaders: new Headers(\n\t\t\t\t\t\t\t\t\t\t_.isString(authResult)\n\t\t\t\t\t\t\t\t\t\t\t? _.assign(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions.form\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? formBase\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: headerBase,\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAuthorization: `Bearer ${authResult}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"X-GT-Access-Token\": gtt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: options.form\n\t\t\t\t\t\t\t\t\t\t\t? formBase\n\t\t\t\t\t\t\t\t\t\t\t: headerBase\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tbody: options.form\n\t\t\t\t\t\t\t\t\t\t? data\n\t\t\t\t\t\t\t\t\t\t: JSON.stringify(data),\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t//console.log('provide', response)\n\t\t\t\t\t\tif (_.isArray(response)) return response\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst resp = response.json()\n\t\t\t\t\t\t\treturn resp\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tconsole.log(\"JSON err\", err)\n\t\t\t\t\t\t\tif (!/JSON\\.parse/.test(err.message))\n\t\t\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t\t\treturn []\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tif (!/JSON\\.parse/.test(err.message)) {\n\t\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t\t\tthrow err\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\treturn resultChain\n}\n","// DataList.js\n\n\nimport _ from 'lodash'\nimport m from 'mithril'\nimport moment from 'dayjs'\n\n\nimport {unionLocalList, calcMeta, defaultMeta, combineMetas, metaQuivalent} from '../../services/localData.js'\nimport {updateModel, coreChecked} from '../loading/acquire'\nimport provide from '../loading/provide'\nimport archive from '../loading/archive'\nimport {getList} from '../loading/enlist'\n//A DataList object contains the minimum to interact with the festivaltime api\n\nfunction DataList(opt = {}) {\n\tif(!opt.fieldName) throw new Error(\"Invalid list fieldName\")\n\tthis.fieldName = opt.fieldName\n\tthis.list = []\n\tthis.meta = defaultMeta()\n\tthis.core = true\n\tthis.remoteInterval = opt.remoteInterval ? opt.remoteInterval : 3600\n\tthis.lastRemoteLoad = 0\n\tthis.lastRemoteCheck = 0\n\tthis.baseEndpoint = `/api/${this.fieldName}`\n}\n\nDataList.prototype.clearCaches = function(cacheOnly) {\n\tif(!this) throw new Error(\"Invalid DataList call clearCache\")\n\tif(!cacheOnly) this.lastRemoteLoad = 0\n\tif(!cacheOnly) this.lastRemoteCheck = 0\n\tObject.keys(this)\n\t\t.filter(k => /^_cache_clear/.test(k))\n\t\t.forEach(k => this[k]())\n\n\treturn true\n}\n\nDataList.prototype.setMeta = function(meta) {\n\tif(!this) throw new Error(\"Invalid DataList call setMeta\")\n\tthis.clearCaches(true)\n\treturn this.meta = _.clone(meta)\n}\n\nDataList.prototype.getMeta = function() {\n\tif(!this) throw new Error(\"Invalid DataList call setMeta\")\n\t\t//console.log('getMeta', this.meta, this.list.length)\n\treturn _.clone(this.meta)\n}\n\nDataList.prototype.get = function(id) {\n\tif(!this) throw new Error(\"Invalid DataList call get\")\n\treturn this.list.find(o => o.id === parseInt(id, 10))\n}\n\nDataList.prototype.getMany = function(ids) {\n\tif(!this) throw new Error(\"Invalid DataList call getMany\")\n\tif(!_.isArray(ids)) throw new Error(`Invalid ids ${ids} supplied to getMany for ${this.fieldName}`)\n\treturn this.list.filter(o => ids.includes(o.id))\n}\n\nDataList.prototype.replaceList = function(data) {\n\tif(!this) throw new Error(\"Invalid DataList call replaceList\")\n\tconst list = _.isArray(data) ? data : []\n\tconst newMeta = calcMeta(list)\n\tconst dataChange = list.some(li => {\n\t\tif(!li) return false\n\t\tconst cv = this.get(li.id)\n\t\tconst alreadyDeleted = li.deleted && !cv\n\t\tconst same = alreadyDeleted || _.eq(cv, li)\n\t\t//console.log('replaceList li', li, cv, alreadyDeleted, same)\n\t\treturn !same\n\t}) || this.list.some(li => {\n\t\tif(!li) return false\n\t\tconst cv = list.find(l => l.id === li.id)\n\t\tconst same =  _.eq(cv, li)\n\t\t//console.log('replaceList li', li, cv, alreadyDeleted, same)\n\t\treturn !same\n\t})\n\tthis.lastRemoteLoad = Date.now()\n\tthis.lastRemoteCheck = Date.now()\n\tif(!dataChange) return list\n\n\n\tthis.setMeta(newMeta)\n\tthis.list = _.clone(list).filter(m => !m.deleted)\n\tm.redraw()\n\treturn list\n}\n\nDataList.prototype.backfilling = function() {\n\tvar baseline = Promise.resolve(true)\n\treturn promise => {\n\t\tif (!promise) return baseline\n\t\tbaseline = promise\n\t}\n}()\n\nDataList.prototype.backfillList = function(list, localEntry  = false, skipRedraw = false) {\n\tif(!this) throw new Error(\"Invalid DataList call backfillList\")\n\tif(!_.isArray(list)) throw new Error(\"Invalid list backfill\")\n\tconst changed = li => {\n\t\tif(!li) return false\n\t\tconst cv = this.get(li.id)\n\t\t//console.log('backfillList changed', li, cv)\n\t\tconst same = cv && _.eq(cv, li)\n\t\treturn !same\n\t}\n\tconst backfillQ = this.backfilling()\n\t\t.then(() => {\n\t\t\t//console.log('backfillList new, old', list.map(x => x.id), this.list.map(x => x.id))\n\t\t\tconst dataChange = list.some(changed)\n\t\t\tthis.lastRemoteLoad = localEntry ? this.lastRemoteLoad : Date.now()\n\t\t\tthis.lastRemoteCheck = localEntry ? this.lastRemoteCheck : Date.now()\n\t\t\tif(!dataChange) return list\n\t\t\tthis.list = _.unionBy(list.filter(changed), this.list, 'id').filter(m => !m.deleted)\n\t\t\tthis.setMeta(calcMeta(this.list))\n\t\t\tif(localEntry) archive(this.fieldName, this.list)\n\t\t\treturn list\n\t\t})\n\t\t.then(list => {\n\t\t\tif(!skipRedraw) m.redraw()\n\t\t\treturn list\n\t\t})\n\t\t.catch(err => console.log(err))\n\tthis.backfilling(backfillQ)\n\treturn backfillQ\n}\n\nDataList.prototype.clear = function() {\n\tif(!this) throw new Error(\"Invalid DataList call clear\")\n\t//console.log('DataList clear', this.fieldName)\n\tthis.list = []\n\tthis.meta = defaultMeta()\n\t//find all cache properties and kill them\n\tthis.clearCaches()\n\n\treturn true\n}\n\n\nDataList.prototype.dataCurrent = function() {\n\tif(!this) throw new Error(\"Invalid DataList call dataCurrent\")\n\treturn Date.now() < this.lastRemoteCheck + this.remoteInterval * 1000\n}\n\nDataList.prototype.remoteCheck = function(force = false, simResponse) {\n\t//console.log('remoteCheck', this.fieldName, force, this.dataCurrent())\n\tif(!this) throw new Error(\"Invalid DataList call remoteCheck\")\n\tif(!force && this.dataCurrent()) return Promise.resolve(false)\n\tlet updated = false\n\treturn coreChecked\n\t\t//.then(() => console.log('coreCheck complete', this.fieldName, this.getMeta()))\n\n\t\t.then(() => updateModel(this.fieldName, 'filter=' + JSON.stringify({\n\t\t  \twhere: {\n\t\t  \t\tor: [\n\t\t  \t\t\t\n\t\t  \t\t\t\t{id: {gt: this.getMeta().ids[1]}},\n\t\t  \t\t\t\t{timestamp: {gt: moment(this.getMeta().timestamps[1]).format()}}\n\t\t  \t\t\t\n\t\t  \t\t]\n\t\t  \t}\n\t\t  }), undefined, simResponse))\n\t\t.then(() => getList(this.fieldName))\n\t\t.then((list) => this.replaceList(list))\n\t\t.then(() => true)\n}\n\nDataList.prototype.acquireListUpdate = function(queryString, url, simResponse) {\n\tif(!this) throw new Error(\"Invalid DataList call acquireListUpdate\")\n\t\t//console.log('acquireListUpdate fieldName, queryString, url', this.fieldName, queryString, url)\n\treturn updateModel(this.fieldName, queryString, url, simResponse)\n\t\t.then(([upd, newData]) => {\n\t\t\tif(_.isArray(newData)) this.replaceList(newData)\n\t\t\treturn upd\n\t\t})\n}\n\nvar supCache = {}\nvar supCachePromises = {}\n\nDataList.prototype.acquireListSupplement = function(queryString, url, simResponse, skipRedraw = false) {\n\t//console.log('acquireListSupplement fieldName, queryString, url', this.fieldName, queryString, url)\n\tif(!this) throw new Error(\"Invalid DataList call acquireListSupplement\")\n\t\t//check if we have run this query before and the cahce is still good\n\tconst key = `${this.fieldName}.${queryString}.${url}`\n\tconst maxAge = this.remoteInterval * 1000\n\tconst cacheGood = _.get(supCache, key, 0) + maxAge > Date.now()\n\t//console.log('acquireListSupplement', key, cacheGood)\n\tif(cacheGood) return _.get(supCachePromises, key, false)\n\t_.set(supCache, key, Date.now())\n\t\tvar updated = false\n\t//console.log('acquireListSupplement fieldName, queryString, url', this.fieldName, queryString, url)\n\t\n\tconst updPromise = updateModel(this.fieldName, queryString, url, simResponse)\n\t/*\n\t\t.then(upd => {\n\t\t\tif(upd) m.redraw()\n\t\t\treturn upd\n\t\t})\n\t\t.then(upd => {\n\t\t\tconsole.log(this.fieldName, 'acquireListSupplement', upd, this.list, queryString, url)\n\t\t\treturn upd\n\t\t})\n\t\t*/\n\t\t.then(([upd, newData]) => {\n\t\t\tif(_.isArray(newData)) this.backfillList(newData, undefined, skipRedraw)\n\t\t\treturn upd\n\t\t})\n\t\t\n\t_.set(supCachePromises, key, updPromise)\n\treturn updPromise\n}\n\nvar lbCache = {}\nvar lbCachePromises = {}\nDataList.prototype.lbfilter = function(filter) { \n\tconst end = `/api/${this.fieldName}?filter=${JSON.stringify(filter)}`\n\tconst key = end\n\tconst maxAge = this.remoteInterval * 1000\n\tconst cacheGood = _.get(lbCache, key, 0) + maxAge > Date.now()\n\t//console.log('lbfilter', key, maxAge, cacheGood)\n\n\tif(cacheGood) return _.get(lbCachePromises, key, false)\n\t_.set(lbCache, key, Date.now())\n\t//console.log(data)\n\tconst updPromise = provide(undefined, this.fieldName, '', end, 'GET')\n\t\n\t_.set(lbCachePromises, key, updPromise)\n\treturn updPromise\n} \nDataList.prototype.maintainList = function(filterObject) {\n\tif(!this) throw new Error(\"Invalid DataList call maintainList\")\n\treturn this.acquireListSupplement(`filter=${JSON.stringify(filterObject)}`)\n\t\t/*\n\tconst listIdsPresent = this.loopFiltered(filterObject).map(x => x.id)\n\tconst andObject = {id: {nin: listIdsPresent}}\n\tconst filterHasWhere = _.isObject(filterObject.where)\n\tconst filterHasWhereAnd = filterHasWhere && _.isArray(filterObject.where.and)\n\tlet finalFilter\n\tif(filterHasWhereAnd) {\n\t\tlet next = _.cloneDeep(filterObject)\n\t\tnext.where.and.push(andObject)\n\t\tfinalFilter = next\n\t} else if(filterHasWhere) {\n\t\tlet next = _.cloneDeep(filterObject)\n\t\tconst oldWhere = next.where\n\t\tnext.where = {and: []}\n\t\tnext.where.and.push(oldWhere)\n\t\tnext.where.and.push(andObject)\n\t\tfinalFilter = next\n\n\t} else {\n\t\tlet next = _.cloneDeep(filterObject)\n\t\tnext.where = andObject\n\t\tfinalFilter = next\n\n\t}\n\t*/\n}\n\nexport default DataList","// artist.js\n\nimport DataList from '../DataList'\n\nfunction ArtistList(opt = {fieldName: 'Artists'}) {\n\tDataList.call(this, opt)\n\tthis.subjectType = 2\n}\n\nArtistList.prototype = Object.create(DataList.prototype)\n\n\n\nexport default ArtistList","// image.js\n\nimport DataList from '../DataList'\n\nfunction ImageList(opt = {fieldName: 'Images'}) {\n  DataList.call(this, opt)\n  this.subjectType = 12\n  this.idField = 'image'\n}\n\n\nImageList.prototype = Object.create(DataList.prototype)\n\nexport default ImageList","// series.js\n\nimport DataList from '../DataList'\n\nfunction SeriesList(opt = {fieldName: 'Series'}) {\n  DataList.call(this, opt)\n  this.subjectType = 6\n  this.idField = 'series'\n}\nSeriesList.prototype = Object.create(DataList.prototype)\n\nexport default SeriesList","// festival.js\n\nimport DataList from '../DataList'\n\nfunction FestivalList(opt = {fieldName: 'Festivals'}) {\n  DataList.call(this, opt)\n  this.subjectType = 7\n  this.idField = 'festival'\n  this.nameField = 'year'\n  this.superField = 'series'\n}\n\nFestivalList.prototype = Object.create(DataList.prototype)\n\nexport default FestivalList","// date.js\n\nimport DataList from '../DataList'\n\nfunction DateList(opt = {fieldName: 'Dates'}) {\n  DataList.call(this, opt)\n  this.subjectType = 8\n  this.idField = 'date'\n  this.superField = 'festival'\n}\n\nDateList.prototype = Object.create(DataList.prototype)\n\nexport default DateList","// day.js\n\nimport DataList from '../DataList'\n\nfunction DayList(opt = {fieldName: 'Days'}) {\n  DataList.call(this, opt)\n  this.subjectType = 9\n  this.idField = 'day'\n  this.superField = 'date'\n}\n\nDayList.prototype = Object.create(DataList.prototype)\n\nexport default DayList","// set.js\n\nimport DataList from '../DataList'\n\nfunction SetList(opt = {fieldName: 'Sets'}) {\n  DataList.call(this, opt)\n  this.subjectType = 3\n  this.idField = 'bandset'\n  this.superField = 'day'\n}\nSetList.prototype = Object.create(DataList.prototype)\n\nexport default SetList","// lineup.js\n\nimport DataList from '../DataList'\n\nfunction LineupList(opt = {fieldName: 'Lineups'}) {\n  DataList.call(this, opt)\n}\nLineupList.prototype = Object.create(DataList.prototype)\n\nexport default LineupList","// venue.js\n\nimport DataList from '../DataList'\n\nfunction VenueList(opt = {fieldName: 'Venues'}) {\n  DataList.call(this, opt)\n  this.subjectType = 5\n}\nVenueList.prototype = Object.create(DataList.prototype)\n\nexport default VenueList","// organizer.js\n\nimport DataList from '../DataList'\n\nfunction OrganizerList(opt = {fieldName: 'Organizers'}) {\n  DataList.call(this, opt)\n}\nOrganizerList.prototype = Object.create(DataList.prototype)\n\nexport default OrganizerList","// place.js\n\nimport DataList from '../DataList'\n\nfunction PlaceList(opt = {fieldName: 'Places'}) {\n  DataList.call(this, opt)\n  this.subjectType = 4\n}\nPlaceList.prototype = Object.create(DataList.prototype)\n\nexport default PlaceList","// artistPriority.js\n\n\nimport DataList from '../DataList'\n\nfunction ArtistPriorityList(opt = {fieldName: 'ArtistPriorities'}) {\n  DataList.call(this, opt)\n}\n\nArtistPriorityList.prototype = Object.create(DataList.prototype)\n\nexport default ArtistPriorityList","// stagePriority.js\n\nimport DataList from '../DataList'\n\nfunction StagePriorityList(opt = {fieldName: 'StagePriorities'}) {\n  DataList.call(this, opt)\n}\nStagePriorityList.prototype = Object.create(DataList.prototype)\n\nexport default StagePriorityList","// stageLayout.js\n\nimport DataList from '../DataList'\n\nfunction StageLayoutList(opt = {fieldName: 'StageLayouts'}) {\n  DataList.call(this, opt)\n}\nStageLayoutList.prototype = Object.create(DataList.prototype)\n\nexport default StageLayoutList","// placeType.js\n\nimport DataList from '../DataList'\n\nfunction PlaceTypeList(opt = {fieldName: 'PlaceTypes'}) {\n  DataList.call(this, opt)\n}\nPlaceTypeList.prototype = Object.create(DataList.prototype)\n\nexport default PlaceTypeList","// artistAlias.js\n\nimport DataList from '../DataList'\n\nfunction ArtistAliasList(opt = {fieldName: 'ArtistAliases'}) {\n  DataList.call(this, opt)\n}\n\nArtistAliasList.prototype = Object.create(DataList.prototype)\n\nexport default ArtistAliasList","// parentGenre.js\n\nimport DataList from '../DataList'\n\nfunction ParentGenreList(opt = {fieldName: 'ParentGenres'}) {\n  DataList.call(this, opt)\n}\nParentGenreList.prototype = Object.create(DataList.prototype)\n\nexport default ParentGenreList","// genre.js\n\nimport DataList from '../DataList'\n\nfunction GenreList(opt = {fieldName: 'Genres'}) {\n  DataList.call(this, opt)\n}\n\nGenreList.prototype = Object.create(DataList.prototype)\n\nexport default GenreList","// artistGenre.js\n\nimport DataList from '../DataList'\n\nfunction ArtistGenreList(opt = {fieldName: 'ArtistGenres'}) {\n  DataList.call(this, opt)\n}\n\n\nArtistGenreList.prototype = Object.create(DataList.prototype)\n\nexport default ArtistGenreList","// MessageTypeList.js\n\nimport DataList from '../DataList'\n\nfunction MessageTypeList(opt = {fieldName: 'MessageTypes'}) {\n  DataList.call(this, opt)\n}\nMessageTypeList.prototype = Object.create(DataList.prototype)\n\nexport default MessageTypeList","// SubjectTypeList.js\n\nimport DataList from '../DataList'\n\nfunction SubjectTypeList(opt = {fieldName: 'SubjectTypes'}) {\n  DataList.call(this, opt)\n}\nSubjectTypeList.prototype = Object.create(DataList.prototype)\n\nexport default SubjectTypeList","// message.js\n\nimport DataList from '../DataList'\n\nfunction MessageList(opt = {\n\tfieldName: 'Messages',\n\tremoteInterval: 10\n\t}) {\n  DataList.call(this, opt)\n  this.core = false\n  this.subjectType = 10\n}\nMessageList.prototype = Object.create(DataList.prototype)\n\nexport default MessageList","// messagesMonitor.js\n\nimport DataList from '../DataList'\n\nfunction MessagesMonitorList(opt = {fieldName: 'MessagesMonitors', remoteInterval: 10}) {\n  DataList.call(this, opt)\n  this.core = false\n}\nMessagesMonitorList.prototype = Object.create(DataList.prototype)\n\nexport default MessagesMonitorList","// intention.js\n\nimport DataList from '../DataList'\n\nfunction IntentionList(opt = {fieldName: 'Intentions'}) {\n  DataList.call(this, opt)\n  this.core = false\n}\nIntentionList.prototype = Object.create(DataList.prototype)\n\nexport default IntentionList","// interaction.js\n\nimport DataList from '../DataList'\n\nfunction InteractionList(opt = {fieldName: 'Interactions'}) {\n  DataList.call(this, opt)\n  this.core = false\n}\nInteractionList.prototype = Object.create(DataList.prototype)\n\nexport default InteractionList","// profile.js\n\nimport DataList from '../DataList'\n\nfunction ProfileList(opt = {fieldName: 'Profiles'}) {\n  DataList.call(this, opt)\n  this.core = false\n  this.subjectType = 1\n}\nProfileList.prototype = Object.create(DataList.prototype)\n\nexport default ProfileList","// src/store/list/models/FlagList.js\n\nimport DataList from '../DataList'\n\nfunction FlagList(opt = {fieldName: 'Flags'}) {\n  DataList.call(this, opt)\n  this.core = false\n  this.subjectType = 13\n  this.idField = 'flag'\n}\nFlagList.prototype = Object.create(DataList.prototype)\n\nexport default FlagList","// appendable.js\n\nimport m from 'mithril'\nexport default {\n\tappend (data) { \n\t\tconst retVal = this.backfillList([data], true)\n\t\t//m.redraw()\n\t\treturn retVal\n\n\t}  \n}","// img.js\nimport _ from 'lodash'\n\nexport default {\n\tgetTitle(id) {return this.get(id).title},\n\t\tgetSrc(id) {return this.get(id).url},\n\t\tgetAttributionAr(id) {\n\t\t\tconst el = this.get(id)\n\t\t\treturn el ? [el.title, el.sourceUrl, el.author, el.license, el.licenseUrl] : []\n\t\t},\n\t\tgetName(id) {return this.getTitle(id)},\n\t\tforArtist (artistId) {return this.list\n\t\t\t.filter(m => (m.subjectType === 2) && (m.subject === artistId))},\n\n}","// src/store/list/mixins/attributes/named.js\nimport _ from 'lodash'\n\nexport default {\n\tgetName (id) { \n\t\treturn _.get(this.get(id), 'name')\n\t}  \n}","// subjectFunctions.js\n\nimport _ from 'lodash'\n\n const subjectType = {\n\tMESSAGE: 10,\n\tSERIES: 6,\n\tFESTIVAL: 7,\n\tDATE: 8,\n\tDAY: 9,\n\tSET: 3,\n\tVENUE: 5,\n\tPLACE: 4,\n\tARTIST: 2,\n\tUSER: 1\n}\n\nexport const sameSubject = (sub1, sub2) => sub1 && sub2 && sub1.subject && sub1.subjectType && sub1.subject === sub2.subject && sub1.subjectType === sub2.subjectType\nexport const so = typeString => {\n\tconst baseObject = {subjectType: subjectType[typeString]}\n\treturn ({id}) => _.assign({}, baseObject, {subject: id})\n\n}\n\nexport const subjectDataField = type => {return _.get({\n\t'13': 'Flags',\n\t'12': 'Images',\n\t'11': 'Site',\n\t'10': 'Messages',\n\t'9': 'Days',\n\t'8': 'Dates',\n\t'7': 'Festivals',\n\t'6': 'Series',\n\t'5': 'Venues',\n\t'4': 'Places',\n\t'3': 'Sets',\n\t'2': 'Artists',\n\t'1': 'Users'\n}, type, '')}\n\n","// messageName.js\nimport _ from 'lodash'\n\nimport {subjectDataField} from '../../../../services/subjectFunctions'\n\nconst baseMessage = (subjectType, ar) => me => {\n\tif(!me || !me.id || !me.subject || !me.subjectType) return undefined\n\tif(me.subjectType !== subjectType) return me\n\treturn baseMessage(ar.find(el => el.id === me.subject))\n}\nexport default (subjects) => { return  {\n\tgetName (id) { \n\t\tconst v = this.get(id)\n\t\t\tif(!v || !v.content) return ''\n\t\t\t//fromuser to touser re:subjectName\n\t\t\tconst fromField = subjects.profiles.getName(v.fromuser) || subjects.profiles.getName(v.user)\n\t\t\tconst toField = v.touser ? ' to ' + subjects.profiles.getName(v.touser) : ''\n\t\t\t//console.log('Messages getName', v, subjectDataField(v.subjectType))\n\t\t\tconst subjectName = ' re: ' + subjects[subjectDataField(v.subjectType).toLowerCase()].getName(v.subject).replace(/^ re: /, '')\n\t\t\treturn _.truncate(subjectName)\n\t},\n\tgetDescendants (so) {\n\t\tconst bases = this.getFiltered(so)\n\t\tconst baseIds = bases.map(x => x.id)\n\t\tconst b = baseMessage(this.subjectType, this.list)\n\t\treturn this\n\t\t\t.getFiltered(m => b(m))\n\t\t\t.filter(m => baseIds.includes(b(m).id))\n\t}\n}}","// userName.js\nimport _ from 'lodash'\n\nexport default {\n\tgetName (id) { \n\t\treturn _.get(this.get(id), 'username', '')\n\t},\n\tgetPic (id) {\n\t\treturn _.get(this.get(id), 'picture', '')\n\n\t}\n}","// leveled.js\nimport _ from 'lodash'\n\nexport default {\n\tgetLevel (id) { \n\t\treturn _.get(this.get(id), 'level')\n\t},\n\tpeakLevel () {\n\t\treturn _.min(this.list.map(x => x.level))\n\t},\n\ttroughLevel () {\n\t\treturn _.max(this.list.map(x => x.level))\n\t}\n}","// sorts.js\n\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\nlet timestampCache = {}\nlet soonestCache = {}\n\nexport const timeStampSort = (a, b) => {\n\tconst cachedValue = _.get(timestampCache, `${a.timestamp}.${b.timestamp}`)\n\tif(cachedValue) return cachedValue\n\tconst am = moment(a.timestamp).utc()\n\tconst bm = moment(b.timestamp).utc()\n\tconst retVal = bm.diff(am)\n\t_.set(timestampCache, `${a.timestamp}.${b.timestamp}`, retVal)\n\treturn retVal\n}\n\nexport const soonestStart = (a, b) => {\n\tconst cachedValue = _.get(soonestCache, `${a.start}.${b.start}`)\n\tif(cachedValue) return cachedValue\n\n}\n\nvar futureComboCache = {}\n\nexport const futurePrioritySort = (futures, lineups) => (a, b) => {\n\tconst key = '' + a.id + '.' + b.id\n\tconst cached = _.get(futureComboCache, key)\n\tif(cached !== undefined) return cached\n\t//console.log('futurePrioritySort not cached')\n\t//primary: in a lineup for a festival in the future\n\tconst aFuture = _.some(futures, f => lineups.getFiltered({band: a.id, festival: f.id}).length)\n\tconst bFuture = _.some(futures, f => lineups.getFiltered({band: b.id, festival: f.id}).length)\n\tconst usePrimary = aFuture ? !bFuture : bFuture\n\n\tif(usePrimary && aFuture) {\n\t\t_.set(futureComboCache, key, -1)\n\t\treturn -1\t\n\t} \n\t\n\tif(usePrimary && bFuture) {\n\t\t_.set(futureComboCache, key, 1)\n\t\treturn 1\t\n\t} \n\t//secondary: peak priority level\n\tconst al = lineups.peakArtistPriLevel(a.id)\n\tconst bl = lineups.peakArtistPriLevel(b.id)\n\t_.set(futureComboCache, key, al-bl)\n\treturn al -bl\n}\n\nvar artistFestivalCache = {}\nvar artistFestivalCacheTimes = {}\nconst artistScore = (messages, artists, lineups, artistPriorities, festivals) => {return {\n\tfriendActivity: () => 0,\n\tfollowedActivity: () => 0,\n\tsiteActivity: artistId => {\n\t\tif(!artistId) return 0\n\t\tconst messageCount = messages\n\t\t\t.getDescendants({subjectType: artists.subjectType, subject: artistId})\n\t\t\t.length\n\t\tconst score = Math.ceil(_.min([Math.log10(messageCount), 9]))\n\n\t\treturn score\n\t},\n\tpeakPriority: artistId => {\n\t\tif(!artistId) return 0\n\n\t\tconst levels = lineups.getFiltered({band: artistId})\n\t\t\t.sort((a,b) => artistPriorities.getLevel(a.priority) - artistPriorities.getLevel(b.priority))\n\n\t\tif(!levels.length) return -9\n\t\tconst level = artistPriorities.getLevel(_.first(levels).priority)\n\t\tconst peakLevel = artistPriorities.peakLevel()\n\t\tconst peakScore = 9\n\t\tconst troughLevel = artistPriorities.troughLevel()\n\t\tconst troughScore = -9\n\t\tconst levelFraction = (level - peakLevel) / (troughLevel - peakLevel)\n\t\tconst scoreLength = peakScore - troughScore\n\t\tconst scoreTravel = levelFraction * scoreLength\n\t\tconst score = peakLevel + scoreTravel\n\n\t\treturn score\n\t},\n\tfuture: artistId => {\n\n\t\tconst festivalIds = _.uniq(lineups.getFiltered({band: artistId}).map(x => x.festival))\n\t\tconst futureFestivals = festivals.future()\n\t\tconst futureFestivalIds = futureFestivals.map(x => x.id)\n\t\tconst future = _.some(festivalIds, id => futureFestivalIds.includes(id)) ? 1 : -1\n\n\t\treturn future\n\n\t}\n}}\n\nexport const artistSorter = ({Messages, Artists, Lineups, ArtistPriorities, Festivals}) => (sortArray, invertArray = []) => {\n\tconst scoreObject = artistScore(Messages, Artists, Lineups, ArtistPriorities, Festivals)\n\tconst scoreFunction = _.memoize(sortArray.reduce((scoreMethod, methodName, i) => {\n\t\treturn a => scoreMethod(a) + (invertArray.includes(methodName) ? -1 : 1) * scoreObject[methodName](a) * (100 ** i)\n\t}, () => 0), a => `${a}-${sortArray.join('.')}-${invertArray.join('.')}`)\n\treturn (a, b) => scoreFunction ? scoreFunction(b) - scoreFunction(a) : 0\n}\n\nexport const reviewSorter = interactions => viewer => sortArray => _.flatten(\n\tsortArray\n\t\t.sort(timeStampSort)\n\t\t.reduce((pv, cv, i, arr) => {\n\t\t\tconst user = cv.fromuser === viewer\n\t\t\t//each category sorted by newest date first within that category\n\t\t\t//firstEl reserved for newest review by user\n\t\t\tif(user && !pv[0].length) {\n\t\t\t\tpv[0] = [cv]\n\t\t\t\treturn pv\n\t\t\t}\n\t\t\t//headEls are the first 5 reviews by followed (maximum of one )\n\t\t\tconst followed = !user && interactions.some(int => int.type === FOLLOW && int.subjectType === USER && int.subject === cv.fromuser)\n\t\t\tif(followed && pv[1].length < 5 && !pv[1].some(el => el.fromuser === cv.fromuser)) {\n\t\t\t\tpv[1].push(cv)\n\t\t\t\treturn pv\n\t\t\t}\n\t\t\tconst other = !user && !followed\n\t\t\tif(user) pv[2].push(cv)\n\t\t\tif(followed) pv[3].push(cv)\n\t\t\tif(other) pv[4].push(cv)\n\n\t\t\treturn pv\n\t\t}, [\n\t\t\t[], //user current review\n\t\t\t[], //followed reviews\n\t\t\t[], //old user reviews\n\t\t\t[], //old followed reviews\n\t\t\t[] //other reviews\n\t\t])\n)\n\nexport const festivalIdsByEndTimeSort = festivals => (a, b) => {\n\tconst am = festivals.getEndMoment(a)\n\tconst bm = festivals.getEndMoment(b)\n\tif(am && !bm) return -1\n\tif(!am && bm) return 1\n\tif(!am && !bm) return 0\n\treturn festivals.getEndMoment(b).valueOf() - festivals.getEndMoment(a).valueOf()\n\n}\n\n\n\n","// filterable.js\nimport _ from 'lodash'\n\nexport default {\n\tgetFiltered (filter) { \n\t\treturn _.filter(this.list, filter)\n\t},\n\tfind (filter) { \n\t\treturn _.find(this.list, filter)\n\t},\n\tsome (filter) { \n\t\treturn _.some(this.list, filter)\n\t}\n}","// subjective.js\n\nexport default {\n\tgetSubjectObject (id) { \n\t\tif(!this.subjectType) throw `No subjectType for subjectObject creation ${this.fieldName}`\n\t\treturn {subjectType: this.subjectType, subject: id}\n\t}  \n}","// src/store/list/mixins/event/active/festival.js\n\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\nvar isBetween = require('dayjs/plugin/isBetween')\nmoment.extend(isBetween)\nexport default (dates) => { return  {\n\tgetStartMoment (id) {\n\t\tconst dateIds = this.getSubDateIds(id)\n\t\t//console.log('festival getStartMoment dateIds', id, dateIds)\n\t\tif(!dateIds.length) {\n\t\t\tconst fest = this.get(id)\n\t\t\tif(!fest) return undefined\n\t\t\treturn moment(fest.year, 'YYYY')\n\t\t}\n\t\tconst startInts = dateIds.map(id => dates.getStartMoment(id))\n\t\t\t.map(m => m.valueOf())\n\t\t\t.filter(_.isNumber)\n\t\t\t.sort((a, b) => a - b)\n\t\tif(!startInts.length) return undefined\n\n\t\treturn moment(startInts[0])\n\t},\n\tgetEndMoment (id) {\n\t\tconst dateIds = this.getSubDateIds(id)\n\t\tif(!dateIds.length) {\n\t\t\tconst fest = this.get(id)\n\t\t\tif(!fest) return undefined\n\t\t\treturn moment(fest.year, 'YYYY')\n\t\t}\n\t\tconst endInts = dateIds.map(id => dates.getEndMoment(id))\n\t\t\t.map(m => m.valueOf())\n\t\t\t.filter(_.isNumber)\n\t\t\t.sort((a, b) => b - a)\n\t\tif(!endInts.length) return undefined\n\n\t\treturn moment(endInts[0])\n\t},\n\tactive (id) {\n\t\t//console.log(this, id)\n\t\ttry {\n\t\t\tconst s = this.getStartMoment(id)\n\t\t\tconst e = this.getEndMoment(id)\n\t\t\t//console.log('festival active', id, s, e)\n\t\t\treturn  moment().isBetween(s, e, 'day')\n\t\t}\n\t\tcatch {\n\t\t\treturn false\n\t\t}\n\t},\n\tactiveDate (id) {return  this.getSubDateIds(id).some(did => dates.active(did))},\n\tfuture (daysAhead = 0) {\n\t\treturn this.getFiltered(f => {\n\t\t\tconst end = this.getEndMoment(f.id)\n\t\t\tif(!end) return false\n\t\t\treturn moment().add(daysAhead, 'days').isBefore(end)\n\n\t\t})\n\t},\n}}","// src/store/list/mixins/event/futureDate.js\nimport _ from 'lodash'\nimport moment from 'dayjs'\nvar isBetween = require('dayjs/plugin/isBetween')\nmoment.extend(isBetween)\n\nvar dateBaseCache = {}\nexport default {\n\tactive (id) {\n\t\t//console.log(this, id)\n\t\ttry {\n\t\t\tconst s = this.getStartMoment(id)\n\t\t\tconst e = this.getEndMoment(id)\n\t\t\treturn  moment().isBetween(s, e)\n\t\t}\n\t\tcatch {\n\t\t\treturn false\n\t\t}\n\t},\n\tended (id) {return  moment().isAfter(this.getEndMoment(id))},\n\tcurrent () {return this.list.filter(d => {\n\t\t//now is greater than the start moment but less than the end moment\n\t\tvar now = moment()\n\t\tvar start = this.getStartMoment(d.id)\n\t\tvar end = this.getEndMoment(d.id)\n\t\treturn now.isBetween(start, end, 'day')\n\t})},\n\tfuture () {\n\t\tconst current = this.current()\n\t\t\t.map(d => d.id)\n\t\treturn this.list\n\t\t\t.filter(d => current.indexOf(d.id) < 0)\n\t\t\t.filter(d => {\n\t\t\t\t//now is greater than now\n\t\t\t\tvar now = moment()\n\t\t\t\tvar start = this.getStartMoment(d.id)\n\t\t\t\treturn start.isAfter(now, 'day')\n\t\t\t})\n\t},\n\tsoon (daysAhead = 30) {\n\t\t//console.log('this soon ' + daysAhead)\n\t\tconst current = this.current()\n\t\t\t.map(d => d.id)\n\t\treturn this.list.filter(d => {\n\t\t\t//now is greater than the start moment but less than the end moment\n\t\t\tvar now = moment()\n\t\t\tvar start = this.getStartMoment(d.id)\n\t\t\tvar end = moment().add(daysAhead, 'days')\n\t\t\treturn start.isBetween(now, end, 'day')\n\t\t})\n\t\t\t.filter(d => current.indexOf(d.id) < 0)\n\t}\n}","// src/store/list/mixins/event/futureSet.js\nimport _ from 'lodash'\nimport moment from 'dayjs'\nvar isBetween = require('dayjs/plugin/isBetween')\nmoment.extend(isBetween)\n\nvar dateBaseCache = {}\nexport default {\n\tactive (id) {\n\t\ttry {\n\t\t\tconst s = this.getStartMoment(id)\n\t\t\tconst e = this.getEndMoment(id)\n\t\t//console.log(this.fieldName + 'active ok', id, moment().isBetween(s, e))\n\t\t\treturn  moment().isBetween(s, e)\n\t\t}\n\t\tcatch {\n\t\t//console.log(this.fieldName + 'active bad', id)\n\t\t\treturn false\n\t\t}\n\t},\n\tended (id) {\n\t\ttry {\n\t\t\t\tvar now = moment()\n\t\t\tconst e = this.getEndMoment(id)\n\t\t\treturn  now.isAfter(e, 'minute')\n\t\t}\n\t\tcatch {\n\t\t\treturn false\n\t\t}\n\t\t},\n\tcurrent () {return this.list.filter(d => {\n\t\t//now is greater than the start moment but less than the end moment\n\t\ttry {\n\t\t\tconst s = this.getStartMoment(d.id)\n\t\t\tconst e = this.getEndMoment(d.id)\n\t\t\treturn  moment().isBetween(s, e, 'minute')\n\t\t}\n\t\tcatch {\n\t\t\treturn false\n\t\t}\n\t})},\n\tfuture (dayId) {\n\t\treturn this.getFiltered(d => {\n\t\t\tif(dayId && dayId !== d.day) return false\n\t\t\ttry {\n\t\t\t\tvar now = moment()\n\t\t\t\tconst s = this.getStartMoment(d.id)\n\t\t\t\treturn  s.isAfter(now, 'minute')\n\t\t\t}\n\t\t\tcatch {\n\t\t\t\treturn false\n\t\t\t}\n\t\t})\n\t},\n\tsoon (minutesAhead = 30) {\n\t\t//console.log('this soon ' + minutesAhead)\n\t\tconst current = this.current()\n\t\t\t.map(d => d.id)\n\t\treturn this.list.filter(d => {\n\t\t\t//now is greater than the start moment but less than the end moment\n\t\t\tvar now = moment()\n\t\t\tvar start = this.getStartMoment(d.id)\n\t\t\tvar end = moment().add(minutesAhead, 'minutes')\n\t\t\treturn start.isBetween(now, end, 'minute')\n\t\t})\n\t\t\t.filter(d => current.indexOf(d.id) < 0)\n\t}\n}","// src/store/list/mixins/event/momentsDate.js\nimport _ from 'lodash'\nimport moment from 'dayjs'\nvar utc = require('dayjs/plugin/utc') // dependent on utc plugin\nvar timezone = require('dayjs/plugin/timezone')\nmoment.extend(utc)\nmoment.extend(timezone)\nvar dateBaseCache = {}\nexport default (days, venues) => { return  {\n\tgetBaseMoment (id) {\n\t\tconst cached = _.get(dateBaseCache, 'base.' + id)\n\t\t//if(cached) console.log('Dates.getBaseMoment cached+zone',cached)\n\t\tif(cached) return moment(cached)\n\t\tconst date = this.get(id)\n\t\tif(!date) throw new Error('this.getBaseMoment nonexistent date ' + id)\n\t\t//console.log('venues list ' + venues.list.length)\n\t\tconst timezone = venues.getTimezone(date.venue)\n\t\t//console.log('Dates.getBaseMoment timezone',timezone)\n\t\tconst momentString = date.basedate.match(/(\\d{2,4}-\\d{1,2}-\\d{1,2})T/)[1] + ' 10:00'\n\t\tconst momentFormat = 'Y-M-D H:mm'\n\t\tif(!timezone) return moment(momentString)\n\t\tconst m = moment.tz(momentString, timezone)\n\t\t_.set(dateBaseCache, 'base.' + id, m.valueOf())\n\t\treturn moment(m)\n\t},\n\tgetStartMoment (id) {\n\t\tconst cached = _.get(dateBaseCache, 'start.' + id)\n\t\tif(cached) return moment(cached)\n\t\tconst m = moment(this.getBaseMoment(id)).subtract(1, 'days')\n\t\t_.set(dateBaseCache, 'start.' + id, m.valueOf())\n\t\treturn moment(m)\n\t},\n\tgetEndMoment (id) {\n\t\tconst cached = _.get(dateBaseCache, 'end.' + id)\n\t\tif(cached) return moment(cached)\n\t\tconst days = this.getSubDayIds(id)\n\t\tconst m = moment(this.getStartMoment(id)).add(days.length + 2, 'days')\n\t\t_.set(dateBaseCache, 'end.' + id, m.valueOf())\n\t\treturn moment(m)\n\t},\n\tactiveDay (id) {\n\t\treturn this.getSubDayIds(id).find(id => days.active(id))\n\t},\n\t_cache_clear_moments_date () {\n\t\tdateBaseCache = {}\n\t}\n}}","// src/store/list/mixins/event/momentsDay.js\nimport _ from 'lodash'\nimport moment from 'dayjs'\nvar isBetween = require('dayjs/plugin/isBetween')\nmoment.extend(isBetween)\n\nvar dateBaseCache = {}\nexport default (dates) => { return  {\n\tgetBaseMoment (id) {\n\t\tif(!id) return\n\t\t\t\n\t\tconst day = this.get(id)\n\t\tif(!day) throw new Error('day.getBaseMoment nonexistent day ' + id)\n\t\tconst superMoment = dates.getBaseMoment(this.getSuperId(id))\n\t\t//console.log(`days.getBaseMoment`, superMoment)\n\t\treturn superMoment.add(day.daysOffset, 'days')\n\t},\n\tgetStartMoment (id) {\n\t\t\n\t\treturn this.getBaseMoment(id)\n\t},\n\tgetEndMoment (id) {\n\t\treturn this.getBaseMoment(id).add(1, 'days')\n\t},\n\tactive (id) {\n\t\t//console.log(this, id)\n\t\ttry {\n\t\t\tconst s = this.getStartMoment(id)\n\t\t\tconst e = this.getEndMoment(id)\n\t\t\treturn  moment().isBetween(s, e)\n\t\t}\n\t\tcatch {\n\t\t\treturn false\n\t\t}\n\t}\n}}","// src/store/list/mixins/event/event.js\n\nconst sortNamesWithIdsByName = ([aName, aId], [bName, bId]) => aName.localeCompare(bName)\n\n\nexport default {\n\tgetPartName (id) {\n\t\tconst evt = this.get(id)\n\t\t//console.log('event getPartName ', this, id, evt)\n\t\tif(!evt) return ''\n\t\tconst nameField = evt.name && !this.nameField ? 'name' : this.nameField\n\t\treturn evt[nameField]\n\t},\n\tgetEventNameArray (id) {\n\t\tconst superNames = this.getSuperEventNameArray ? this.getSuperEventNameArray(id) : []\n\t\treturn [...superNames, this.getPartName(id)]\n\t},\n\tgetEventName (id) {\n\t\treturn this.getEventNameArray(id).join(' ')\n\t},\n\tgetEventNames () {return this.list.map(x => this.getEventName(x.id))},\n\tgetEventNamesWithIds (superId) { return this.list\n\t\t.filter(e => !superId || !this.superField || e[this.superField] === superId)\n\t\t.map(x => [this.getEventName(x.id), x.id])\n\t\t.sort(sortNamesWithIdsByName)\n\t},\n\tgetName (id) {return this.getEventName(id)},\n}","// src/store/list/mixins/event/eventSuper.js\nimport _ from 'lodash'\n\nexport default (superList) => { return  {\n\tgetSuperId (id) { \n\t\t//console.log('eventSuper ', this, superList.idField, id, this.get(id))\n\t\treturn _.get(this.get(id), superList.idField)\n\t},\n\tgetSuperEventNameArray (id) {\n\t\treturn superList.getEventNameArray(this.getSuperId(id))\n\t}\n}}","// src/store/list/mixins/event/eventSub.js\n\nexport default (subList) => { return  {\n\tgetSubIds (id) { \n\t\treturn subList.getFiltered(s => s[this.idField] === id)\n\t\t\t.map(s => s.id)\n\t}  \n}}","// src/store/list/mixins/event/sellAccess.js\n\n\nimport {subjectBought} from '../../../../services/authOptions/gtt'\n\nexport default (subList) => { return  {\n\tsellAccess (id, decoded) { \n\t\tif(!this.subjectType) return false\n\t\tconst so = {\n\t\t\tsubjectType: this.subjectType,\n\t\t\tsubject: id\n\t\t}\n\t\tconst bought = subjectBought(so)(decoded)\n\t\tconst endMoment = bought || this.getEndMoment(id)\n\t\tconst nonsellable = bought || endMoment && endMoment.valueOf() < Date.now()\n\t\t//console.log(this.fieldName, 'sellAccess', nonsellable, id)\n\t\tif(!subList || !subList.sellAccess || nonsellable) return !nonsellable\n\t\tconst subs = this.getSubIds(id)\n\n\t\t\t\n\t\treturn subs\n\t\t\t.reduce((sellable, sid) => sellable && subList.sellAccess(sid, decoded) , true)\n\t}  \n}}","// place.js\n\nconst sortNamesWithIdsByName = ([aName, aId], [bName, bId]) => aName.localeCompare(bName)\n\n\nexport default {\n\tgetPlaceName (id) {\n\t\tconst v = this.get(id)\n\t\t\tif(!v || !v.name) return ''\n\t\t\treturn v.name\n\t},\n\tgetPlaceNames () {return this.list.map(x => this.getPlaceName(x.id))},\n\tgetPlaceNamesWithIds (superId) { return this.list\n\t\t.filter(e => !superId || !this.superField || e[this.superField] === superId)\n\t\t.map(x => [this.getPlaceName(x.id), x.id])\n\t\t.sort(sortNamesWithIdsByName)\n\t},\n\tgetName (id) {return this.getPlaceName(id)},\n\tgetTimezone (id) {\n\t\t//console.log('Venues.getTimezone', id, this)\n\t\tconst v = this.get(id)\n\t\tif(!v || !v.name) return ''\n\t\treturn v.timezone\n\t},\n}","// src/store/list/mixins/event/research.js\n\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\n\nexport default (artists, messages, lineups, artpris) => { return  {\n\tgetResearchList (id, author) { \n\t\tconst artistData = artists.getMany(lineups.getFestivalArtistIds(id))\n\t\t\tconst artistIds = artistData\n\t\t\t\t.map(a => a.id)\n\t\t\tconst researchObject = {\n\t\t\t\tforces: messages.forced({\n\t\t\t\t\tartistIds: artistIds,\n\t\t\t\t\tfestivalId: id\n\t\t\t\t}),\n\t\t\t\tskips: messages.skipped({\n\t\t\t\t\tartistIds: artistIds,\n\t\t\t\t\tfestivalId: id\n\t\t\t\t}),\n\t\t\t\tsaves: messages.saved({\n\t\t\t\t\tartistIds: artistIds,\n\t\t\t\t\tfestivalId: id\n\t\t\t\t}),\n\t\t\t\thides: messages.hidden({\n\t\t\t\t\tartistIds: artistIds,\n\t\t\t\t\tfestivalId: id\n\t\t\t\t}),\n\t\t\t\trecents: messages.recentReviews({\n\t\t\t\t\tartistIds: artistIds,\n\t\t\t\t\tauthor: author\n\t\t\t\t})\n\t\t\t}\n\t\t\t//console.log('remoteData.Festivals.getResearchList ' + id + ' ' + author)\n\t\t\t//console.log('remoteData.Festivals.getResearchList recents', researchObject.recents)\n\t\t\treturn artistData\n\t\t\t\t.filter(a => {\n\t\t\t\t\t//in\n\t\t\t\t\tconst forced = _.includes(researchObject.forces, a.id)\n\t\t\t\t\t//out\n\t\t\t\t\tconst recent = !forced && _.includes(researchObject.recents, a.id)\n\t\t\t\t\tconst skipped = !forced && !recent && _.includes(researchObject.skips, a.id)\n\t\t\t\t\tconst saved = !forced && !recent && !skipped && _.includes(researchObject.saves, a.id)\n\t\t\t\t\tconst hidden = !forced && !recent && !skipped && !saved && _.includes(researchObject.hides, a.id)\n\t\t\t\t\treturn forced || !recent && !skipped && !saved && !hidden\n\t\t\t\t})\n\t\t\t\t.map(d => {\n\t\t\t\t\td.time = messages.subjectActivity({subjectType: ARTIST, subject: d.id})\n\t\t\t\t\t\t.map(m => moment(m.timestamp).valueOf())\n\t\t\t\t\t\t.sort((a, b) => b - a)\n\t\t\t\t\t\t.reduce((pv, cv) => pv || cv, 0)\n\t\t\t\t\t//console.log('ArtistData', d)\n\t\t\t\t\treturn d\n\t\t\t\t})\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\t//sort by recency\n\t\t\t\t\tif(a.time - b.time) return b.time - a.time\n\t\t\t\t\t//sort by priority\n\t\t\t\t\tconst aPriId = lineups.getPriFromArtistFest(a.id, id)\n\t\t\t\t\tconst bPriId = lineups.getPriFromArtistFest(b.id, id)\n\t\t\t\t\tif(aPriId === bPriId) return a.name.localeCompare(b.name)\n\t\t\t\t\tconst aPriLevel = artpris.getLevel(aPriId)\n\t\t\t\t\tconst bPriLevel = artpris.getLevel(bPriId)\n\t\t\t\t\treturn aPriLevel - bPriLevel\n\t\t\t\t})\n\t},\n\treviewedArtistIds (id, author) {\n\t\tif(!id || !this.get(id) || !this.getEndMoment(id)) return []\n\t\t//console.log('reviewedArtistIds get', id, author, this.get(id))\n\t\t\n\t\tconst lineupArtistIds = lineups.getFestivalArtistIds(id)\n\t\tconst unreviewedIds = this.getResearchList(id, author).map(x => x.id)\n\t\t//console.log('reviewedArtistIds', id, author, lineupArtistIds)\n\t\treturn lineupArtistIds\n\t\t\t.filter(id => id && !unreviewedIds.includes(id))\n\t\t\t//.filter(aid => console.log('reviewedArtistIds postfilter', aid) || aid)\n\n\t},\n}}","// event.js\n\n//a set and a message are connected if:\n\n//message is about the set\n//message is sent within 24 hours of the set start\n\nexport default {\n\tisEvent (subject) {return subject.subjectType === this.subjectType},\n\tmessageEventConnection (e) { return m => this.isEvent(m) && \n\t\tthis.isEvent(e) && \n\t\tm.subject === e.subject\n\t\t\n\t}  \n}","// message.js\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\nimport {timeStampSort} from '../../../../../services/sorts.js'\n\n\nconst simpleDate = str => moment(str, 'YYYY-MM-DD', true).isValid()\n\nconst researchApplicable = (content, opt) => {\n\tif(!content) return true\n\tif(simpleDate(content)) return moment().isSameOrBefore(moment(content, 'YYYY-MM-DD', true), 'day')\n\t//if content starts with 'fest' and opt.festival is defined then parse the festivalId\n\tconst optFest = opt.festivalId\n\tconst contentFest = content.indexOf('fest ') === 0\n\tconst contentFestId = contentFest && parseInt(content.slice(5), 10)\n\tif(optFest) {\n\t\tif (optFest === contentFestId) return true\n\t\treturn false\n\t} else {\n\t\tif(contentFestId) return false\n\t}\n\treturn true\n}\n\n\nexport default {\n\tsubjectActivity (so) {\n\t\tconst baseMessages = this.getFiltered(so)\n\t\tconst baseIds = baseMessages.map(x => x.id)\n\t\tconst discussionMessages = this.getFiltered(m => baseIds.includes(m.baseMessage))\n\t\treturn [...baseMessages, ...discussionMessages]\n\t},\n\tbaseSubject (id) {\n\t\tconst msg = this.get(id)\n\t\tconst baseMessage = msg && msg.baseMessage ? this.get(msg.baseMessage) : msg\n\t\treturn _.get(baseMessage, 'subject')\n\t},\n\tbaseSubjectType (id) {\n\t\tconst msg = this.get(id)\n\t\tconst baseMessage = msg && msg.baseMessage ? this.get(msg.baseMessage) : msg\n\t\treturn _.get(baseMessage, 'subjectType')\n\t},\n\t\tdiscussionOf (id) {return this.list.filter(m => m.baseMessage === id)},\n\t\taboutType (sType) {return this.list.filter(m => m.subjectType === sType)},\n\t\tofType (mType) {return this.list.filter(m => m.messageType === mType)},\n\t\tbyAuthor (author) {return this.list.filter(m => m.fromuser === author)},\n\t\tofAndAbout (mType, sType) {return this.list.filter(m => m.messageType === mType && m.subjectType === sType)},\n\t\tofAboutAndBy (mType, sType, author) {return this.list.filter(m => m.messageType === mType && m.subjectType === sType && m.fromuser === author)},\n\t\taboutSets () {return this.list.filter(m => m.subjectType === 3)},\n\t\tgameTimeRatings () {return this.aboutSets().filter(m => m.messageType === 2)},\n\t\tsetAverageRating (setId) {\n\t\t\tconst gameTimeRatings = this.gameTimeRatings()\n\t\t\tconst filtered = gameTimeRatings\n\t\t\t\t.filter(m => (m.subject === setId))\n\t\t\tconst retVal = _.meanBy(filtered,\n\t\t\t\tm => parseInt(m.content, 10))\n\t\t\t//console.log('msg length: ' + this.list.length)\n\t\t\t//console.log('filtered length: ' + filtered.length)\n\t\t\t//console.log('setAverageRating: ' + retVal)\n\t\t\t//console.log('setId: ' + setId)\n\t\t\t//console.log('gameTimeRatings.length: ' + gameTimeRatings.length)\n\t\t\treturn retVal ? retVal : 0\n\t\t},\n\t\tlastCheckin (userId) {return  this.list\n\t\t\t.filter(m => m.fromuser === userId && m.messageType === 3)\n\t\t\t.sort(timeStampSort)\n\t\t\t.reduce((pv, cv, i) => !i ? cv : pv, false)\n\t\t},\n\t\trecentCommentsAll () {return this.list\n\t\t\t.filter(m => m.messageType === 1)\n\t\t},\n\t\t\t//, viewer => '' + viewer + '.' + this.lastRemoteLoad + '.' + remoteData.MessagesMonitors.lastRemoteLoad),\n\t\trecentDiscussions (viewer) {return _.uniqBy(this.recentDiscussionAll(viewer)\n\t\t\t.map(message => message.baseMessage ? this.get(message.baseMessage) : message), 'id')},\n\t\trecentDiscussionEvent (viewer, event) {return this.recentDiscussionAll(viewer)\n\t\t\t.filter(this.eventConnectedFilter(event))},\n\t\tcenterObjects () {\n\t\t\tconst baseMessages = this.list\n\t\t\t\t.filter(m => !m.baseMessage)\n\n\t\t\tconst discussionMessages = this.list\n\t\t\t\t.filter(m => m.baseMessage)\n\n\t\t\t//reduce the discussionMessages into an object organized by baseMessage\n\t\t\tconst discussionByBase = discussionMessages.reduce((discussObj, message) => {\n\t\t\t\tconst baseMessage = '' + message.baseMessage\n\t\t\t\tdiscussObj[baseMessage] = discussObj[baseMessage] ? discussObj[baseMessage] : []\n\t\t\t\tdiscussObj[baseMessage].push(message)\n\t\t\t\treturn discussObj\n\t\t\t}, {})\n\t\t\treturn discussionByBase\n\t\t},\n\t\tvirginSubject (subjectObject) {return  !_.some(this.list,\n\t\t\tm => (m.subjectType === subjectObject.subjectType) && (m.subject === subjectObject.subject))\n\t\t},\n\t\tforArtist (artistId) {return this.list\n\t\t\t.filter(m => (m.subjectType === 2) && (m.subject === artistId))\n\t\t},\n\t\tforSet (setId) {return this.aboutSets()\n\t\t\t.filter(m => m.subject === setId)\n\t\t},\n\t\tforced ({artistIds, festivalId}) {return  _.uniq(this.list\n\t\t\t.filter(m => m.fromuser ===  m.touser && m.subjectType === 2 && m.messageType === 4 && _.includes(artistIds, m.subject))\n\t\t\t.filter(m => researchApplicable(m.content, {festivalId: festivalId}))\n\t\t\t.map(m => m.subject))},\n\t\tskipped ({artistIds, festivalId}) {return  _.uniq(this.list\n\t\t\t.filter(m => m.fromuser ===  m.touser && m.subjectType === 2 && m.messageType === 5 && _.includes(artistIds, m.subject))\n\t\t\t.filter(m => researchApplicable(m.content, {festivalId: festivalId}))\n\t\t\t.map(m => m.subject))},\n\t\tsaved ({artistIds, festivalId}) {return _.uniq(this.list\n\t\t\t.filter(m => m.fromuser ===  m.touser && m.subjectType === 2 && m.messageType === 6 && _.includes(artistIds, m.subject))\n\t\t\t.filter(m => researchApplicable(m.content, {festivalId: festivalId}))\n\t\t\t.map(m => m.subject))},\n\t\thidden ({artistIds, festivalId}) {return _.uniq(this.list\n\t\t\t.filter(m => m.fromuser ===  m.touser && m.subjectType === 2 && m.messageType === 7 && _.includes(artistIds, m.subject))\n\t\t\t.filter(m => researchApplicable(m.content, {festivalId: festivalId}))\n\t\t\t.map(m => m.subject))},\n\t\trecentRatings ({artistIds, author}) {return _.uniq(this.list\n\t\t\t.filter(m => m.subjectType === 2 && m.messageType === 2 && m.fromuser === author && _.includes(artistIds, m.subject))\n\t\t\t.filter(m => moment(m.timestamp).add(1, 'y').isAfter())\n\t\t\t.map(m => m.subject))},\n\t\trecentReviews ({artistIds, author}) {return _.uniq(this.list\n\t\t\t.filter(m => m.subjectType === 2 && (m.messageType === 2 || m.messageType === 1) && m.fromuser === author && _.includes(artistIds, m.subject))\n\t\t\t.filter(m => moment(m.timestamp).add(1, 'y').isAfter())\n\t\t\t.map(m => m.subject))},\n\t\t\n}","// forArtist.js\n\nimport _ from 'lodash'\n\nexport default {\n\tforArtist (artistId) { \n\t\treturn this.list\n\t\t\t.filter(d => d.band === artistId)\n\t}  \n}","// forSubject.js\n\nimport _ from 'lodash'\n\nexport default {\n\tforSubject (subjectObject) { \n\t\treturn this.getFiltered(subjectObject)\n\t}  \n}","// forDayAndStage.js\n\nimport _ from 'lodash'\n\nexport default {\n\tforDayAndStage (dayId, stageId) { \n\t\treturn this.getFiltered(s => s.day === dayId && s.stage === stageId)\n\t}  \n}","// filter.js\n\nimport _ from 'lodash'\n\nconst subjectDataField = type => {return {\n\t'10': 'messages',\n\t'6': 'series',\n\t'7': 'festivals',\n\t'8': 'dates',\n\t'9': 'days',\n\t'3': 'sets',\n\t'5': 'venues',\n\t'4': 'places',\n\t'2': 'artists',\n\t'1': 'users'\n}[type]}\n\nvar eventConnectedCache = {}\n\nexport default (subjects) => { return  {\n\teventConnectedFilter (e) { return m => {\n\t\t//console.log('eventConnectedFilter', e, m)\n\t\tconst cachePath = '' + e.subject + '.' + e.subjectType + '.' + m.subject + '.' + m.subjectType\n\t\tconst cacheValue = _.get(eventConnectedCache, cachePath)\n\t\tif(!_.isUndefined(cacheValue)) return cacheValue\n\t\tconst typeString = subjectDataField(e.subjectType)\n\t\t//console.log('subjects.Messages.eventConnectedFilter cachePath')\n\t\t//console.log(typeString)\n\t\t//console.log(cachePath)\n\t\tconst connected = (m && (!e || subjects[typeString].messageEventConnection(e)(m))) && true || false \n\t\t//console.log('subjects.Messages.eventConnectedFilter event')\n\t\t//console.log(e)\n\t\t//console.log('subjects.Messages.eventConnectedFilter message')\n\t\t//console.log(m)\n\t\t//console.log('subjects.Messages.eventConnectedFilter typeString')\n\t\t//console.log(typeString)\n\t\t//console.log('subjects.Messages.eventConnectedFilter connected')\n\t\t//console.log(connected)\n\t\tif(!_.isUndefined(m) && !_.isUndefined(e)) _.set(eventConnectedCache, cachePath, connected)\n\t\treturn connected\n\n\t}}  \n}}","// nameMatch.js\n\nimport smartSearch from 'smart-search'\n\nimport _ from 'lodash'\n\nexport default {\n\tpatternMatch (pattern, count = 5) { \n\t\treturn _.take(smartSearch(this.list,\n\t\t\t[pattern], {name: true}\n\t\t\t), count)\n\t\t\t.map(x => x.entry)\n\t}  \n}","// artistConnections.js\nimport _ from 'lodash'\n\nvar peakArtistPriLevelCache = {}\n\nexport default (artistPriorities, artists, festivals) => { return  {\n\tpeakArtistPriLevel (artist) {\n\t\t return _.min(this.getFiltered(l => l.band === artist)\n\t\t\t.map(l => artistPriorities.getLevel(l.priority))\n\t\t\t.filter(l => l)\n\t\t)\n\t\t},\n\t\tgetPriFromArtistFest(artist, fest) {\n\t\t\t\t\tconst target = _.find(this.list, p => p.festival === fest && p.band === artist)\n\t\t\t\t\tif(!target) return\n\t\t\t\t\treturn target.priority\n\t\t\t\t},\n\t\tgetIdFromArtistFest (artist, fest) {\n\t\t\t//console.log('remoteData.lineups.getIdFromArtistFest')\n\t\t\t//console.log(artist)\n\t\t\t//console.log(fest)\n\t\t\tconst target = _.find(this.list, p => p.festival === fest && p.band === artist)\n\t\t\tif(!target) return\n\t\t\treturn target.id\n\t\t},\n\t\tgetFromArtistFest (artist, fest) {return  _.find(this.list, p => p.festival === fest && p.band === artist)},\n\t\tartistLineups (artist) {return this.list\n\t\t\t.filter(p => p.band === artist)\n\t\t},\n\t\tpeakArtistPriLevel (artist) {\n\t\t\tif(_.isEqual(this.meta, peakArtistPriLevelCache.meta) && peakArtistPriLevelCache[artist]) return peakArtistPriLevelCache[artist]\n\t\t\tif(!_.isEqual(this.meta, peakArtistPriLevelCache.meta)) {\n\t\t\t\tpeakArtistPriLevelCache = {}\n\t\t\t\tpeakArtistPriLevelCache.meta = _.cloneDeep(this.meta)\n\t\t\t}\n\t\t\tpeakArtistPriLevelCache[artist] = _.min(this.artistLineups(artist)\n\t\t\t\t.map(l => artistPriorities.getLevel(l.priority))\n\t\t\t\t.filter(l => l))\n\t\t\treturn peakArtistPriLevelCache[artist]\n\t\t}, \n\t\tfestivalsForArtist (artist) {return _.uniq(this.artistLineups(artist)\n\t\t\t.map(p => p.festival))}, \n\t\tartistInLineup (artist) { return _.some(this.list,\n\t\t\tp => p.band === artist)},\n\t\tartistInFestival (artist, fest) {return _.some(this.list,\n\t\t\tp => p.band === artist && p.festival === fest)},\n\t\tforFestival (fest) {return this.list.filter(l => l.festival === fest)},\n\t\tfestHasLineup (fest) {return _.some(this.list, l => l.festival === fest)},\n\t\tgetFestivalArtistIds (fest, lineupFilter = x => x ) {return this.list\n\t\t\t.filter(l => l.festival === fest)\n\t\t\t.filter(lineupFilter)\n\t\t\t.map(l => l.band)},\n\t\tgetNotFestivalArtistIds (fest) {\n\t\t\tconst excludeIds = this.getFestivalArtistIds(fest)\n\t\t\treturn artists.list\n\t\t\t\t.filter(artist => excludeIds.indexOf(artist.id) < 0)\n\t\t\t\t.map(artist => artist.id)\n\t\t},\n\t\t//this returns lineups with unscheduled set\n\t\tgetUnscheduledForFestival (festivalId) {return this.forFestival(festivalId)\n\t\t\t.filter(l => l.unscheduled)\n\t\t},\n\t\t//this returns festival objects for each festival where all \n\t\t//artists have the same, default priority (i.e., headliners\n\t\t//need to be entered) from amongst a supplied group of ids\n\t\t//(or from all festivals if no ids supplied)\n\t\tallPrioritiesDefaultFestivals (festIds) {return (festivals.getMany(festIds))\n\t\t\t.filter(f => this.festHasLineup(f.id))\n\t\t\t/*\n\t\t\t.map(f => {\n\t\t\t\tconsole.log('allPrioritiesDefaultFestivals')\n\t\t\t\tconsole.log(f)\n\t\t\t\treturn f\n\t\t\t})\n\t\t\t*/\n\t\t\t.filter(f => !this.forFestival(f.id)\n\t\t\t\t//find if at least two different priorities are used\n\t\t\t\t.reduce((found, lineup, i, arr) => {\n\t\t\t\t//console.log('allPrioritiesDefaultFestivals')\n\t\t\t\t//console.log(found)\n\t\t\t\t//console.log(lineup)\n\t\t\t\t\t//multiple pris found alreadt (found === true)\n\t\t\t\t\t//or 1 pri found already and it is differnet than the current pri\n\t\t\t\t\tif(found === true || found && lineup.priority && lineup.priority !== found) {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t} \n\t\t\t\t\t//special case if this the last iteration return false\n\t\t\t\t\telse if(i + 1 === arr.length) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\t//one or both are not valid or not unique, so return the good one and keep looking\n\t\t\t\t\treturn found ? found : lineup.priority\n\t\t\t\t}, 0)\n\t\t\t)},\n\t}\n}","// messageMonitor.js\n\nimport _ from 'lodash'\n\nexport default {\n\tunread (messageId) { \n\t\treturn !this.find(v => v.message === messageId)\n\t},\n\tmarkRead (messageId) { \n\t\tconst data = {message:messageId}\n\t\t//mark locally\n\t\tthis.list.push(data)\n\t\t//send to server\n\t\tthis.create(data)\n\t}  \n}","// intent.js\n\nimport _ from 'lodash'\n\nimport archive from '../../../loading/archive'\nimport {loadModel} from '../../../loading/enlist'\n\nexport default {\n\tclearIntent (subjectObject) { \n\t\tconst deletions = this.getFiltered(i => i.subject === subjectObject.subject && i.subjectType === subjectObject.subjectType)\n\t\t\t.map(x => _.set(x, 'deleted', true))\n\t\tconst intentIds = deletions\n\t\t\t.map(i => i.id)\n\n\t\t//mark in memory\t\t\n\t\tthis.backfillList(deletions, true)\n\n\n\t\t//mark locally\n\t\tarchive(this.fieldName, this.list)\n\n\t\t//send to server\n\t\t//console.log('this.clearIntent')\n\t\t//console.log(subjectObject)\n\t\t//console.log(intentIds)\n\t\t//console.log(this.list)\n\t\tintentIds.map(id => this.delete({id: id}))\n\t},\n\tsetIntent (subjectObject) { \n\t\tconst data = subjectObject\n\t\t//mark locally\n\t\tthis.list.push(data)\n\t\tloadModel(this.fieldName)\n\t\t\t.then(archived => _.filter(archived, data)[0])\n\t\t\t.then(current => {\n\t\t\t\t//console.log('setIntent ')\n\t\t//send to server\n\t\t\t\tif(current && current.deleted) {\n\t\t\t\t\treturn this.updateInstance(_.assign({}, current, {deleted: 0, timestamp: undefined}), current.id)\n\t\t\t\t}\n\t\t\t\treturn this.create(data)\n\t\t\t})\n\t\t\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error('setIntent', err)\n\t\t\t})\n\t}  \n}","// reviewArrays.js\n\nimport _ from 'lodash'\nimport moment from 'dayjs'\nvar isBetween = require('dayjs/plugin/isBetween')\nmoment.extend(isBetween)\nimport {sameSubject} from './subjectFunctions'\n\n//compose an array of review messages (ratings/comments) into an array of reviewArrays\n//each reviewArray contains the following elements:\n\t//[0.author, 1.subject, 2.rating, 3.comment, 4.timestamp, 5.ratingId, 6.commentId]\n\t\t//e.g.: [0, {subject: 0, subjectType: 0}, 0, 'ok, not great', 1551648054119, 0, 42]\n\n//convert each review message to a reviewArray\nconst reviewArrayFromMessage = message => [\n\tmessage.fromuser,\n\t{subject: message.subject, subjectType: message.subjectType},\n\tmessage.messageType === 2 ? message.content : 0,\n\tmessage.messageType === 1 ? message.content : '',\n\tmessage.timestamp,\n\tmessage.messageType === 2 ? message.id : 0,\n\tmessage.messageType === 1 ? message.id : 0\n\n]\n\nconst createBlackout = (baseMoment, count, type) => {\n\tconst blackoutStart = moment(baseMoment).subtract(count, type)\n\tconst blackoutEnd = moment(baseMoment).add(count, type)\n\treturn testMoment => moment(testMoment).isBetween(blackoutStart, blackoutEnd)\n}\n\nconst blackoutClearFilter = blackouts => ra => blackouts\n\t.reduce((clear, blackout) => clear && !blackout(ra[4]), true)\n\n//add a layer of depth to reviewArrays, grouping by merge prep (up to 1 comment, up to 1 rating)\nconst createPreMergeArrays = reviewArrays => {\n\t//console.log('reviewArrays createPreMergeArrays', reviewArrays)\n\tlet usedRatings = []\n\tconst ratingArrays = reviewArrays.filter(m => m[2])\n\tconst commentArrays = reviewArrays.filter(m => m[3])\n\tconst commentPreMerges = commentArrays.map(commentArray => {\n\t\t//possible rating are from the same authro and on the same subject\n\t\t\t//sort them most recent first\n\t\tconst possibleRatings = ratingArrays\n\t\t\t.filter(ratingArray => ratingArray[0] === commentArray[0])\n\t\t\t.filter(ratingArray => sameSubject(ratingArray[1], commentArray[1]))\n\t\t\t.sort((a, b) => moment(a[4]).diff(b[4]))\n\n\t\t//if there are no possible ratings, we can return the preMergeArray now\n\t\tif(!possibleRatings.length) return [commentArray]\n\t\t//if there is only 1 rating it, use that\n\t\tif(possibleRatings.length === 1) {\n\t\t\tusedRatings.push(possibleRatings[0][5])\n\t\t\treturn [commentArray, possibleRatings[0]]\n\t\t}\n\t\t//if there are multiple possible ratings to associate:\n\t\t\t//find all ratings made within 24 hours of the comment and pick most recent\n\t\tconst dayBlackout = createBlackout(commentArray[4], 1, 'day')\n\t\tconst withinDay = possibleRatings\n\t\t\t.find(ratingArray => dayBlackout(ratingArray[4]))\n\n\t\tif(withinDay) {\n\t\t\tusedRatings.push(withinDay[5])\n\t\t\treturn [commentArray, withinDay]\n\t\t}\n\t\t\n\t\t//if there are multiple possible ratings to associate:\n\t\t\t//find all ratings made within 24 hours of the comment and pick most recent\n\t\tconst withinYearStart = moment(commentArray[4]).subtract(1, 'year')\n\t\tconst withinYearEnd = moment(commentArray[4]).add(1, 'year')\n\t\tconst withinYear = possibleRatings\n\t\t\t.find(ratingArray => moment(ratingArray[4])\n\t\t\t\t.isBetween(withinYearStart, withinYearEnd)\n\t\t\t)\n\n\t\tif(withinYear) {\n\t\t\tusedRatings.push(withinYear[5])\n\t\t\treturn [commentArray, withinYear]\n\t\t}\n\n\t\t//return the most recent if nothing else matched\n\t\tusedRatings.push(possibleRatings[0][5])\n\t\treturn [commentArray, possibleRatings[0]]\n\n\n\t})\n\t//console.log('reviewArrays createPreMergeArrays commentPreMerges', commentPreMerges)\n\tconst usedRatingsMoments = usedRatings\n\t\t.map(id => ratingArrays.find(r => r[5] === id))\n\t\t.map(ratingArray => moment(ratingArray[4]))\n\n\tconst blackouts = usedRatingsMoments\n\t\t.map(m => createBlackout(m, 30, 'day'))\n\n\tconst allBlackouts = ratingArrays\n\t\t.map(ratingArray => moment(ratingArray[4]))\n\t\t.map(m => createBlackout(m, 30, 'day'))\n\n\t//console.log('reviewArrays createPreMergeArrays blackouts set')\n\t\n\tconst ratingPreMerges = ratingArrays\n\t\t.filter(ra => usedRatings.indexOf(ra[5]) < 0)\n\t\t//not blacked out by a rating used on a comment\n\t\t.filter(blackoutClearFilter(blackouts))\n\t\t//not blacked out by a more recent rating\n\t\t.filter((ra, i, raa) => {\n\t\t\tconst recentBlackouts = allBlackouts.slice(0, i)\n\t\t\treturn(blackoutClearFilter(recentBlackouts)(ra))\n\t\t})\n\t\t.map(ra => [ra])\n\n\tconst allPreMerges = [...commentPreMerges, ...ratingPreMerges]\n\t//console.log('reviewArrays allPreMerges ', allPreMerges)\n\n\treturn allPreMerges\n}\n\nconst mergeArray = preMerge => {\n\t//if there is only one array, return it\n\tif(preMerge.length === 1) return preMerge[0]\n\t//otherwise, there is one comment and one rating\n\tconst commentField = preMerge[0][3] ? preMerge[0][3] : preMerge[1][3]\n\tconst commentIdField = preMerge[0][6] ? preMerge[0][6] : preMerge[1][6]\n\tconst ratingField = preMerge[0][2] ? preMerge[0][2] : preMerge[1][2]\n\tconst ratingIdField = preMerge[0][5] ? preMerge[0][5] : preMerge[1][5]\n\t//use the timestamp from the comment\n\tconst timestampField = preMerge[0][3] ? preMerge[0][4] : preMerge[1][4]\n\t//the other fields are the same\n\n\treturn {\n\t\tauthor: preMerge[0][0],\n\t\tsubjectObject: preMerge[0][1],\n\t\trating: parseInt(ratingField, 10\n\t\t\t),\n\t\tcomment: commentField,\n\t\ttimestamp: timestampField,\n\t\tratingId: ratingIdField,\n\t\tcommentId: commentIdField\n\n\t}\n\n}\n\nexport const reviewArrays = messageArray => {\n\tconst messageReviewArrays = messageArray.map(reviewArrayFromMessage)\n\t//console.log('reviewArrays messageReviewArrays ', messageReviewArrays)\n\treturn createPreMergeArrays(messageReviewArrays)\n\t\t.map(mergeArray)\n}\n","// src/store/subjectData.js\n\nimport _ from 'lodash'\n\n\n\nimport {remoteData} from './data.js'\nimport {reviewArrays} from '../services/reviewArrays'\nimport {timeStampSort} from '../services/sorts.js'\nimport {sameSubject} from '../services/subjectFunctions';\nimport Auth from '../services/auth.js'\n\nconst subjectDataField = type => {return _.get({\n\t'13': 'Flags',\n\t'12': 'Images',\n\t'11': 'Site',\n\t'10': 'Messages',\n\t'9': 'Days',\n\t'8': 'Dates',\n\t'7': 'Festivals',\n\t'6': 'Series',\n\t'5': 'Venues',\n\t'4': 'Places',\n\t'3': 'Sets',\n\t'2': 'Artists',\n\t'1': 'Users'\n}, type, '')}\n\nglobal.FLAG = 13\nglobal.IMAGE = 12\nglobal.FESTIGRAM = 11\nglobal.MESSAGE = 10\nglobal.DAY = 9\nglobal.DATE = 8\nglobal.FESTIVAL = 7\nglobal.SERIES = 6\nglobal.VENUE = 5\nglobal.PLACE = 4\nglobal.SET = 3\nglobal.ARTIST = 2\nglobal.USER = 1\n\nglobal.COMMENT = 1\nglobal.RATING = 2\nglobal.CHECKIN = 3\nglobal.DISCUSSION = 8\n\nglobal.FOLLOW = 9\nglobal.BLOCK = 10\n\n\n\n\n\n\n\n\n\n\n//the subjectType of a direct subEvent\nconst subTypes = [\n\tundefined, //nothing\n\tundefined, //users\n\tundefined, //artists\n\tundefined, //sets\n\tundefined, //places\n\tundefined, //venues\n\t7, //series\n\t8, //festivals\n\t9, //dates\n\t3, //days\n\tundefined, //messages\n\tundefined, //site\n\tundefined, //images\n\tundefined, //flags\n\n\n]\n\nconst artistSets = so => remoteData.Sets.getFiltered(s => s.band === so.subject)\n\t.map(s => s.id)\n\t.map(id => {return {subject: id, subjectType: 3}})\n\nconst secondarySubjectObjects = type => {return {\n\t//Flags\n\t'13': so => [],\n\t//Images\n\t'12': so => [],\n\t//Site\n\t'11': so => [],\n\t//Messages\n\t'10': so => [],\n\t//Days\n\t'9': so => [],\n\t//Dates\n\t'8': so => [],\n\t//Festivals\n\t'7': so => [],\n\t//Series\n\t'6': so => [],\n\t//Venues\n\t'5': so => [],\n\t//Places\n\t'4': so => [],\n\t//Sets\n\t'3': so => {\n\t\tconst theSet = remoteData.Sets.get(so.subject)\n\t\t//console.log('subjectData secondarySubjectObjects for ', so, theSet)\n\t\tif(theSet && theSet.band) return [\n\t\t\t{subject: theSet.band, subjectType: 2},\n\t\t\t...artistSets(so)\n\t\t]\n\t\treturn []\n\n\t},\n\t//Artists\n\t'2': artistSets,\n\t//Users\n\t'1': so => []\n}[type]}\n\nconst getRating = (sub, type, author) => {\n\tconst mType = 2\n\tconst authorRatings = remoteData.Messages.ofAboutAndBy(mType, type, author)\n\tconst subRating = authorRatings.filter(m => m.subject === sub)\n\t\t.sort(timeStampSort)\n\n\tconst message = subRating[0]\n\treturn message\n}\n\nconst getRatingAverage = ({subject, subjectType}) => {\n\t//get each user with a rating\n\tconst allPrimaryRaters = _.uniq(remoteData.Messages.getFiltered({\n\t\tsubject: subject,\n\t\tsubjectType: subjectType,\n\t\tmessageType: 2\n\t}).map(m => parseInt(m.fromuser, 10)))\n\t//get the rating from each user\n\tconst allRatings = allPrimaryRaters.map(author => getRating(subject, subjectType, author))\n\t//average each users rating\n\tconst average = allRatings.reduce((acc, r, i, arr) => acc + r / arr.length, 0)\n\treturn average\n}\n\nconst getComment = (sub, type, author) => {\n\tconst mType = 1\n\tconst authorRatings = remoteData.Messages.ofAboutAndBy(mType, type, author)\n\tconst subRating = authorRatings.filter(m => m.subject === sub)\n\n\tconst message = subRating[0]\n\treturn message\n}\n\nconst ts = () => Math.round((new Date()).getTime() / 1000)\nconst userIdsActive = subjectObject => {\n\tconst directMessages = remoteData.Messages.getFiltered(_.assign({}, subjectObject, {messageType: 3}))\n\treturn [\n\t//invalid\n\tx => [],\n\t//user\n\tx => [],\n\t//artist\n\tx => [],\n\t//set\n\tx => _.uniq(directMessages.map(m => m.fromuser)),\n\t//place\n\tx => [],\n\t//venue\n\tx => [],\n\t//series\n\tx => [],\n\t//festival\n\tx => [],\n\t//date\n\tx => _.uniq(directMessages.map(m => m.fromuser)),\n\t//day\n\tx => _.uniq(directMessages.map(m => m.fromuser)),\n\t//message\n\tx => [],\n\t//site\n\tx => [],\n\t//image\n\tx => [],\n\t//flag\n\tx => []\n][subjectObject.subjectType]()\n} \nconst eventActive = [\n\t//invalid\n\t'',\n\t//user\n\t'',\n\t//artist\n\t'',\n\t//set\n\t'active',\n\t//place\n\t'',\n\t//venue\n\t'',\n\t//series\n\t'activeDate',\n\t//festival\n\t'activeDate',\n\t//date\n\t'active',\n\t//day\n\t'active',\n\t//message\n\t'',\n\t//site\n\t'',\n\t//image\n\t'',\n\t//flag\n\t''\n]\nconst eventEnded = [\n\t//invalid\n\t'',\n\t//user\n\t'',\n\t//artist\n\t'',\n\t//set\n\t'ended',\n\t//place\n\t'',\n\t//venue\n\t'',\n\t//series\n\t'',\n\t//festival\n\t'',\n\t//date\n\t'ended',\n\t//day\n\t'ended',\n\t//message\n\t'',\n\t//site\n\t'',\n\t//image\n\t'',\n\t//flag\n\t''\n]\nconst eventFuture = [\n\t//invalid\n\t'',\n\t//user\n\t'',\n\t//artist\n\t'',\n\t//set\n\t'future',\n\t//place\n\t'',\n\t//venue\n\t'',\n\t//series\n\t'',\n\t//festival\n\t'',\n\t//date\n\t'future',\n\t//day\n\t'future',\n\t//message\n\t'',\n\t//site\n\t'',\n\t//image\n\t'',\n\t//flag\n\t''\n]\n\nvar subjectLoaded = {}\n/*\nf(7) < f(6)\nf(8) < f(7)\nf(9) < f(8)\nf(3) < f(9)\n\n\n\n*/\n\nexport const subjectData = {\n\tsubjectDataField: subjectDataField,\n\tget: (subjectObject) => remoteData[subjectDataField(subjectObject.subjectType)]\n\t\t\t.get(subjectObject.subject),\n\tgetPromise: (subjectObject) => remoteData[subjectDataField(subjectObject.subjectType)]\n\t\t\t.getPromise(subjectObject.subject),\n\tgetLocalPromise: (subjectObject) => remoteData[subjectDataField(subjectObject.subjectType)]\n\t\t\t.getLocalPromise(subjectObject.subject),\n\tgetManySingleType: (subjectObjectAr) => {\n\t\tif(!subjectObjectAr || !subjectObjectAr.length) return []\n\t\treturn remoteData[subjectDataField(subjectObjectAr[0].subjectType)]\n\t\t\t.getMany(subjectObjectAr.map(so => so.subject))\n\t},\n\tname: (sub, type) => {\n\t\tif(!sub) return\n\t\tconst suba = !sub.subject ? sub : sub.subject\n\t\tconst typea = !sub.subjectType ? type : sub.subjectType\n\t\treturn typea && suba ? remoteData[subjectDataField(typea)].getName(suba) : ''\n\n\t},\n\tdata: ({subject, subjectType}) => subjectType && subject ? remoteData[subjectDataField(subjectType)].get(subject) : '',\n\tratingBy: (sub, type, user) => {\n\t\tconst author = user ? user : 0\n\t\t//console.log('subjectData ratingBy sub: ' + sub + 'type: ' + type + 'author: ' + author)\n\t\tconst message = getRating(sub, type, author)\n\t\tconst rate = message && message.content ? parseInt(message.content, 10) : 0\n\t\treturn rate\n\t},\n\tratingId: (sub, type, user) => {\n\t\tconst author = user ? user : 0\n\t\tconst message = getRating(sub, type, author)\n\t\tconst id = message && message.id\n\t\treturn id\n\t},\n\tratingObject: (subjectObject, user) => {\n\t\tconst author = user ? user : 0\n\t\tconst {subject, subjectType} = subjectObject\n\t\t//the gold rating is the user's most recent rating for the subject\n\t\tconst message = getRating(subject, subjectType, author)\n\t\tconst goldRating = message && message.content && parseInt(message.content, 10)\n\t\tif(subject === 5102)console.log('ratingsObject gold', goldRating)\n\t\tif(goldRating) return _.assign({}, {author: author, rating: goldRating, color: 'gold'}, subjectObject)\n\t\t//the green rating is the average of the users relatedRatings\n\t\tconst relatedSubjects = []\n\t\tif(subject === 5102)console.log('ratingsObject relatedSubjects', relatedSubjects)\n\t\tconst relatedRatings = relatedSubjects\n\t\t\t.map(({subject, subjectType}) => getRating(subject, subjectType, author))\n\t\t\t.filter(_.isInteger)\n\t\tconst greenRating = relatedRatings.reduce((avg, r, i, arr) => avg + r / arr.length, 0)\n\t\tif(subject === 5102)console.log('ratingsObject green', greenRating)\n\t\tif(greenRating) return _.assign({}, {author: author, rating: goldRating, color: 'forestgreen'}, subjectObject)\n\t\t//the black rating is the average of all avable ratings for the primary, or if none, the secondarties\n\t\tconst primaryRatings = remoteData.Messages.getFiltered({messageType: 2, subject: subject, subjectType: subjectType})\n\t\t\t.map(m => m && m.content && parseInt(m.content, 10))\n\t\t\t.filter(x => x)\n\t\tconst secondaryRatings = _.uniqBy((primaryRatings.length ? [] : relatedSubjects)\n\t\t\t.map(sub => remoteData.Messages.getFiltered(_.assign({}, sub, {messageType: 2})))\n\t\t\t.reduce((pv, cv) => [...pv, ...cv], []),\n\t\t\tr => `${r.fromuser}.${r.subject}.${r.subjectType}`)\n\t\t\t.map(m => m && m.content && parseInt(m.content, 10))\n\t\t\t.filter(x => x)\n\t\tconst allRatings = [...primaryRatings, ...secondaryRatings].filter(x => x)\n\t\tconst blackRating = allRatings.length ? allRatings.reduce((avg, r, i, arr) => avg + r / arr.length, 0) : 0\n\t\tif(subject === 5102)console.log('ratingsObject black', blackRating)\n\t\t\n\t\treturn blackRating ? _.assign({}, {author: author, rating: blackRating, color: 'black'}, subjectObject) : _.assign({}, {author: author, rating: 0, color: 'black'}, subjectObject)\n\t},\n\tcommentBy: (sub, type, author) => {\n\t\tconst message = getComment(sub, type, author)\n\t\tconst comment = message && message.content ? message.content : ''\n\t\t//console.log('subjectData authorRatings ' + authorRatings.length)\n\t\t//console.log('subjectData aboutArtists ' + aboutArtists.length)\n\t\t//console.log('subjectData ratings ' + ratings.length)\n\t\t//console.log('subjectData byAuthor ' + byAuthor.length)\n\t\t//console.log('subjectData byAuthor add ' + (author + 1))\n\t\t//console.log('subjectData byFromuser add ' + (remoteData.Messages.list[0].fromuser + 1))\n\t\t//console.log('subjectData subRating ' + subRating.length)\n\t\treturn comment\n\t},\n\tcommentId: (sub, type, author) => {\n\t\tconst message = getComment(sub, type, author)\n\t\tconst id = message && message.id\n\t\treturn id\n\t},\n\tended: subjectObject => subjectObject && subjectObject.subject && _.invoke(remoteData, `[${subjectDataField(subjectObject.subjectType)}][${eventEnded[subjectObject.subjectType]}]`, subjectObject.subject),\n\tactive: subjectObject => subjectObject && subjectObject.subject && _.invoke(remoteData, `[${subjectDataField(subjectObject.subjectType)}][${eventActive[subjectObject.subjectType]}]`, subjectObject.subject),\n\tfuture: subjectObject => subjectObject && subjectObject.subject && _.invoke(remoteData, `[${subjectDataField(subjectObject.subjectType)}][${eventFuture[subjectObject.subjectType]}]`, subjectObject.subject),\n\tcheckIn: subjectObject => {\n\t\tconst primaryField = remoteData[subjectDataField(subjectObject.subjectType)]\n\n\t\tif(primaryField[eventActive[subjectObject.subjectType]](subjectObject.subject)) {\n\t\t\tremoteData.Messages.create({\n\t\t        //fromuser: attrs.user,\n\t\t        subject: subjectObject.subject,\n\t\t        subjectType: subjectObject.subjectType,\n\t\t        messageType: 3,\n\t\t        content: 0\n\t\t    })\n\t\t}},\n\tcheckedIn: (subjectObject, options = {}) => {\n\t\t//console.log('subjectData checkedIn', subjectObject, options)\n\t\tif(!subjectObject.subject) return false\n\t\tconst subjectObjectSpecsUser = subjectObject.subjectType === USER\n\t\t//with options.date and subjectObject specifies a user\n\t\t\t//if there is an active date associated with the user return the id\n\t\tif(subjectObjectSpecsUser && (options.date || options.eventType === DATE)) {\n\t\t\t//console.log('subjectData checkedIn', subjectObject, options)\n\t\t\tconst lastCheckin = remoteData.Messages.lastCheckin(subjectObject.subject)\n\t\t\t//console.log('subjectData lastCheckin', lastCheckin)\n\t\t\tconst assocDate = subjectData.dates(lastCheckin)\n\t\t\t\t.reduce((pv, cv, i) => !i ? cv : pv, false)\n\t\t\t//console.log('subjectData assocDate', assocDate)\n\t\t\tif(assocDate && assocDate.id) return assocDate.id\n\t\t//with options.day and subjectObject specifies a user\n\t\t\t//if there is an active day associated with the user return the id\n\t\t} else if(subjectObjectSpecsUser && (options.day || options.eventType === DAY)) {\n\t\t\t//console.log('subjectData checkedIn', subjectObject, options)\n\t\t\tconst lastCheckin = remoteData.Messages.lastCheckin(subjectObject.subject)\n\t\t\t//console.log('subjectData lastCheckin', lastCheckin)\n\t\t\tconst assocDay = subjectData.days(lastCheckin)\n\t\t\t\t.reduce((pv, cv, i) => !i ? cv : pv, false)\n\t\t\t//console.log('subjectData assocDay', assocDay)\n\t\t\tif(assocDay && assocDay.id) return assocDay.id\n\t\t//with options.set and subjectObject specifies a user\n\t\t\t//if there is an active set associated with the user return the id\n\t\t} else if(subjectObjectSpecsUser && (options.set || options.eventType === SET)) {\n\t\t\t//console.log('subjectData checkedIn', subjectObject, options)\n\t\t\tconst lastCheckin = remoteData.Messages.lastCheckin(subjectObject.subject)\n\t\t\t//console.log('subjectData lastCheckin', lastCheckin)\n\t\t\tconst assocSet = subjectData.sets(lastCheckin)\n\t\t\t\t.reduce((pv, cv, i) => !i ? cv : pv, false)\n\t\t\t//console.log('subjectData assocSet', assocSet)\n\t\t\tif(assocSet && assocSet.id) return assocSet.id\n\t\t}\n\t\t//no valid options\n\t\t\t//this can either return \n\t\t\t\t//the checkinSubjectObject if subjectObject specifies a user\n\t\t\t\t//checkinSubjectObjects for currently checked in (directly only, so it works better for who else is checked into a set than a date) users if subjectObject is checkinable\n\t\tif(subjectObjectSpecsUser) {\n\t\t\treturn remoteData.Messages.lastCheckin(subjectObject.subject)\n\t\t}\n\n\t\tconst subjectCheckinsFilter = _.assign({}, subjectObject, {messageType: 3})\n\t\t//console.log('subjectData subjectCheckinsFilter', subjectCheckinsFilter)\n\t\tconst subjectDirectCheckins = remoteData.Messages.getFiltered(subjectCheckinsFilter)\n\t\t\t.reduce((pv, checkin) => {\n\t\t\t\tconst active = remoteData.Messages.lastCheckin(checkin.fromuser).id === checkin.id\n\t\t\t\tif(active) {\n\t\t\t\t\tpv.active.push(checkin)\n\t\t\t\t} else {\n\t\t\t\t\tpv.ended.push(checkin)\n\t\t\t\t}\n\t\t\t\treturn pv\n\t\t\t}, {active: [], ended: []})\n\n\t\treturn subjectDirectCheckins\n\n\t},\n\tfeelingClass: (subjectObject, userId) => {\n\t\tconst rating = subjectData.ratingObject(subjectObject, userId)\n\t\tconst strength = rating.color === 'black' ? 'weak' : 'strong'\n\t\tconst feeling = !rating.rating ? '' :\n\t\t\trating.rating < 3 ? 'hate' :\n\t\t\trating.rating < 4 ? 'like' :\n\t\t\t'love'\n\t\treturn feeling && `gt-feeling-${strength}-${feeling}` || 'gt-feeling-unsure'\n\t},\n\timagePreset: type => 'artist',\n\tconnectedData: subjectObject => {\n\t\t//get non-event data needed to display a detail view of the subject\n\n\t\t//first check if bulk data on subject has already been collected:\n\n\n\t\t//festival detail:\n\t\t//nonmessages:\n\t\t//artists in the lineup\n\n\t\t//messages with subjects:\n\t\t//event\n\t\t//all superEvents\n\t\t//all subEvents\n\t\t//all artists in lineup\n\t\t//future: all places for festival\n\t},\n\tdates: (subjectObject) => {\n\t\tif(!subjectObject) return []\n\t\tconst primaryField = remoteData[subjectDataField(subjectObject.subjectType)]\n\t\tconst lowerDates = primaryField.getSubDateIds ? primaryField.getSubDateIds(subjectObject.subject) : []\n\t\tconst higherDates = primaryField.getDateId ? [primaryField.getDateId(subjectObject.subject)] : []\n\t\tconst allDates = [...(lowerDates ? lowerDates : []), ...(higherDates ? higherDates : [])]\n\t\t\t.filter(x => x)\n\t\t//console.log('subjectData dates', subjectObject, allDates, primaryField.getDateId(subjectObject.subject))\n\t\treturn remoteData.Dates.getMany(allDates)\n\t},\n\tfestivals: (subjectObject) => {\n\t\tif(!subjectObject) return []\n\t\tconst primaryField = remoteData[subjectDataField(subjectObject.subjectType)]\n\t\tconst lowerFestivals = primaryField.getSubFestivalIds ? primaryField.getSubFestivalIds(subjectObject.subject) : []\n\t\tconst higherFestivals = primaryField.getFestivalId ? [primaryField.getFestivalId(subjectObject.subject)] : []\n\t\tconst allFestivals = [...(lowerFestivals ? lowerFestivals : []), ...(higherFestivals ? higherFestivals : [])]\n\t\t\t.filter(x => x)\n\t\t//console.log('subjectData Festivals', subjectObject, allFestivals, primaryField.getFestivalId(subjectObject.subject))\n\t\treturn remoteData.Festivals.getMany(allFestivals)\n\t},\n\tdays: (subjectObject) => {\n\t\tif(!subjectObject) return []\n\t\tconst primaryField = remoteData[subjectDataField(subjectObject.subjectType)]\n\t\tconst lowerDays = primaryField.getSubDayIds ? primaryField.getSubDayIds(subjectObject.subject) : []\n\t\tconst higherDays = primaryField.getDayId ? [primaryField.getDayId(subjectObject.subject)] : []\n\t\tconst allDays = [...(lowerDays ? lowerDays : []), ...(higherDays ? higherDays : [])]\n\t\t\t.filter(x => x)\n\t\t//console.log('subjectData dates', subjectObject, allDates, primaryField.getDateId(subjectObject.subject))\n\t\treturn remoteData.Days.getMany(allDays)\n\t},\n\tsets: (subjectObject) => {\n\t\tif(!subjectObject) return []\n\t\tconst dataField = remoteData[subjectDataField(subjectObject.subjectType)]\n\t\tif(!dataField) console.log('subjectData sets so', subjectObject, subjectDataField(subjectObject.subjectType))\n\t\tconst ids = dataField.getSubSetIds ? dataField.getSubSetIds(subjectObject.subject) : []\n\t\treturn remoteData.Sets.getMany(ids)\n\t},\n\tsubEvent: (main, possibleSub) => {\n\t\tif(!possibleSub || !possibleSub.subjectType) throw new Error('missing possible subEvent', possibleSub)\n\t\t//get level for subs\n\t\t//get subjectData method name for possibleSub level\n\t\tconst method = subjectDataField(possibleSub.subjectType).toLowerCase()\n\t\tconsole.log('subEvent method', method, possibleSub)\n\t\tconst subs = subjectData[method](main)\n\t\tconst retVal = subs.length && _.some(subs, s => s.id === possibleSub.subject)\n\t\t//console.log('subjectData subEvent', main, possibleSub, method, subs, retVal)\n\t\treturn retVal\n\t},\n\tsubEvents: (subjectObject) => {\n\t\tif(!subjectObject) return []\n\t\tconst df = remoteData[subjectDataField(subjectObject.subjectType)]\n\t\tconst subType = subTypes[subjectObject[subjectObject.subjectType]]\n\t\tif(!df || !df.getSubIds || !subType) return []\n\t\treturn subjectData.getManySingleType(\n\t\t\tdf.getSubIds(subjectObject.subject)\n\t\t\t.map(id => {return {subject: id, subjectType: subType}})\n\t\t)\n\n\n\t},\n\tpeerEvents: (subjectObject) => {\n\t\tif(!subjectObject) return []\n\t\tconst df = remoteData[subjectDataField(subjectObject.subjectType)]\n\t\tif(!df || !df.getPeerIds) return []\n\t\treturn subjectData.getManySingleType(\n\t\t\tdf.getPeerIds(subjectObject.subject)\n\t\t\t.map(id => {return {subject: id, subjectType: subjectObject.subjectType}})\n\t\t)\n\n\t},\n\tplaces: (subjectObject) => {\n\t\tif(!subjectObject) return []\n\t\treturn subjectData.festivals(subjectObject)\n\t\t\t.map(festival => { return{subject: festival.id, subjectType: FESTIVAL}})\n\t\t\t.map(f => remoteData.Places.getFiltered(f))\n\t\t\t//.filter(s => console.log('subjectData.places festival', s) || true)\n\t\t\t.reduce((pv, cv) => [...pv, ...cv], [])\n\t},\n\tusers: (subjectObject) => {\n\t\tif(!subjectObject) return []\n\t\t//return all users active on the subjectObject\n\t\tconst users = remoteData.Users.getMany(userIdsActive(subjectObject))\n\t\treturn users\n\t\t\n\t},\n\tgetReviews: (subjectObject, userId) => {\n\t\t//console.log('subjectData getDetail', secondarySubjectObjects(subjectObject.subjectType)(subjectObject.subject))\n\t\tconst primaryField = remoteData[subjectDataField(subjectObject.subjectType)]\n\t\tif(!primaryField) return {}\n\t\tconst name = primaryField.getName(subjectObject.subject)\n\t\tif(/undefined/.test(name)) return {}\n\t\t\n\t\tconst relatedMessages = remoteData.Messages.getFiltered(subjectObject)\n\n\n\t\tconst allPrimaryReviewMessages = relatedMessages\n\t\t\t.filter(m => m.messageType === RATING || m.messageType === COMMENT)\n\t\t//console.log('subjectData getReviews', subjectObject, name)\n\n\t\t\n\t\tconst secondaryReviewSubjects = secondarySubjectObjects(subjectObject.subjectType)(subjectObject)\n\t\tconst useSecondary = secondaryReviewSubjects && secondaryReviewSubjects.length\n\n\t\t//console.log('subjectData.getReviews secondaryReviewSubjects', secondaryReviewSubjects)\n\n\t\tconst secondaryReviewMessages = (useSecondary ? secondaryReviewSubjects : [])\n\t\t\t.map(f => remoteData.Messages.getFiltered(f))\n\t\t\t//.filter(m => console.log('subjectData secondaryReviewMessages', m))\n\t\t\t.reduce((pv, cv) => [...pv, ...cv], [])\n\n\t\t//console.log('subjectData.getReviews secondaryReviewMessages', secondaryReviewMessages)\n\t\t\n\t\tconst reviews = reviewArrays([...allPrimaryReviewMessages, ...secondaryReviewMessages])\n\t\t//console.log('subjectData.getReviews reviews', reviews)\n\t\tconst myReviews = reviews.filter(r => r.author === userId)\n\t\tconst friendReviews = reviews.filter(r => r.author !== userId)\n\t\treturn {\n\t\t\tmyReviews: myReviews,\n\t\t\tfriendReviews: friendReviews\n\t\t}\n\t},\n\tgetDetail: (subjectObject) => {\n\t\t//console.log('subjectData getDetail', secondarySubjectObjects(subjectObject.subjectType)(subjectObject.subject))\n\t\tconst primaryField = remoteData[subjectDataField(subjectObject.subjectType)]\n\t\tconst name = primaryField.getName(subjectObject.subject)\n\t\tif(/undefined/.test(name)) return {}\n\t\tconst subStrings = [\n\t\t\tprimaryField.getTimeString && primaryField.find(subjectObject.subject) ? primaryField.getTimeString(subjectObject.subject) : ''\n\t\t].filter(x => x)\n\t\tconst subjectRating = subjectData.ratingBy(subjectObject.subject, subjectObject.subjectType, Auth.userId())\n\t\t//checkin is allowed if subject is:\n\t\t\t//a series/festival/date with an ongoing date (checked in stored at date)\n\t\t\t//an ongoing day (also checkins to date if not already)\n\t\t\t//an ongoing set (also day/date if not checked)\n\t\t\t//a place\n\t\t\t//a venue\n\t\tconst reviewAllowed = [\n\t\t\t//invalid\n\t\t\tfalse,\n\t\t\t//user\n\t\t\tfalse,\n\t\t\t//artist\n\t\t\ttrue,\n\t\t\t//set\n\t\t\ttrue,\n\t\t\t//place\n\t\t\ttrue,\n\t\t\t//venue\n\t\t\ttrue,\n\t\t\t//series\n\t\t\ttrue,\n\t\t\t//festival\n\t\t\ttrue,\n\t\t\t//date\n\t\t\ttrue,\n\t\t\t//day\n\t\t\ttrue,\n\t\t\t//message\n\t\t\tfalse\n\n\t\t][subjectObject.subjectType]\n\t\tconst checkinAllowed = primaryField[eventActive[subjectObject.subjectType]](subjectObject.subject)\n\t\tconst lastCheckin = checkinAllowed && remoteData.Messages.lastCheckin(Auth.userId())\n\t\t//console.log('SetDetail lastCheckin', lastCheckin)\n\t\tconst checkedIn = checkinAllowed && subjectObject.subject === lastCheckin.subject && subjectObject.subjectType === lastCheckin.subjectType\n\n\t\tconst relatedMessages = remoteData.Messages.getFiltered(subjectObject)\n\n\n\t\tconst allPrimaryReviewMessages = relatedMessages\n\t\t\t.filter(m => m.messageType === 1 || m.messageType === 2)\n\t\t//console.log('subjectData getDetail', subjectObject, name)\n\n\t\t\n\t\tconst secondaryReviewSubjects = secondarySubjectObjects(subjectObject.subjectType)(subjectObject)\n\t\tconst useSecondary = secondaryReviewSubjects && secondaryReviewSubjects.length\n\n\t\t//console.log('subjectData.getDetail secondaryReviewSubjects', secondaryReviewSubjects)\n\n\t\tconst secondaryReviewMessages = (useSecondary ? secondaryReviewSubjects : [])\n\t\t\t.map(f => remoteData.Messages.getFiltered(f))\n\t\t\t//.filter(m => console.log('subjectData secondaryReviewMessages', m))\n\t\t\t.reduce((pv, cv) => [...pv, ...cv], [])\n\n\t\t//console.log('subjectData.getDetail secondaryReviewMessages', secondaryReviewMessages)\n\t\t\n\t\tconst reviews = reviewArrays([...allPrimaryReviewMessages, ...secondaryReviewMessages])\n\t\t//console.log('subjectData.getDetail reviews', reviews)\n\n\t\tconst checkins = subjectData.checkedIn(subjectObject)\n\t\t//console.log('subjectData.getDetail checkins', checkins)\n\t\t//merge the checkins with the reviews\n\t\t/*\n\t\tconst checkinsWithReviews = _.map(checkins, state => state.map(checkin => {\n\t\t\tconst matchedReview = reviews.find(r => r.author === checkin.fromuser && sameSubject(r, checkin))\n\t\t\tconst assignReview = matchedReview ? matchedReview : {\n\t\t\t\tauthor: checkin.fromuser,\n\t\t\t\tcomment: '',\n\t\t\t\tcommentId: 0,\n\t\t\t\trating: 0,\n\t\t\t\tratingId: 0,\n\t\t\t\tsubjectObject: checkin,\n\t\t\t\ttimestamp: checkin.timestamp\n\t\t\t}\n\t\t\treturn _.assign({}, checkin, {review: assignReview})\n\t\t}))\n\t\t*/\n\n\n\t\tconst myReviews = reviews.filter(r => r.author === Auth.userId())\n\t\tconst friendReviews = reviews.filter(r => r.author !== Auth.userId())\n\t\tconst detailObject = {\n\t\t\tname: name,\n\t\t\tsubStrings: subStrings,\n\t\t\trating: subjectRating,\n\t\t\tcheckinAllowed: checkinAllowed,\n\t\t\tcheckins: checkins,\n\t\t\treviewAllowed: reviewAllowed,\n\t\t\tcheckedIn: checkedIn,\n\t\t\tmyReviews: myReviews,\n\t\t\tfriendReviews: friendReviews,\n\t\t\ttype: subjectDataField(subjectObject.subjectType)\n\t\t}\n\t\treturn detailObject\n/*\n\t\t\n\t\t*/\n\t}\n}","// src/store/list/mixins/relations/messageSenders.js\n\nimport _ from 'lodash'\n\nconst alreadyChecked = []\n\n\nexport default (users) => { return {\n\tmessageSenders () {\n\t\t//console.log('messageSenders')\n\t\tconst senders = _.uniq(this.list.map(x => x.fromuser))\n\t\tconst haveSenders = users.list.map(x => x.id)\n\t\tconst needSenders = _.difference(senders, haveSenders)\n\t\tconst uncheckedSenders = _.difference(needSenders, alreadyChecked)\n\t\talreadyChecked.push(...uncheckedSenders)\n\t\treturn users.getManyPromise(uncheckedSenders)\n\t} \n}}","// src/store/list/mixins/relations/senderPurge.js\n\nimport _ from \"lodash\"\n\nexport default {\n\tsenderPurge(senderId) {\n\t\tthis.list = this.list.filter(m => m.fromuser !== senderId)\n\t}\n}\n","// src/store/list/mixins/remote/merge.js\n\nimport provide from '../../../loading/provide'\n\nexport default {\n\tmerge (id1, id2, simResponse) { \n\t\tconst end = `/api/${this.fieldName}/admin/merge/${id1}/${id2}`\n\t\t//console.log('merge artists')\n\t\t//console.log(data)\n\t\treturn provide({}, this.fieldName, '', end, 'POST', simResponse)\n\t\t\t.then(() => simResponse || this.remoteCheck(true))\n\t\t\t.then(!simResponse ? x => x : () => end)\n\t}  \n}","// src/store/list/mixins/remote/details/subject.js\n\n\n\nimport _ from 'lodash'\nvar bulkUpdateSubjectCache = {}\n\nexport default {\n\tsubjectDetails (so) {\n\t\tif(!so || !so.subjectType || !so.subject) {\n\t\t\treturn Promise.reject('No subject object for subjectDetails')\n\t\t}\n\t\tif(so.subjectType !== this.subjectType) throw new Error(`No subjectType mismatch ${so.subjectType} !== ${this.subjectType}` )\n\n\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//for each subject Type, collect detail information\n\n\t\treturn this.getPromise(so.subject)\n\t\t\t.then(s => Boolean(s))\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('this subjectDetails Promise.all')\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\n\t\t}\n}","// src/store/list/mixins/remote/details/artist.js\n\n\n\nimport _ from 'lodash'\n\nconst cacheLife = 1000 * 3600 // 1 hour\n\nvar lastLoad = {}\n\nexport default ({artists, dates, sets, messages}, lineups, images, artistAliases, genres, artistGenres, parentGenres, artistPriorities) => { return {\n\tsubjectDetails (so) {\n\t\tif(!so || !so.subjectType || !so.subject) {\n\t\t\treturn Promise.reject('No subject object for subjectDetails')\n\t\t}\n\t\tif(so.subjectType !== this.subjectType) return Promise.reject(`No artist subjectType mismatch ${so.subjectType} !== ${this.subjectType}` )\n\n\n\t\tconst key = `[${so.subjectType}][${so.subject}]`\n\t\tconst cacheValid = lastLoad[key] && (cacheLife + lastLoad[key] > Date.now())\n\t\t//console.log('artist subjectDetails', key, cacheValid)\n\t\tif(cacheValid) return Promise.resolve(false)\n\t\tlastLoad[key] = Date.now()\n\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//for each subject Type, collect detail information\n\n\t\t//assumes all series loaded from core\n\t\t//assumes all festivals are loaded from core\n\n\t\tvar updated = false\n\n\t\tconst setIdsPresent = sets.getFiltered(s => s.band === so.subject)\n\t\t\t.map(s => s.id)\n\t\treturn this.getLocalPromise(so.subject)\n\t\t\t.then(([subjectData, upd]) => {\n\t\t\t\tupdated = updated || upd\n\t\t\t\treturn subjectData\n\t\t\t})\n\t\t\t.then(subjectData => {\n\t\t\t\t//lineups\n\t\t\t\tconst lineEnd = `/api/Lineups`\n\t\t\t\tconst lineQuery = `filter[where][band]=${so.subject}`\n\t\t\t\t//images\n\t\t\t\tconst imgEnd = `/api/Images`\n\t\t\t\tconst imgQuery = `filter=` + JSON.stringify({where: {and: [\n\t\t\t\t\t{subject: so.subject},\n\t\t\t\t\t{subjectType: so.subjectType}\n\t\t\t\t]}})\n\t\t\t\t//sets\n\t\t\t\tconst setEnd = `/api/Sets`\n\t\t\t\tconst setQuery = `filter=` + JSON.stringify({where: {and: [\n\t\t\t\t\t{id: {nin: setIdsPresent}},\n\t\t\t\t\t{band: so.subject},\n\t\t\t\t]}})\n\t\t\t\t//direct messages\n\t\t\t\tconst messEnd = `/api/Messages`\n\t\t\t\tconst messQuery = `filter=` + JSON.stringify({where: {and: [\n\t\t\t\t\t{subject: so.subject},\n\t\t\t\t\t{subjectType: so.subjectType}\n\t\t\t\t]}})\n\t\t\t\treturn Promise.all([\n\t\t\t\t\tlineups.acquireListSupplement(lineQuery, lineEnd)\n\t\t\t\t\t\t.then(upd => updated = updated || upd),\n\t\t\t\t\timages.acquireListSupplement(imgQuery, imgEnd)\n\t\t\t\t\t\t.then(upd => updated = updated || upd),\n\t\t\t\t\tsets.acquireListSupplement(setQuery, setEnd)\n\t\t\t\t\t\t.then(upd => updated = updated || upd)\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t//set messages\n\n\t\t\t\t\t\t\tconst setIdsPresent = sets.getFiltered(s => s.band === so.subject)\n\t\t\t\t\t\t\t\t.map(s => s.id)\n\n\t\t\t\t\t\t\tconst messQuery = `filter=` + JSON.stringify({where: {and: [\n\t\t\t\t\t\t\t\t{subject: {inq: setIdsPresent}},\n\t\t\t\t\t\t\t\t{subjectType: sets.subjectType}\n\t\t\t\t\t\t\t]}})\n\t\t\t\t\t\t\treturn messages.acquireListSupplement(messQuery, messEnd)\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(upd => updated = updated || upd),\n\t\t\t\t\tmessages.acquireListSupplement(messQuery, messEnd)\n\t\t\t\t\t\t.then(upd => updated = updated || upd)\n\t\t\t\t])\n\n\t\t\t})\n\t\t\t.then(() => messages.messageSenders())\n\t\t\t.then(() => updated)\n\t\t\t\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('this subjectDetails artist')\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\n\t},\n\tsecDataPromise () {\n\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//for each subject Type, collect detail information\n\n\t\t//assumes all series loaded from core\n\t\t//assumes all festivals are loaded from core\n\n\n\t\treturn Promise.all([\n\t\t\timages.remoteCheck(),\n\t\t\tartistAliases.remoteCheck(),\n\t\t\tartistGenres.remoteCheck(),\n\t\t\tparentGenres.remoteCheck(),\n\t\t\tgenres.remoteCheck(),\n\t\t\tartistPriorities.remoteCheck()\n\n\t\t])\n\t\t.then(() => true)\n\t\t\n\t\t.catch(err => {\n\t\t\tconsole.log('this subjectDetails Promise.all')\n\t\t\tconsole.log(err)\n\t\t})\n\n\t}\n}}","// src/store/list/mixins/remote/details/date.js\n\n\n\nimport _ from 'lodash'\n\nvar lastUpdate = {}\nvar lastPromise = {}\nexport default ({artists, days, sets, messages, series, festivals, venues, places}, lineups, intentions) => { return {\n\tsubjectDetails (so) {\n\t\tif(!so || !so.subjectType || !so.subject) {\n\t\t\treturn Promise.reject('No subject object for subjectDetails' + JSON.stringify(so))\n\t\t}\n\t\tif(so.subjectType !== this.subjectType) throw new Error(`No date subjectType mismatch ${so.subjectType} !== ${this.subjectType}` )\n\n\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//for each subject Type, collect detail information\n\n\t\t//assumes all series loaded from core\n\t\t//assumes all festivals loaded from core\n\t\t//assumes all venues loaded from core\n\t\t\n\t\tconst key = `[${so.subjectType}][${so.subject}]`\n\t\tconst updateTimeElapsed = Date.now() - _.get(lastUpdate, key, 0)\n\t\tvar updated = false\n\t\t//return if less than 5 minutes elapsed\n\t\t//console.log('date subjectDetails', updateTimeElapsed, updateTimeElapsed < 5 * 60 * 1000, _.get(lastPromise, key))\n\t\tif((updateTimeElapsed < 5 * 60 * 1000) && _.get(lastPromise, key)) return _.get(lastPromise, key, (() => Promise.reject('cache inconsistent ' + key)()))\n\t\tif(updateTimeElapsed < 5 * 60 * 1000) return new Promise((resolve, reject) => {\n\t\t    setTimeout(() => {\n\t\t        resolve(this.subjectDetails(so))\n\t\t    }, 1 * 1000)\n\t\t})\n\t\t_.set(lastUpdate, key, Date.now())\n\n\t\tconst p = this.getLocalPromise(so.subject)\n\t\t\t.then(([subjectData, upd]) => {\n\t\t\t\tupdated = updated || upd\n\t\t\t\t//console.log('date subjectDetails getLocalPromise resolved', subjectData, upd)\n\t\t\t\treturn subjectData\n\t\t\t})\n\t\t\t.then(subjectData => {\n\t\t\t\tif(!subjectData) throw new Error(`No subject found ${JSON.stringify(subjectData)}`)\n\t\t\t\tseries.remoteCheck(true)\n\t\t\t\tfestivals.remoteCheck(true)\n\t\t\t\tvenues.remoteCheck(true)\n\t\t\t\tintentions.remoteCheck(true)\n\n\t\t\t\t//lineups\n\t\t\t\tconst lineEnd = `/api/Lineups`\n\t\t\t\tconst lineQuery = `filter=` + JSON.stringify({where: {\n\t\t\t\t\tfestival: subjectData.festival\n\t\t\t\t}})\n\t\t\t\t\n\t\t\t\t//days\n\t\t\t\tconst dayEnd = `/api/Days`\n\t\t\t\tconst dayQuery = `filter=` + JSON.stringify({where: {\n\t\t\t\t\tdate: subjectData.id\n\t\t\t\t}})\n\t\t\t\treturn Promise.all([\n\t\t\t\t\tlineups.acquireListSupplement(lineQuery, lineEnd)\n\t\t\t\t\t\t.then(upd => updated = updated || upd)\n\t\t\t\t\t\t//artists\n\t\t\t\t\t\t.then(() => lineups.getFiltered({festival: subjectData.festival})\n\t\t\t\t\t\t\t.map(x => x.band)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then(artistIds => artists.getManyPromise(artistIds)),\n\t\t\t\t\tdays.acquireListSupplement(dayQuery, dayEnd)\n\t\t\t\t\t\t.then(upd => updated = updated || upd)\n\t\t\t\t\t\t//sets\n\t\t\t\t\t\t.then(() => days.getFiltered({date: so.subject})\n\t\t\t\t\t\t\t.map(x => x.id)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then(dayIds => {\n\t\t\t\t\t\t\tsets.acquireListSupplement(`filter=${JSON.stringify({where: {day: {inq: dayIds}}})}`)\n\t\t\t\t\t\t}),\n\t\t\t\t\tplaces.acquireListSupplement(`filter=${JSON.stringify({where: {festival: subjectData.festival}})}`)\n\t\t\t\t\t,\n\t\t\t\t\tmessages.loadForFestival(subjectData.festival)\n\t\t\t\t\t\t.then(upd => updated = updated || upd)\n\t\t\t\t])\n\t\t\t})\n\t\t\t.then(() => updated)\n\t\t\t.then(upd => {\n\t\t\t\t//console.log('date reply', upd)\n\t\t\t\treturn upd\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('this subjectDetails Promise.all')\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t_.set(lastPromise, key, p)\n\t\treturn p\n\n\t\t}\n}}","// src/store/list/mixins/remote/details/day.js\n\n\n\nimport _ from 'lodash'\nvar bulkUpdateSubjectCache = {}\n\nvar lastUpdate = {}\nvar lastPromise = {}\nexport default ({sets, series, festivals, dates, places}) => {return{\n\tsubjectDetails (so) {\n\t\tif(!so || !so.subjectType || !so.subject) {\n\t\t\treturn Promise.reject('No subject object for subjectDetails')\n\t\t}\n\t\tif(so.subjectType !== this.subjectType) return Promise.reject(`No day subjectType mismatch ${so.subjectType} !== ${this.subjectType}` )\n\n\t\tconst key = `[${so.subjectType}][${so.subject}]`\n\t\tconst updateTimeElapsed = Date.now() - _.get(lastUpdate, key, 0)\n\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//for each subject Type, collect detail information\n\t\tseries.remoteCheck()\n\t\tfestivals.remoteCheck()\n\n\t\tvar updated = false\n\t\tif((updateTimeElapsed < 5 * 60 * 1000) && _.get(lastPromise, key)) return _.get(lastPromise, key, (() => Promise.reject('cache inconsistent ' + key)()))\n\t\tif(updateTimeElapsed < 5 * 60 * 1000) return new Promise((resolve, reject) => {\n\t\t    setTimeout(() => {\n\t\t        resolve(this.subjectDetails(so))\n\t\t    }, 1 * 1000)\n\t\t})\n\t\t_.set(lastUpdate, key, Date.now())\n\n\t\tconst p = this.getLocalPromise(so.subject)\n\t\t\t.then(([subjectData, upd]) => {\n\t\t\t\tupdated = updated || upd\n\t\t\t\t//console.log('day subjectDetails getLocalPromise resolved', subjectData, upd)\n\t\t\t\treturn subjectData\n\t\t\t})\n\t\t\t.then(subjectData => dates.subjectDetails({subject: subjectData.date, subjectType: DATE}))\n\t\t\t.then(upd => updated = updated || upd)\n\t\t\t.then(upd => {\n\t\t\t\t//console.log('day reply', upd)\n\t\t\t\treturn upd\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('this subjectDetails Promise.all', this.fieldName)\n\t\t\t\tconsole.error(err)\n\t\t\t})\n\t\t\t.then(() => updated)\n\t\t_.set(lastPromise, key, p)\n\t\treturn p\n\n\t\t}\n}}","// src/store/list/mixins/remote/details/set.js\n\n\n\nimport _ from 'lodash'\nvar bulkUpdateSubjectCache = {}\n\nconst cacheLife = 1000 * 3600 // 1 hour\n\nvar lastLoad = {}\n\nvar lastUpdate = {}\nvar lastPromise = {}\nexport default ({days, dates, series, festivals}) => {return{\n\tsubjectDetails (so) {\n\t\tif(!so || !so.subjectType || !so.subject) {\n\t\t\treturn Promise.reject('No subject object for subjectDetails')\n\t\t}\n\t\tif(so.subjectType !== this.subjectType) return Promise.reject(`No set subjectType mismatch ${so.subjectType} !== ${this.subjectType}` )\n\n\t\tconst key = `[${so.subjectType}][${so.subject}]`\n\t\tconst updateTimeElapsed = Date.now() - _.get(lastUpdate, key, 0)\n\n\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//for each subject Type, collect detail information\n\t\tseries.remoteCheck()\n\t\tfestivals.remoteCheck()\n\n\t\tvar updated = false\n\t\tif((updateTimeElapsed < 5 * 60 * 1000) && _.get(lastPromise, key)) return _.get(lastPromise, key, (() => Promise.reject('cache inconsistent ' + key)()))\n\t\tif(updateTimeElapsed < 5 * 60 * 1000) return new Promise((resolve, reject) => {\n\t\t    setTimeout(() => {\n\t\t        resolve(this.subjectDetails(so))\n\t\t    }, 1 * 1000)\n\t\t})\n\t\t_.set(lastUpdate, key, Date.now())\n\n\t\tconst p = this.getLocalPromise(so.subject)\n\t\t\t.then(([subjectData, upd]) => {\n\t\t\t\tupdated = updated || upd\n\t\t\t\t//console.log('set subjectDetails getLocalPromise resolved', subjectData, upd)\n\t\t\t\treturn subjectData\n\t\t\t})\n\t\t\t.then(subjectData => days.subjectDetails({subject: subjectData.day, subjectType: DAY}))\n\t\t\t.then(upd => updated = updated || upd)\n\t\t\t.then(upd => {\n\t\t\t\t//console.log('set reply', upd)\n\t\t\t\treturn upd\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('this subjectDetails Promise.all', this.fieldName)\n\t\t\t\tconsole.error(err)\n\t\t\t})\n\t\t\t.then(() => updated)\n\t\t_.set(lastPromise, key, p)\n\t\treturn p\n\n\t\t}\n}}","// src/store/loading/provide.js\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport localforage from \"localforage\"\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\",\n})\n\nimport fetchT from \"../../services/fetchT\"\nconst corsNonGrata = []\nconst headerBase = {\n\t//'Content-Type': 'test/plain'\n}\n\nexport default function(url, headers, body, method = \"GET\") {\n\tif (!url) return Promise.reject(\"No URL for foreign request\")\n\tconst hostName = new URL(url).hostname\n\tconst resultChain = fetchT(url, {\n\t\tmethod: method,\n\t\theaders: new Headers(headers ? headers : headerBase),\n\t\tbody: !body || _.isString(body) ? body : JSON.stringify(body),\n\t})\n\t\t.then(response => {\n\t\t\t//console.log('provide', response)\n\t\t\tif (_.isArray(response)) return response\n\t\t\ttry {\n\t\t\t\treturn response.json()\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err)\n\t\t\t\treturn []\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.error(err)\n\t\t\tthrow err\n\t\t})\n\n\treturn resultChain\n}\n","// src/store/list/mixins/remote/www/getWikiPromise.js\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport foreign from \"../../../../loading/foreign\"\nvar stash = {}\n\nexport default {\n\tgetWikiId(id) {\n\t\tif (!id) {\n\t\t\treturn Promise.reject(\"No id for getWikiPromise \" + this.fieldName)\n\t\t}\n\t\tif (!_.isInteger(id)) {\n\t\t\tthrow new Error(\"Invalid getWikiPromise id\", id)\n\t\t}\n\t\t//console.log(this.fieldName, 'getWikiPromise start', id)\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//const get = this.get(id)\n\t\t//if(get) return Promise.resolve(get)\n\n\t\t//for each subject Type, collect detail information\n\t\tconst key = `${this.fieldName}[${id}].id`\n\t\tconst cached = _.get(stash, key)\n\t\tif (_.isNumber(cached)) return Promise.resolve(cached)\n\t\treturn this.getLocalPromise(id)\n\t\t\t.then(() => this.getName(id))\n\t\t\t.then(n => `https://en.wikipedia.org/w/rest.php/v1/search/title?q=${n}`)\n\t\t\t.then(foreign)\n\t\t\t.then(wiki => {\n\t\t\t\tconst noResult = !wiki || !wiki.pages || !wiki.pages.filter\n\t\t\t\tif (noResult) return\n\t\t\t\tconst artistName = this.getName(id)\n\t\t\t\tconst matches = wiki.pages.filter(x => x.title.indexOf(artistName) > -1)\n\t\t\t\tconst possibles = matches.length ? matches : wiki.pages\n\t\t\t\tconst bands = possibles.filter(x => /band\\)$/i.test(x.title))\n\t\t\t\tconst musicians = possibles.filter(x => /musician\\)$/i.test(x.title))\n\t\t\t\tconst choice = [...bands, ...musicians, ...possibles][0]\n\n\t\t\t\t//console.log('getWikiId', possibles, bands, musicians)\n\t\t\t\t_.set(stash, key, choice.id)\n\t\t\t\treturn choice.id\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(\"getWikiPromise error\", this.fieldName, id, err)\n\t\t\t})\n\t},\n\tgetWikiPromise(id) {\n\t\tif (!id) {\n\t\t\treturn Promise.reject(\"No id for getWikiPromise \" + this.fieldName)\n\t\t}\n\t\tif (!_.isInteger(id)) {\n\t\t\tthrow new Error(\"Invalid getWikiPromise id\", id)\n\t\t}\n\t\t//console.log(this.fieldName, 'getWikiPromise start', id)\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//const get = this.get(id)\n\t\t//if(get) return Promise.resolve(get)\n\n\t\t//for each subject Type, collect detail information\n\t\tconst key = `${this.fieldName}[${id}].value`\n\t\tconst cached = _.get(stash, key)\n\t\tif (cached) return Promise.resolve(cached)\n\t\treturn this.getWikiId(id)\n\t\t\t.then(\n\t\t\t\tn =>\n\t\t\t\t\t`https://en.wikipedia.org/w/api.php?action=query&origin=*&prop=extracts&format=json&exintro=&pageids=${n}`\n\t\t\t)\n\t\t\t.then(foreign)\n\t\t\t.then(wiki => {\n\t\t\t\tconst wikiExtract = _.get(\n\t\t\t\t\t_.values(_.get(wiki, \"query.pages\", {})),\n\t\t\t\t\t\"[0].extract\",\n\t\t\t\t\t\"\"\n\t\t\t\t)\n\t\t\t\tconst wikiPage = parseInt(\n\t\t\t\t\t_.get(_.keys(_.get(wiki, \"query.pages\", {})), \"[0]\", \"0\"),\n\t\t\t\t\t10\n\t\t\t\t)\n\t\t\t\tconst wikiGraphStart = wikiExtract.indexOf(\"<p\")\n\t\t\t\tconst wikiGraphEnd = wikiExtract.lastIndexOf(\"</p>\") + 4\n\t\t\t\tconst wikiGraph = wikiExtract.slice(wikiGraphStart, wikiGraphEnd)\n\t\t\t\tconst wikiLink = `https://en.wikipedia.org/?curid=${wikiPage}`\n\t\t\t\t//console.log('getWikiPromise', wiki)\n\t\t\t\t_.set(stash, key, [wikiGraph, wikiLink])\n\t\t\t\treturn [wikiGraph, wikiLink]\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\t_.set(stash, key, [\"\", \"\"])\n\t\t\t\tconsole.error(\"getWikiPromise error\", this.fieldName, id, err)\n\t\t\t})\n\t},\n\tgetWiki(id) {\n\t\tconst key = `${this.fieldName}[${id}].value`\n\t\tconst cached = _.get(stash, key)\n\t\tif (!cached) this.getWikiPromise(id)\n\t\tif (!cached) return [\"\", \"\"]\n\t\treturn cached\n\t}\n}\n","// src/store/list/mixins/remote/advanceFlag.js\n\nimport _ from 'lodash'\n\nimport provide from '../../../loading/provide'\n\nexport default {\n\tadvance (data, id) { \n\t\tconst end = `/api/${this.fieldName}/advance/${id}`\n\t\t\t//console.log('advanceFlag ' + this.fieldName)\n\t\t\t//console.log(data)\n\t\t\treturn provide({msg: data}, this.fieldName, '', end, 'POST')\n\t\t\t\t.then(responseEl => this.backfillList([responseEl.data ? responseEl.data : responseEl], true))\n\t}\n}","// src/store/list/mixins/remote/batchCreate.js\n\nimport provide from '../../../loading/provide'\n\nexport default {\n\tbatchCreate (data) { \n\t\tconst end = `/api/${this.fieldName}/batchCreate/`\n\t\t\t//console.log('batchCreate ' + this.fieldName)\n\t\t\t//console.log(data)\n\t\t\treturn provide(data, this.fieldName, '', end)\n\t\t\t\t.then(() => this.remoteCheck(true))\n\t}  \n}","// src/store/list/mixins/remote/batchDelete.js\n\nimport provide from '../../../loading/provide'\n\nexport default {\n\tbatchDelete (data) { \n\t\tconst end = `/api/${this.fieldName}/batchDelete/`\n\t\t\t//console.log('batchDelete ' + this.fieldName)\n\t\t\t//console.log(data)\n\t\t\treturn provide(data, this.fieldName, '', end)\n\t\t\t\t.then(() => this.remoteCheck(true))\n\t}  \n}","// src/store/list/mixins/remote/batchUpdate.js\n\nimport provide from '../../../loading/provide'\n\nexport default {\n\tbatchUpdate (data) { \n\t\tconst end = `/api/${this.fieldName}/batchUpdate/`\n\t\t\t//console.log('batchUpdate ' + this.fieldName)\n\t\t\t//console.log(data)\n\t\t\treturn provide(data, this.fieldName, '', end)\n\t\t\t\t.then(() => this.remoteCheck(true))\n\t}  \n}","// src/store/list/mixins/remote/bucks.js\n\nimport _ from 'lodash'\n\nimport provide from '../../../loading/provide'\n\nvar lastUpdate = {}\nvar lastPromise = {}\nvar lastValue = {}\nconst cacheLife = 30 * 1000\nconst totalize = raw => {\n\tconst data = _.isArray(raw) ? raw : raw.data\n\treturn data.reduce((total, row) => total + row.bucks, 0)\n\n}\nvar buyInProgress = false\nexport default {\n\twouldend (opts = {}) { \n\t\tconst end = `/api/${this.fieldName}/access/wouldend`\n\t\t//console.log('bucks ' + end)\n\t\tconst key = end\n\t\tconst updateTimeElapsed = Date.now() - _.get(lastUpdate, key, 0)\n\t\tif((updateTimeElapsed < cacheLife) && _.get(lastPromise, key)) return _.get(lastPromise, key, (() => Promise.reject('cache inconsistent ' + key)())).then(p => opts.total ? totalize(p) : p)\n\t\tif(updateTimeElapsed < cacheLife) return new Promise((resolve, reject) => {\n\t\t    setTimeout(() => {\n\t\t        resolve(this.wouldend(opts))\n\t\t    }, 1 * 1000)\n\t\t})\n\t\t_.set(lastUpdate, key, Date.now())\n\n\t\tconst p = provide(undefined, this.fieldName, '', end, 'GET')\n\t\t\t.then(x => x.data * 1000)\n\t\t\t.then(c => {\n\t\t\t\tlastValue[key] = c\n\t\t\t\t\t//.reduce((total, entry) => total + entry.bucks, 0)\n\n\t\t\t\treturn c\n\n\t\t\t})\n\t\t\t//.then(c => {console.log('bucks response', c); return c})\n\t\t\n\t\t_.set(lastPromise, key, p)\n\t\treturn opts.total ? p.then(totalize) : p\n\t},\n\tbucks (opts = {}) { \n\t\tconst end = `/api/${this.fieldName}/bucks`\n\t\t//console.log('bucks ' + end)\n\t\tconst key = end\n\t\tconst updateTimeElapsed = Date.now() - _.get(lastUpdate, key, 0)\n\t\tif((updateTimeElapsed < cacheLife) && _.get(lastPromise, key)) return _.get(lastPromise, key, (() => Promise.reject('cache inconsistent ' + key)())).then(p => opts.total ? totalize(p) : p)\n\t\tif(updateTimeElapsed < cacheLife) return new Promise((resolve, reject) => {\n\t\t    setTimeout(() => {\n\t\t        resolve(this.bucks(opts))\n\t\t    }, 1 * 1000)\n\t\t})\n\t\t_.set(lastUpdate, key, Date.now())\n\n\t\tconst p = provide(undefined, this.fieldName, '', end, 'GET')\n\t\t\t.then(c => {\n\t\t\t\tlastValue[key] = _.get(c, 'data', [])\n\t\t\t\t\t.reduce((total, entry) => total + entry.bucks, 0)\n\n\t\t\t\treturn c\n\n\t\t\t})\n\t\t\t//.then(c => {console.log('bucks response', c); return c})\n\t\t\n\t\t_.set(lastPromise, key, p)\n\t\treturn opts.total ? p.then(totalize) : p\n\t},\n\tbuyBucks (data) {\n\t\tconsole.log('buyBucks', buyInProgress, data, this.fieldName)\n\t\tif(buyInProgress) return Promise.reject(false)\n\t\tbuyInProgress = true\n\t\tconst end = `/api/${this.fieldName}/bucks`\n\t\tconst checkout = provide(data, this.fieldName, '', end, 'POST')\n\t\t\t.then(x => console.log('bucksBought', x) || x)\n\t\t\t.finally(x => {\n\t\t\t\tbuyInProgress = false\n\t\t\t\tlastUpdate = {}\n\t\t\t\tlastPromise = {}\n\t\t\t\tlastValue = {}\n\t\t\t\treturn x\n\t\t\t})\n\t\treturn checkout\n\t},\n\tendCache (id) { \n\t\tif(!id) return Promise.resolve(true)\n\t\tconst end = `/api/${this.fieldName}/access/wouldend`\n\t\t//console.log('cost ' + end)\n\t\tconst key = end\n\t\tif(_.isUndefined(lastValue[key])) {\n\t\t\tthis.wouldend(id)\n\t\t}\n\t\treturn lastValue[key]\n\t},\n\tbucksCache (id) { \n\t\tif(!id) return Promise.resolve(true)\n\t\tconst end = `/api/${this.fieldName}/bucks`\n\t\t//console.log('cost ' + end)\n\t\tconst key = end\n\t\tif(_.isUndefined(lastValue[key])) {\n\t\t\tthis.bucks(id)\n\t\t}\n\t\treturn lastValue[key]\n\t},\n\taccessCache (id) { \n\t\tif(!id) return Promise.resolve(true)\n\t\tconst end = `/api/${this.fieldName}/bucks`\n\t\t//console.log('cost ' + end)\n\t\tconst key = end\n\t\tif(_.isUndefined(lastValue[key])) {\n\t\t\tthis.bucks(id)\n\t\t}\n\t\treturn lastValue[key]\n\t}\n}","/**\n * @summary SDK\n * @memberOf SDK\n */\nclass QualifierValue {\n    /**\n     *\n     * @param {QualifierValue | QualifierValue[] | any[] | string | number}qualifierValue\n     */\n    constructor(qualifierValue) {\n        this.values = [];\n        this.delimiter = ':'; // {value}{delimiter}{value}...\n        if (this.hasValue(qualifierValue)) {\n            this.addValue(qualifierValue);\n        }\n    }\n    /**\n     * @description Joins the provided values with the provided delimiter\n     */\n    toString() {\n        return this.values.join(this.delimiter);\n    }\n    /**\n     * @description Checks if the provided argument has a value\n     * @param {any} v\n     * @private\n     * @return {boolean}\n     */\n    hasValue(v) {\n        return typeof v !== 'undefined' && v !== null && v !== '';\n    }\n    /**\n     * @desc Adds a value for the this qualifier instance\n     * @param {any} value\n     * @return {this}\n     */\n    addValue(value) {\n        // Append value or array of values\n        if (Array.isArray(value)) {\n            this.values = this.values.concat(value);\n        }\n        else {\n            this.values.push(value);\n        }\n        // Remove falsy values\n        this.values = this.values.filter((v) => this.hasValue(v));\n        return this;\n    }\n    /**\n     * @description Sets the delimiter for this instance\n     * @param delimiter\n     */\n    setDelimiter(delimiter) {\n        this.delimiter = delimiter;\n        return this;\n    }\n}\nexport { QualifierValue };\n","import { QualifierValue } from './QualifierValue';\n/**\n * @summary SDK\n * @memberOf SDK\n */\nclass Qualifier {\n    constructor(key, qualifierValue) {\n        this.delimiter = '_'; // {key}{delimiter}{qualifierValue}\n        this.key = key;\n        if (qualifierValue instanceof QualifierValue) {\n            this.qualifierValue = qualifierValue;\n        }\n        else {\n            this.qualifierValue = new QualifierValue();\n            this.qualifierValue.addValue(qualifierValue);\n        }\n    }\n    toString() {\n        const { key, delimiter, qualifierValue } = this;\n        return `${key}${delimiter}${qualifierValue.toString()}`;\n    }\n    addValue(value) {\n        this.qualifierValue.addValue(value);\n        return this;\n    }\n}\nexport { Qualifier };\n","import { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @memberOf Qualifiers.Flag\n * @extends {SDK.Qualifier}\n * @description the FlagQualifier class\n */\nclass FlagQualifier extends Qualifier {\n    constructor(flagType, flagValue) {\n        let qualifierValue;\n        if (flagValue) {\n            qualifierValue = new QualifierValue([flagType, `${flagValue}`]).setDelimiter(':');\n        }\n        else {\n            qualifierValue = flagType;\n        }\n        super('fl', qualifierValue);\n    }\n}\nexport { FlagQualifier };\n","import { FlagQualifier } from \"../qualifiers/flag/FlagQualifier\";\nimport { Qualifier } from \"./qualifier/Qualifier\";\nimport { mapToSortedArray } from \"./utils/dataStructureUtils\";\n/**\n * @summary SDK\n * @memberOf SDK\n * @description Defines the category of transformation to perform.\n */\nclass Action {\n    constructor() {\n        // We're using map, to overwrite existing keys. for example:\n        // addParam(w_100).addQualifier(w_200) should result in w_200. and not w_100,w_200\n        this.qualifiers = new Map();\n        // Unlike regular qualifiers, there can be multiple flags in each url component /fl_1,fl_2/\n        // If the falgs are added to the qualifiers map, only a single flag could exist in a component (it's a map)\n        // So flags are stored separately until the very end because of that reason\n        this.flags = [];\n        this.delimiter = ','; // {qualifier}{delimiter}{qualifier} for example: `${'w_100'}${','}${'c_fill'}`\n        this.actionTag = ''; // A custom name tag to identify this action in the future\n    }\n    prepareQualifiers() { }\n    /**\n     * @description Returns the custom name tag that was given to this action\n     * @return {string}\n     */\n    getActionTag() {\n        return this.actionTag;\n    }\n    /**\n     * @description Sets the custom name tag for this action\n     * @return {this}\n     */\n    setActionTag(tag) {\n        this.actionTag = tag;\n        return this;\n    }\n    /**\n     * @description Calls toString() on all child qualifiers (implicitly by using .join()).\n     * @return {string}\n     */\n    toString() {\n        this.prepareQualifiers();\n        return mapToSortedArray(this.qualifiers, this.flags).join(this.delimiter);\n    }\n    /**\n     * @description Adds the parameter to the action.\n     * @param {SDK.Qualifier} qualifier\n     * @return {this}\n     */\n    addQualifier(qualifier) {\n        // if string, find the key and value\n        if (typeof qualifier === 'string') {\n            const [key, value] = qualifier.toLowerCase().split('_');\n            if (key === 'fl') {\n                // if string qualifier is a flag, store it in the flags arrays\n                this.flags.push(new FlagQualifier(value));\n            }\n            else {\n                // if the string qualifier is not a flag, create a new qualifier from it\n                this.qualifiers.set(key, new Qualifier(key, value));\n            }\n        }\n        else {\n            // if a qualifier object, insert to the qualifiers map\n            this.qualifiers.set(qualifier.key, qualifier);\n        }\n        return this;\n    }\n    /**\n     * @description Adds a flag to the current action.\n     * @param {Qualifiers.Flag} flag\n     * @return {this}\n     */\n    addFlag(flag) {\n        if (typeof flag === 'string') {\n            this.flags.push(new FlagQualifier(flag));\n        }\n        else {\n            this.flags.push(flag);\n        }\n        return this;\n    }\n    addValueToQualifier(qualifierKey, qualifierValue) {\n        this.qualifiers.get(qualifierKey).addValue(qualifierValue);\n        return this;\n    }\n}\nexport { Action };\n","/**\n * Sort a map by key\n * @private\n * @param map <string, any>\n * @Return array of map's values sorted by key\n */\nfunction mapToSortedArray(map, flags) {\n    const array = Array.from(map.entries());\n    // objects from the Array.from() method above are stored in array of arrays:\n    // [[qualifierKey, QualifierObj], [qualifierKey, QualifierObj]]\n    // Flags is an array of FlagQualifierObj\n    // We need to convert it to the same form: [flagQualifier] =>  ['fl', flagQualifier]\n    flags.forEach((flag) => {\n        array.push(['fl', flag]); // push ['fl', flagQualifier]\n    });\n    return array.sort().map((v) => v[1]);\n}\n/**\n * Checks if `value` is a string.\n * @private\n * @param {*} value The value to check.\n * @return {boolean} `true` if `value` is a string, else `false`.\n */\nfunction isString(value) {\n    return (typeof value === 'string' || value instanceof String);\n}\nexport { isString, mapToSortedArray };\n","import { Action } from \"../../../internal/Action\";\nimport { QualifierValue } from \"../../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../../internal/qualifier/Qualifier\";\n/**\n * @extend {SDK.Action}\n * @description A class for background transformations.\n */\nclass BackgroundColor extends Action {\n    constructor(color) {\n        super();\n        this.addQualifier(new Qualifier('b', new QualifierValue(color).setDelimiter('_')));\n    }\n}\nexport { BackgroundColor };\n","/**\n * Returns RGB or Color\n * @private\n * @param color\n */\nexport function prepareColor(color) {\n    if (color) {\n        return color.match(/^#/) ? `rgb:${color.substr(1)}` : color;\n    }\n    else {\n        return color;\n    }\n}\n","/**\n * @summary SDK\n * @memberOf SDK\n * @description Defines an action that's a string literal, no validations or manipulations are performed\n */\nclass RawAction {\n    constructor(raw) {\n        this.raw = raw;\n    }\n    toString() {\n        return this.raw;\n    }\n}\nexport { RawAction };\n","import { Action } from \"../internal/Action\";\nimport { BackgroundColor } from \"../actions/background/actions/BackgroundColor\";\nimport { prepareColor } from \"../internal/utils/prepareColor\";\nimport { FlagQualifier } from \"../qualifiers/flag/FlagQualifier\";\nimport { RawAction } from \"../internal/RawAction\";\n/**\n * @summary SDK\n * @description - Defines how to transform an asset\n * @memberOf SDK\n */\nclass Transformation {\n    constructor() {\n        this.actions = [];\n    }\n    /**\n     * @param {SDK.Action | string} action\n     * @return {this}\n     */\n    addAction(action) {\n        let actionToAdd;\n        if (typeof action === 'string') {\n            if (action.indexOf('/') >= 0) {\n                throw 'addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead';\n            }\n            else {\n                actionToAdd = new RawAction(action);\n            }\n        }\n        else {\n            actionToAdd = action;\n        }\n        this.actions.push(actionToAdd);\n        return this;\n    }\n    /**\n     * @description Allows the injection of a raw transformation as a string into the transformation, or a Transformation instance that was previously created\n     * @param {string | SDK.Transformation} tx\n     * @example\n     * import {Transformation} from \"@cloudinary/base\";\n     *\n     * const transformation = new Transformation();\n     * transformation.addTransformation('w_100/w_200/w_300');\n     * @return {this}\n     */\n    addTransformation(tx) {\n        if (tx instanceof Transformation) {\n            // Concat the new actions into the existing actions\n            this.actions = this.actions.concat(tx.actions);\n        }\n        else {\n            this.actions.push(new RawAction(tx));\n        }\n        return this;\n    }\n    /**\n     * @return {string}\n     */\n    toString() {\n        return this.actions\n            .map((action) => {\n            return action.toString();\n        })\n            .filter((a) => a)\n            .join('/');\n    }\n    /**\n     * @description Adds a border around the image.\n     * @param {Border} borderAction\n     * @return {this}\n     */\n    border(borderAction) {\n        return this.addAction(borderAction);\n    }\n    /**\n     * @description Adjusts the shape of the delivered image. </br>\n     * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#image_shape_changes_and_distortion_effects|Shape changes and distortion effects}\n     * @param {IReshape} reshapeAction\n     * @return {this}\n     */\n    reshape(reshapeAction) {\n        return this.addAction(reshapeAction);\n    }\n    /**\n     * @description Resize the asset using provided resize action\n     * @param {ResizeSimpleAction} resizeAction\n     * @return {this}\n     */\n    resize(resizeAction) {\n        return this.addAction(resizeAction);\n    }\n    /**\n     * @param {DeliveryAction} quality\n     * @return {this}\n     */\n    quality(quality) {\n        return this.addAction(quality);\n    }\n    /**\n     * @description Rounds the specified corners of an image.\n     * @param roundCornersAction\n     * @return {this}\n     */\n    roundCorners(roundCornersAction) {\n        return this.addAction(roundCornersAction);\n    }\n    /**\n     * @description Adds an overlay over the base image.\n     * @param {LayerAction} overlayAction\n     * @return {this}\n     */\n    overlay(overlayAction) {\n        return this.addAction(overlayAction);\n    }\n    /**\n     * @description Adds an underlay under the base image.\n     * @param {LayerAction} underlayAction\n     * @return {this}\n     */\n    underlay(underlayAction) {\n        underlayAction.setLayerType('u');\n        return this.addAction(underlayAction);\n    }\n    /**\n     * @description Defines an new user variable.\n     * @param {VariableAction} variableAction\n     * @return {this}\n     */\n    addVariable(variableAction) {\n        return this.addAction(variableAction);\n    }\n    /**\n     * @description Specifies a condition to be met before applying a transformation.\n     * @param {ConditionalAction} conditionAction\n     * @return {this}\n     */\n    conditional(conditionAction) {\n        return this.addAction(conditionAction);\n    }\n    /**\n     * @description Applies a filter or an effect on an asset.\n     * @param {SimpleEffectAction} effectAction\n     * @return {this}\n     */\n    effect(effectAction) {\n        return this.addAction(effectAction);\n    }\n    /**\n     * @description Applies adjustment effect on an asset.\n     * @param action\n     * @return {this}\n     */\n    adjust(action) {\n        return this.addAction(action);\n    }\n    /**\n     * @description Rotates the asset by the given angle.\n     * @param {RotateAction} rotateAction\n     * @return {this}\n     */\n    rotate(rotateAction) {\n        return this.addAction(rotateAction);\n    }\n    /**\n     * @description Applies a pre-defined named transformation of the given name.\n     * @param {NamedTransformation} namedTransformation\n     * @return {this}\n     */\n    namedTransformation(namedTransformation) {\n        return this.addAction(namedTransformation);\n    }\n    /**\n     * @description Applies delivery action.\n     * @param deliveryAction\n     * @return {this}\n     */\n    delivery(deliveryAction) {\n        return this.addAction(deliveryAction);\n    }\n    /**\n     * @description Sets the color of the background.\n     * @param {Qualifiers.Color} color\n     * @return {this}\n     */\n    backgroundColor(color) {\n        return this.addAction(new BackgroundColor(prepareColor(color)));\n    }\n    /**\n     * @description Adds a layer in a Photoshop document.\n     * @param action\n     * @return {this}\n     */\n    psdTools(action) {\n        return this.addAction(action);\n    }\n    /**\n     * @description Extracts an image or a page using an index, a range, or a name from a layered media asset.\n     * @param action\n     * @return {this}\n     */\n    extract(action) {\n        return this.addAction(action);\n    }\n    /**\n     * @description Adds a flag as a separate action.\n     * @param {Qualifiers.Flag | string} flagQualifier\n     * @return {this}\n     */\n    addFlag(flagQualifier) {\n        const action = new Action();\n        let flagToAdd = flagQualifier;\n        if (typeof flagQualifier === 'string') {\n            flagToAdd = new FlagQualifier(flagQualifier);\n        }\n        action.addQualifier(flagToAdd);\n        return this.addAction(action);\n    }\n    /**\n     * @description Inject a custom function into the image transformation pipeline.\n     * @return {this}\n     */\n    customFunction(customFunction) {\n        return this.addAction(customFunction);\n    }\n    /**\n     * Transcodes the video (or audio) to another format.\n     * @param {Action} action\n     * @return {this}\n     */\n    transcode(action) {\n        return this.addAction(action);\n    }\n    /**\n     * Applies the specified video edit action.\n     *\n     * @param {videoEditType} action\n     * @return {this}\n     */\n    videoEdit(action) {\n        return this.addAction(action);\n    }\n}\nexport { Transformation };\n","import { Transformation } from \"./Transformation\";\n/**\n * @summary SDK\n * @extends {SDK.Transformation}\n * @memberOf SDK\n */\nclass ImageTransformation extends Transformation {\n}\nexport { ImageTransformation };\n","/**\n *\n * @private\n * @param {any} a\n */\nfunction isObject(a) {\n    if (typeof a !== 'object' || a instanceof Array) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\nclass Config {\n    filterOutNonSupportedKeys(userProvidedConfig, validKeys) {\n        const obj = Object.create({});\n        if (isObject(userProvidedConfig)) {\n            Object.keys(userProvidedConfig).forEach((key) => {\n                if (validKeys.indexOf(key) >= 0) {\n                    obj[key] = userProvidedConfig[key];\n                }\n                else {\n                    console.warn('Warning - unsupported key provided to configuration: ', key);\n                }\n            });\n            return obj;\n        }\n        else {\n            return Object.create({});\n        }\n    }\n}\nexport default Config;\n","/**\n * This file is for internal constants only.\n * It is not intended for public use and is not part of the public API\n */\n/**\n * @private\n */\nexport const ALLOWED_URL_CONFIG = [\n    'cname',\n    'secureDistribution',\n    'privateCdn',\n    'signUrl',\n    'longUrlSignature',\n    'shorten',\n    'useRootPath',\n    'secure',\n    'forceVersion'\n];\n/**\n * @private\n */\nexport const ALLOWED_CLOUD_CONFIG = [\n    'cloudName',\n    'apiKey',\n    'apiSecret',\n    'authToken'\n];\n/**\n * @private\n */\nexport const INVALID_TYPE_MESSAGE = 'Invalid Type or key received';\nexport const CONDITIONAL_OPERATORS = {\n    \"=\": \"eq\",\n    \"!=\": \"ne\",\n    \"<\": \"lt\",\n    \">\": \"gt\",\n    \"<=\": \"lte\",\n    \">=\": \"gte\",\n    \"&&\": \"and\",\n    \"||\": \"or\",\n    \"*\": \"mul\",\n    \"/\": \"div\",\n    \"+\": \"add\",\n    \"-\": \"sub\",\n    \"^\": \"pow\",\n    \"initial_width\": \"iw\",\n    \"initial_height\": \"ih\",\n    \"width\": \"w\",\n    \"height\": \"h\",\n    \"aspect_ratio\": \"ar\",\n    \"initial_aspect_ratio\": \"iar\",\n    \"trimmed_aspect_ratio\": \"tar\",\n    \"current_page\": \"cp\",\n    \"face_count\": \"fc\",\n    \"page_count\": \"pc\",\n    \"current_public_id\": \"cpi\",\n    \"initial_density\": \"idn\",\n    \"page_names\": \"pgnames\"\n};\n","import Config from \"./BaseConfig\";\nimport { ALLOWED_URL_CONFIG } from \"../internal/internalConstants\";\nclass URLConfig extends Config {\n    /**\n     * @param {IURLConfig} userURLConfig\n     */\n    constructor(userURLConfig) {\n        super();\n        const urlConfig = this.filterOutNonSupportedKeys(userURLConfig, ALLOWED_URL_CONFIG);\n        Object.assign(this, {\n            secure: true\n        }, urlConfig);\n    }\n    extend(userURLConfig) {\n        const urlConfig = this.filterOutNonSupportedKeys(userURLConfig, ALLOWED_URL_CONFIG);\n        return new URLConfig(Object.assign({}, this, urlConfig));\n    }\n    /**\n     * @param {string} value Sets the cname\n     */\n    setCname(value) {\n        this.cname = value;\n        return this;\n    }\n    /**\n     * @param {string} value Sets the secureDistribution\n     */\n    setSecureDistribution(value) {\n        this.secureDistribution = value;\n        return this;\n    }\n    /**\n     * @param {boolean} value Sets whether to use a private CDN (Removes cloudName from URL)\n     */\n    setPrivateCdn(value) {\n        this.privateCdn = value;\n        return this;\n    }\n    /**\n     * @param value Sets whether or not to sign the URL\n     */\n    setSignUrl(value) {\n        this.signUrl = value;\n        return this;\n    }\n    /**\n     * @param value Sets whether or not to use a long signature\n     */\n    setLongUrlSignature(value) {\n        this.longUrlSignature = value;\n        return this;\n    }\n    /**\n     * @param value Sets whether or not to shorten the URL\n     */\n    setShorten(value) {\n        this.shorten = value;\n        return this;\n    }\n    /**\n     * @param value Sets whether or not to use a root path\n     */\n    setUseRootPath(value) {\n        this.useRootPath = value;\n        return this;\n    }\n    /**\n     * @param value Sets whether or not to deliver the asset through https\n     */\n    setSecure(value) {\n        this.secure = value;\n        return this;\n    }\n    /**\n     * @param value Sets whether to force a version in the URL\n     */\n    setForceVersion(value) {\n        this.forceVersion = value;\n        return this;\n    }\n}\nexport default URLConfig;\n","import { CloudinaryFile } from \"./CloudinaryFile\";\n/**\n * @desc Cloudinary Transformable interface, extended by any class that needs a Transformation Interface\n * @summary SDK\n * @memberOf SDK\n */\nclass CloudinaryTransformable extends CloudinaryFile {\n    constructor(publicID, cloudConfig, urlConfig, transformation) {\n        /* istanbul ignore next */\n        super(publicID, cloudConfig, urlConfig);\n        this.transformation = transformation;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Border} border\n     * @return {this}\n     */\n    border(border) {\n        this.transformation.border(border);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Reshape} reshape\n     * @return {this}\n     */\n    reshape(reshape) {\n        this.transformation.reshape(reshape);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Resize} resize\n     * @return {this}\n     */\n    resize(resize) {\n        this.transformation.resize(resize);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Delivery} quality\n     * @return {this}\n     */\n    quality(quality) {\n        this.transformation.quality(quality);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.RoundCorners} roundCorners\n     * @return {this}\n     */\n    roundCorners(roundCorners) {\n        this.transformation.roundCorners(roundCorners);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @return {this}\n     */\n    overlay(overlayAction) {\n        this.transformation.overlay(overlayAction);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Variable} variableAction\n     * @return {this}\n     */\n    addVariable(variableAction) {\n        this.transformation.addVariable(variableAction);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Condition} conditionalAction\n     * @return {this}\n     */\n    conditional(conditionalAction) {\n        this.transformation.conditional(conditionalAction);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.effect} effect\n     * @return {this}\n     */\n    effect(effect) {\n        this.transformation.effect(effect);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Adjust} action\n     * @return {this}\n     */\n    adjust(action) {\n        this.transformation.adjust(action);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Rotate} rotate\n     * @return {this}\n     */\n    rotate(rotate) {\n        this.transformation.rotate(rotate);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.NamedTransformation} namedTransformation\n     * @return {this}\n     */\n    namedTransformation(namedTransformation) {\n        this.transformation.namedTransformation(namedTransformation);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Delivery} deliveryAction\n     * @return {this}\n     */\n    delivery(deliveryAction) {\n        this.transformation.delivery(deliveryAction);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Qualifiers.color} color\n     * @return {this}\n     */\n    backgroundColor(color) {\n        this.transformation.backgroundColor(color);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.PSDTools} action\n     * @return {this}\n     */\n    psdTools(action) {\n        this.transformation.psdTools(action);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Extract} action\n     * @return {this}\n     */\n    extract(action) {\n        this.transformation.extract(action);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Qualifiers.Flag | string} flagQualifier\n     * @return {this}\n     */\n    addFlag(flagQualifier) {\n        this.transformation.addFlag(flagQualifier);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.CustomFunction} customFunction\n     * @return {this}\n     */\n    customFunction(customFunction) {\n        this.transformation.customFunction(customFunction);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {SDK.Action | string} action\n     * @return {this}\n     */\n    addAction(action) {\n        this.transformation.addAction(action);\n        return this;\n    }\n    /**\n     * @description Extend your transformation with another transformation\n     * @param { string | SDK.Transformation } tx\n     */\n    addTransformation(tx) {\n        this.transformation.addTransformation(tx);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @return {string}\n     */\n    toString() {\n        return this.transformation.toString();\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @return {this}\n     */\n    underlay(underlayAction) {\n        this.transformation.underlay(underlayAction);\n        return this;\n    }\n}\nexport { CloudinaryTransformable };\n","import { getUrlPrefix, getUrlVersion, handleAssetType, handleStorageType } from \"../internal/url/cloudinaryURL\";\nimport URLConfig from \"../config/URLConfig\";\n/**\n * @desc Cloudinary file without a transformation\n * @summary SDK\n * @memberOf SDK\n */\nclass CloudinaryFile {\n    constructor(publicID, cloudConfig = {}, urlConfig) {\n        this.setPublicID(publicID);\n        this.cloudName = cloudConfig.cloudName;\n        this.apiKey = cloudConfig.apiKey;\n        this.apiSecret = cloudConfig.apiSecret;\n        this.authToken = cloudConfig.authToken;\n        this.urlConfig = new URLConfig(urlConfig);\n    }\n    setPublicID(publicID) {\n        // PublicID must be a string!\n        this.publicID = publicID ? publicID.toString() : '';\n        return this;\n    }\n    setStorageType(newType) {\n        this.storageType = newType;\n        return this;\n    }\n    setSuffix(newSuffix) {\n        this.suffix = newSuffix;\n        return this;\n    }\n    setVersion(newVersion) {\n        if (newVersion) {\n            this.version = newVersion;\n        }\n        return this;\n    }\n    setAssetType(newType) {\n        if (newType) {\n            this.assetType = newType;\n        }\n        return this;\n    }\n    sign() {\n        return this;\n    }\n    toURL() {\n        return this.createCloudinaryURL();\n    }\n    /**\n     *\n     * @description Creates a fully qualified CloudinaryURL\n     * @return {string} CloudinaryURL\n     */\n    createCloudinaryURL(transformation) {\n        if (typeof this.cloudName === 'undefined') {\n            throw 'You must supply a cloudName in either toURL() or when initializing the asset';\n        }\n        const prefix = getUrlPrefix(this.cloudName, this.urlConfig);\n        const assetType = handleAssetType(this.assetType);\n        const storageType = handleStorageType(this.storageType);\n        const transformationString = transformation ? transformation.toString() : '';\n        const version = getUrlVersion(this.publicID, this.version, this.urlConfig.forceVersion);\n        const publicID = this.publicID\n            // Serialize the publicID, but leave slashes alone.\n            // we can't use serializeCloudinaryCharacters because that does both things (, and /)\n            .replace(/,/g, '%2C');\n        const url = [prefix, assetType, storageType, transformationString, version, publicID]\n            .filter((a) => a)\n            .join('/');\n        if (typeof transformation === 'string') {\n            return url;\n        }\n        else {\n            return encodeURI(url)\n                .replace(/\\?/g, '%3F')\n                .replace(/=/g, '%3D');\n        }\n    }\n}\nexport { CloudinaryFile };\n","import { isUrl } from \"./urlUtils/isUrl\";\nimport { isFileName } from \"./urlUtils/isFileName\";\nimport { publicIDContainsVersion } from \"./urlUtils/publicIDContainsVersion\";\n/**\n * Create the URL prefix for Cloudinary resources.\n * Available use cases\n * http://res.cloudinary.com/{cloudName}\n * https://res.cloudinary.com/{cloudName}\n * https://{cloudName}-res.cloudinary.com/\n * http://{domain}/${cloudName}\n * https://{domain}/${cloudName}\n * https://{domain}\n * @private\n *\n * @param {string} cloudName\n * @param {IURLConfig} urlConfig\n */\nfunction getUrlPrefix(cloudName, urlConfig) {\n    const secure = urlConfig.secure;\n    const privateCDN = urlConfig.privateCdn;\n    const cname = urlConfig.cname;\n    const secureDistribution = urlConfig.secureDistribution;\n    if (!secure && !cname) {\n        return `http://res.cloudinary.com/${cloudName}`;\n    }\n    if (secure && !secureDistribution && privateCDN) {\n        return `https://${cloudName}-res.cloudinary.com`;\n    }\n    if (secure && !secureDistribution) {\n        return `https://res.cloudinary.com/${cloudName}`;\n    }\n    if (secure && secureDistribution && privateCDN) {\n        return `https://${secureDistribution}`;\n    }\n    if (secure && secureDistribution) {\n        return `https://${secureDistribution}/${cloudName}`;\n    }\n    if (!secure && cname) {\n        return `http://${cname}/${cloudName}`;\n    }\n    else {\n        return 'ERROR';\n    }\n}\n/**\n * @private\n * @param assetType\n */\nfunction handleAssetType(assetType) {\n    //default to image\n    if (!assetType) {\n        return 'image';\n    }\n    return assetType;\n}\n/**\n * @private\n * @param storageType\n */\nfunction handleStorageType(storageType) {\n    //default to upload\n    if (!storageType) {\n        return 'upload';\n    }\n    return storageType;\n}\n/**\n *\n * @param {string} publicID\n * @param {number} version\n * @param {boolean} forceVersion\n */\nfunction getUrlVersion(publicID, version, forceVersion) {\n    const shouldForceVersion = forceVersion !== false;\n    if (version) {\n        return `v${version}`;\n    }\n    // In all these conditions we never force a version\n    if (publicIDContainsVersion(publicID) || isUrl(publicID) || isFileName(publicID)) {\n        return '';\n    }\n    return shouldForceVersion ? 'v1' : '';\n}\nexport { handleAssetType, getUrlVersion, handleStorageType, getUrlPrefix };\n","/**\n *\n * @param publicID\n */\nexport function publicIDContainsVersion(publicID) {\n    return publicID.match(/^v[0-9]+/);\n}\n","/**\n *\n * @param publicID\n */\nexport function isUrl(publicID) {\n    return publicID.match(/^https?:\\//);\n}\n","/**\n *\n * @param publicID\n */\nexport function isFileName(publicID) {\n    return publicID.indexOf('/') < 0;\n}\n","import { ImageTransformation } from \"../transformation/ImageTransformation\";\nimport { CloudinaryTransformable } from \"./CloudinaryTransformable\";\n/**\n * @desc Cloudinary image asset, with image-related transformations\n * @summary SDK\n * @memberOf SDK\n */\nclass CloudinaryImage extends CloudinaryTransformable {\n    constructor(publicID, cloudConfig, urlConfig) {\n        /* istanbul ignore next */\n        super(publicID, cloudConfig, urlConfig, new ImageTransformation());\n    }\n    toURL() {\n        return this.createCloudinaryURL(this.transformation);\n    }\n}\nexport { CloudinaryImage };\n","import { Transformation } from \"./Transformation\";\n/**\n * @summary SDK\n * @extends {SDK.Transformation}\n * @memberOf SDK\n */\nclass VideoTransformation extends Transformation {\n}\nexport { VideoTransformation };\n","import { CloudinaryTransformable } from \"./CloudinaryTransformable\";\nimport { VideoTransformation } from \"../transformation/VideoTransformation\";\n/**\n * @desc Cloudinary video asset, with video-related transformations\n * @summary SDK\n * @memberOf SDK\n */\nclass CloudinaryVideo extends CloudinaryTransformable {\n    constructor(publicID, cloudConfig, urlConfig) {\n        /* istanbul ignore next */\n        super(publicID, cloudConfig, urlConfig, new VideoTransformation());\n        this.assetType = 'video';\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.Transcode} action\n     * @return {this}\n     */\n    transcode(action) {\n        this.transformation.transcode(action);\n        return this;\n    }\n    /**\n     * @desc A proxy to {@link SDK.Transformation| Transformation} - Calls the same method contained in this.transformation\n     * @param {Actions.VideoEdit} action\n     * @return {this}\n     */\n    videoEdit(action) {\n        this.transformation.videoEdit(action);\n        return this;\n    }\n    toURL() {\n        return this.createCloudinaryURL(this.transformation);\n    }\n}\nexport { CloudinaryVideo };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @description A class to round one or more corners of an image or video.\n * @augments {Action}\n */\nclass RoundCornersAction extends Action {\n    constructor() {\n        super();\n    }\n    /**\n     * @param {number} a\n     * @param {number} b\n     * @param {number} c\n     * @param {number} d\n     * @return {RoundCornersAction}\n     */\n    radius(a, b, c, d) {\n        const qualifierValue = new QualifierValue();\n        // In case a === 0, check typeof\n        typeof a !== undefined && qualifierValue.addValue(a);\n        typeof b !== undefined && qualifierValue.addValue(b);\n        typeof c !== undefined && qualifierValue.addValue(c);\n        typeof d !== undefined && qualifierValue.addValue(d);\n        this.addQualifier(new Qualifier('r').addValue(qualifierValue));\n        return this;\n    }\n    /**\n     * @description Applies maximum rounding to the corners of the asset. An asset with square dimensions becomes a circle.\n     */\n    max() {\n        return this.addQualifier(new Qualifier('r', 'max'));\n    }\n}\nexport default RoundCornersAction;\n","import RoundCornersAction from \"./RoundCornersAction\";\n/**\n * @description Generates an asset with a circular crop using the 'max' radius value.\n * @memberOf Actions.RoundCorners\n * @return {RoundCornersAction}\n */\nfunction max() {\n    return new RoundCornersAction().max();\n}\nexport default max;\n","/**\n * @description Round one or more corners of an image or video.\n *\n * <b>Learn more:</b>\n * {@link https://cloudinary.com/documentation/image_transformations#rounding_corners_and_creating_circular_images | Rounded images}\n * {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#rounding_corners_and_creating_circular_videos | Rounded videos}\n * @memberOf Actions\n * @namespace RoundCorners\n */\nimport byRadius from './roundCorners/byRadius';\nimport max from './roundCorners/max';\nconst RoundCorners = { byRadius, max };\nexport { RoundCorners, byRadius, max };\n","import RoundCornersAction from \"./RoundCornersAction\";\n/**\n * @description Rounds the specified corners of an image or a video by specifying 1-4 pixel values as follows:\n *\n * * 1 value: All four corners are rounded equally according to the specified value.\n * * 2 values: 1st value => top-left & bottom-right. 2nd value => top-right & bottom-left.\n * * 3 values: 1st value => top-left. 2nd value => top-right & bottom-left. 3rd value => bottom-right.\n * * 4 values: Each corner specified separately, in clockwise order, starting with top-left.\n *\n * @param {number} a\n * @param {number} b\n * @param {number} c\n * @param {number} d\n * @memberOf Actions.RoundCorners\n * @return {RoundCornersAction}\n */\nfunction byRadius(a, b, c, d) {\n    return new RoundCornersAction().radius(a, b, c, d);\n}\nexport default byRadius;\n","/**\n * @description\n * Returns a string representing the float value of the input, if the input was a number-like.\n * Examples:\n * - '1.0' -> '1.0'\n * - 1 -> '1.0'\n * - '5' -> '5.0'\n * - 'auto' -> 'auto'\n * @private\n * @param {string|number} value\n * @return {string}\n */\nexport function toFloatAsString(value) {\n    // Turn the input to string\n    // The Function will return `returnValue` value if the input is not a number-like expression\n    const returnValue = value.toString();\n    // if the string contains letters, return the input\n    if (returnValue.match(/[A-Z]/gi)) {\n        return returnValue;\n    }\n    // If the leading digit is 0, and we have more than 1 digit, it's not a number.\n    // 00, 00000, 0x15 etc.\n    if (returnValue.length > 1 && returnValue[0] === '0') {\n        return returnValue;\n    }\n    // Final sanity check, parse the number as a float and check if its NaN\n    const isNumberLike = !isNaN(parseFloat(returnValue)) && returnValue.indexOf(':') === -1;\n    // If it's a number-like, but the input does not contain a decimal - add it.\n    if (isNumberLike && returnValue.indexOf('.') === -1) {\n        return `${returnValue}.0`;\n    }\n    else {\n        // If the input already contains a decimal, just return the value\n        return returnValue;\n    }\n}\n","import { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @memberOf Qualifiers.AspectRatio\n * @extends {SDK.QualifierValue}\n */\nexport class AspectRatioQualifierValue extends QualifierValue {\n}\n","/**\n * @description Defines flags that you can use to alter the default transformation behavior.\n * @namespace Flag\n * @memberOf Qualifiers\n */\nimport { FlagQualifier } from \"./flag/FlagQualifier\";\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Used when delivering a video file as an image format that supports animation, such as animated WebP.\n * Plays all frames rather than just delivering the first one as a static image.\n * Use this flag in addition to the flag or parameter controlling the delivery format,\n * for example f_auto or fl_awebp.\n\n * Note: When delivering a video in GIF format, it is delivered as an animated GIF by default and this flag is not\n * necessary. To deliver a single frame of a video in GIF format, use the page parameter.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction animated() {\n    return new FlagQualifier('animated');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description When converting animated images to WebP format, generate an animated WebP from all the frames in the\n * original\n * animated file instead of only from the first still frame.\n *\n * Note that animated WebPs are not supported in all browsers and versions.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction animatedWebP() {\n    return new FlagQualifier('awebp');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description When used together with automatic quality (q_auto):\n * allow switching to PNG8 encoding if the quality algorithm decides that it's more efficient.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction anyFormat() {\n    return new FlagQualifier('any_format');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description When converting animated images to PNG format, generates an animated PNG from all the frames in the\n * original\n * animated file instead of only from the first still frame.\n *\n * Note that animated PNGs are not supported in all browsers and versions.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction animatedPng() {\n    return new FlagQualifier('apng');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Trims pixels according to a clipping path included in the original image\n * (e.g., manually created using PhotoShop).\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction clip() {\n    return new FlagQualifier('clip');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Trims pixels according to a clipping path included in the original image (e.g., manually created\n * using PhotoShop)\n * using an evenodd clipping rule.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction clipEvenOdd() {\n    return new FlagQualifier('clip_evenodd');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Instructs Cloudinary to clear all image meta-data (IPTC, Exif and XMP) while applying an incoming\n * transformation.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction forceStrip() {\n    return new FlagQualifier('force_strip');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Allows custom flag\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction custom(value) {\n    return new FlagQualifier(value);\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Adds ICC color space metadata to the image, even when the original image doesn't contain any ICC data.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction forceIcc() {\n    return new FlagQualifier('force_icc');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Delivers the image as an attachment.\n * @param {string} filename The attachment's filename\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction attachment(filename) {\n    return new FlagQualifier('attachment', filename);\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Returns metadata of the input asset and of the transformed output asset in JSON instead of the\n * transformed image.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction getInfo() {\n    return new FlagQualifier('getinfo');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Deliver an HLS adaptive bitrate streaming file as HLS v3 instead of the default version (HLS v4).\n * Delivering in this format requires a private CDN configuration.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction hlsv3() {\n    return new FlagQualifier('hlsv3');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Sets the cache-control to immutable for the asset.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction immutableCache() {\n    return new FlagQualifier('immutable_cache');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description * Allows specifying only either width or height so the value of the second axis remains as is, and is not\n * recalculated to maintain the aspect ratio of the original image.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction ignoreInitialAspectRatio() {\n    return new FlagQualifier('ignore_aspect_ratio');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Keeps the copyright related fields when stripping meta-data.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction keepAttribution() {\n    return new FlagQualifier('keep_attribution');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * Keep the Display Aspect Ratio metadata of the uploaded video (if its different from the current video\n * dimensions).\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction keepDar() {\n    return new FlagQualifier('keep_dar');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Keeps all meta-data.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction keepIptc() {\n    return new FlagQualifier('keep_iptc');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Applies all chained transformations, until a transformation component that includes this flag, on the last added\n * overlay or underlay instead of applying on the containing image.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction layerApply() {\n    return new FlagQualifier('layer_apply');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Automatically use lossy compression when delivering animated GIF files.\n *\n * This flag can also be used as a conditional flag for delivering PNG files: it tells Cloudinary to deliver the\n * image in PNG format (as requested) unless there is no transparency channel - in which case deliver in JPEG\n * format.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction lossy() {\n    return new FlagQualifier('lossy');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Convert the audio channel to mono\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction mono() {\n    return new FlagQualifier('mono');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Used internally by Position within an Overlay, this flag will tile the overlay across your image.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/transformation_reference#fl_no_overflow | Overflow in overlays}\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction noOverflow() {\n    return new FlagQualifier('no_overflow');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Don't stream a video that is currently being generated on the fly. Wait until the video is fully generated.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction noStream() {\n    return new FlagQualifier('no_stream');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Generate PNG images in the png24 format.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction png24() {\n    return new FlagQualifier('png24');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Generate PNG images in the png32 format.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction png32() {\n    return new FlagQualifier('png32');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Generate PNG images in the PNG8 format.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction png8() {\n    return new FlagQualifier('png8');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description When used with automatic fetch_format (f_auto): ensures that images with a transparency channel will be\n * delivered in PNG format.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction preserveTransparency() {\n    return new FlagQualifier('preserve_transparency');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Generates a JPG image using the progressive (interlaced) JPG format.\n *\n * This format allows the browser to quickly show a low-quality rendering of the image until the full-quality\n * image is loaded.\n *\n * @param {string} mode The mode to determine a specific progressive outcome as follows:\n * * semi - A smart optimization of the decoding time, compression level and progressive rendering\n *          (less iterations). This is the default mode when using q_auto.\n * * steep - Delivers a preview very quickly, and in a single later phase improves the image to\n *           the required resolution.\n * * none  - Use this to deliver a non-progressive image. This is the default mode when setting\n *           a specific value for quality.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction progressive(mode) {\n    return new FlagQualifier('progressive', mode);\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Modifies percentage-based width & height parameters of overlays and underlays (e.g., 1.0) to be relative to the overlaid region\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction regionRelative() {\n    return new FlagQualifier('region_relative');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Reduces the image to one flat pixelated layer (as opposed to the default vector based graphic) in\n * order to enable\n * PDF resizing and overlay manipulations.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction rasterize() {\n    return new FlagQualifier('rasterize');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Modifies percentage-based width & height parameters of overlays and underlays (e.g., 1.0) to be relative to the containing image instead of the added layer.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction relative() {\n    return new FlagQualifier('relative');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Instructs Cloudinary to run a sanitizer on the image (relevant only for the SVG format).\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction sanitize() {\n    return new FlagQualifier('sanitize');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Splices the video stipulated as an overlay on to the end of the container video instead of adding it as an\n * overlay.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction splice() {\n    return new FlagQualifier('splice');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Instructs Cloudinary to clear all ICC color profile data included with the image.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction stripProfile() {\n    return new FlagQualifier('strip_profile');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description If the requested video transformation has already been generated, this flag works identically to\n * Flag::attachment.\n *\n *  However, if the video transformation is being requested for the first time, this flag causes the video download\n * to begin immediately, streaming it as a fragmented video file.\n *\n * In contrast, if the regular fl_attachment flag is used when a user requests a new video transformation,\n * the download will begin only after the complete transformed video has been generated.\n *\n * Most standard video players successfully play fragmented video files without issue.\n *\n * @param {string} filename The attachment's filename\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction streamingAttachment(filename) {\n    return new FlagQualifier('streaming_attachment', filename);\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Generates TIFF images using LZW compression and in the TIFF8 format.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction tiff8Lzw() {\n    return new FlagQualifier('tiff8_lzw');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Used internally by Position within an Overlay, this flag will tile the overlay across your image.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#tiling_overlays | Tiling overlay}\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction tiled() {\n    return new FlagQualifier('tiled');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Truncate (trim) a video file based on the start time defined in the metadata (relevant only where the metadata\n * includes a directive to play only a section of the video).\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction truncateTS() {\n    return new FlagQualifier('truncate_ts');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description Create a waveform image (in the format specified by the file extension) from the audio or video file.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction waveform() {\n    return new FlagQualifier('waveform');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Flag\n * @description A qualifier that ensures that an alpha channel is not applied to a TIFF image if it is a mask channel.\n * @return {Qualifiers.Flag.FlagQualifier}\n */\nfunction ignoreMaskChannels() {\n    return new FlagQualifier('ignore_mask_channels');\n}\nconst Flag = {\n    animated, anyFormat, animatedPng, animatedWebP,\n    clipEvenOdd, lossy, preserveTransparency, png8, png24, png32, progressive, rasterize,\n    sanitize, stripProfile, tiff8Lzw, attachment, forceIcc, forceStrip, getInfo, immutableCache,\n    keepAttribution, keepIptc, custom, streamingAttachment, hlsv3, keepDar, noStream, mono,\n    layerApply, relative, regionRelative, splice, truncateTS, waveform, ignoreInitialAspectRatio, clip,\n    tiled, noOverflow, ignoreMaskChannels\n};\nexport { Flag, animated, anyFormat, animatedPng, animatedWebP, clipEvenOdd, lossy, preserveTransparency, png8, png24, png32, progressive, rasterize, sanitize, stripProfile, tiff8Lzw, attachment, forceIcc, forceStrip, getInfo, immutableCache, keepAttribution, keepIptc, custom, streamingAttachment, hlsv3, keepDar, noStream, mono, layerApply, relative, regionRelative, splice, truncateTS, waveform, ignoreInitialAspectRatio, clip, tiled, noOverflow, ignoreMaskChannels };\n","import { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { Action } from \"../../internal/Action\";\nimport { toFloatAsString } from \"../../internal/utils/toFloatAsString\";\nimport { AspectRatioQualifierValue } from \"../../qualifiers/aspectRatio/AspectRatioQualifierValue\";\nimport { regionRelative, relative } from \"../../qualifiers/flag\";\nimport { FlagQualifier } from \"../../qualifiers/flag/FlagQualifier\";\n/**\n * @description Defines a resize using width and height.\n * @extend {SDK.Action}\n */\nclass ResizeSimpleAction extends Action {\n    /**\n     * @param {string} cropType\n     * @param {number | string} cropWidth The required width of a transformed asset.\n     * @param {number | string} cropHeight The required height of a transformed asset.\n     */\n    constructor(cropType, cropWidth, cropHeight) {\n        super();\n        if (cropWidth) {\n            this.addQualifier(new Qualifier('w', cropWidth));\n        }\n        if (cropHeight) {\n            this.addQualifier(new Qualifier('h', cropHeight));\n        }\n        this.addQualifier(new Qualifier('c', cropType));\n    }\n    /**\n     * @description Sets the height of the resize\n     * @param {string | number} x The height in pixels (if an integer is specified) or as a percentage (if a float is specified).\n     */\n    height(x) {\n        return this.addQualifier(new Qualifier('h', x));\n    }\n    /**\n     * @description Sets the width of the resize\n     * @param {string | number} x The width in pixels (if an integer is specified) or as a percentage (if a float is specified).\n     */\n    width(x) {\n        return this.addQualifier(new Qualifier('w', x));\n    }\n    /**\n     * @description Sets the aspect ratio of the asset.\n     * For a list of supported types see {@link Qualifiers.AspectRatio |\n      * AspectRatio values}\n     * @param {number|string} ratio The new aspect ratio, specified as a percentage or ratio.\n     * @return {this}\n     */\n    aspectRatio(ratio) {\n        // toFloatAsString is used to ensure 1 turns into 1.0\n        if (ratio instanceof AspectRatioQualifierValue) {\n            return this.addQualifier(new Qualifier('ar', ratio));\n        }\n        if (typeof ratio === 'number' || typeof ratio === 'string') {\n            return this.addQualifier(new Qualifier('ar', toFloatAsString(ratio)));\n        }\n        if (ratio instanceof FlagQualifier) {\n            return this.addFlag(ratio);\n        }\n    }\n    /**\n     * @description Modifies percentage-based width & height parameters of overlays and underlays (e.g., 1.0) to be relative to the containing image instead of the added layer.\n     * @return {this}\n     */\n    relative() {\n        return this.addFlag(relative());\n    }\n    /**\n     * @description Modifies percentage-based width & height parameters of overlays and underlays (e.g., 1.0) to be relative to the overlaid region\n     * @return {this}\n     */\n    regionRelative() {\n        return this.addFlag(regionRelative());\n    }\n}\nexport default ResizeSimpleAction;\n","import ResizeSimpleAction from \"./ResizeSimpleAction\";\n/**\n * @description Defines an advanced resize.\n * @augments ResizeSimpleAction\n */\nclass ResizeAdvancedAction extends ResizeSimpleAction {\n    /**\n     * @description Which part of the original image to include.\n     * @param {Qualifiers.Gravity} gravity\n     */\n    gravity(gravity) {\n        return this.addQualifier(gravity);\n    }\n}\nexport default ResizeAdvancedAction;\n","import { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport ResizeAdvancedAction from \"./ResizeAdvancedAction\";\n/**\n * @description Defines an advanced resize with padding.\n * @augments ResizeAdvancedAction\n */\nclass ResizePadAction extends ResizeAdvancedAction {\n    /**\n     * @description Sets the background.\n     * @param {Qualifiers.Background} backgroundQualifier Defines the background color to use instead of\n     * transparent background areas or when resizing with padding.\n     */\n    background(backgroundQualifier) {\n        return this.addQualifier(backgroundQualifier);\n    }\n    gravity(direction) {\n        return this.addQualifier(direction);\n    }\n    /**\n     * @description Horizontal position for custom-coordinates based padding.\n     * @param {number} x The x position.\n     */\n    offsetX(x) {\n        return this.addQualifier(new Qualifier('x', x));\n    }\n    /**\n     * @description Vertical position for custom-coordinates based padding\n     * @param {number} y The y position.\n     */\n    offsetY(y) {\n        return this.addQualifier(new Qualifier('y', y));\n    }\n}\nexport default ResizePadAction;\n","import { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @memberOf Gravity.GravityQualifier\n * @extends {SDK.Qualifier}\n */\nclass GravityQualifier extends Qualifier {\n    /**\n     * @param value, an array containing (GravityObject | AutoGravity | string) or a string;\n     */\n    constructor(value) {\n        super('g', new QualifierValue(value));\n    }\n}\nexport { GravityQualifier };\n","import ResizeSimpleAction from \"./ResizeSimpleAction\";\nimport { GravityQualifier } from \"../../qualifiers/gravity/GravityQualifier\";\n/**\n * @description Defines a scaling resize action.\n * @augments ResizeSimpleAction\n */\nclass ScaleAction extends ResizeSimpleAction {\n    /**\n     * @description Changes the aspect ratio of an image while retaining all important content and avoiding unnatural\n     * distortions.\n     * @return {this}\n     */\n    liquidRescaling() {\n        return this.addQualifier(new GravityQualifier('liquid'));\n    }\n}\nexport { ScaleAction };\n","import { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport ResizeAdvancedAction from \"./ResizeAdvancedAction\";\n/**\n * @description Defines a thumbnail resize action.\n * @augments ResizeAdvancedAction\n */\nclass ThumbResizeAction extends ResizeAdvancedAction {\n    /**\n     * @description Controls how much of the original image surrounding the face to keep when using either the 'crop' or 'thumb' cropping modes with face detection.\n     * @param {number | string} z The zoom factor. (Default: 1.0)\n     */\n    zoom(z) {\n        return this.addQualifier(new Qualifier('z', z));\n    }\n}\nexport { ThumbResizeAction };\n","import { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport ResizeAdvancedAction from \"./ResizeAdvancedAction\";\n/**\n * @description Defines how to crop an asset\n * @augments ResizeAdvancedAction\n */\nclass ResizeCropAction extends ResizeAdvancedAction {\n    /**\n     * @description Horizontal position for custom-coordinates based cropping.\n     * @param {number} x The x position.\n     */\n    x(x) {\n        return this.addQualifier(new Qualifier('x', x));\n    }\n    /**\n     * @description Vertical position for custom-coordinates based cropping\n     * @param {number} y The y position.\n     */\n    y(y) {\n        return this.addQualifier(new Qualifier('y', y));\n    }\n}\nexport default ResizeCropAction;\n","import { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport ResizeAdvancedAction from \"./ResizeAdvancedAction\";\n/**\n * @description Defines how to crop-fill an asset\n * @extends {ResizeAdvancedAction}\n */\nclass ResizeFillAction extends ResizeAdvancedAction {\n    /**\n     * @description Absolute X position when used with Gravity.xyCenter {@link Qualifiers.Gravity.GravityQualifier}}\n     * @param {number} x The x position.\n     */\n    x(x) {\n        return this.addQualifier(new Qualifier('x', x));\n    }\n    /**\n     * @description Absolute Y position when used with Gravity.xyCenter {@link Qualifiers.Gravity.GravityQualifier}}\n     * @param {number} y The y position.\n     */\n    y(y) {\n        return this.addQualifier(new Qualifier('y', y));\n    }\n}\nexport { ResizeFillAction };\n","/**\n * @description Determines how to crop, scale, and/or zoom the delivered asset according to the requested dimensions.\n * @memberOf Actions\n * @namespace Resize\n */\nimport ResizePadAction from \"./resize/ResizePadAction\";\nimport ResizeSimpleAction from \"./resize/ResizeSimpleAction\";\nimport { ScaleAction } from \"./resize/ScaleAction\";\nimport { ThumbResizeAction } from \"./resize/ThumbnailAction\";\nimport ResizeCropAction from \"./resize/ResizeCropAction\";\nimport { ResizeFillAction } from \"./resize/ResizeFillAction\";\n/**\n * @summary action\n * @description\n * Changes the size of the image exactly to the given width and height without necessarily retaining the original aspect ratio:<br/>\n * all original image parts are visible but might be stretched or shrunk.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ScaleAction}\n */\nfunction scale(width, height) {\n    return new ScaleAction('scale', width, height);\n}\n/**\n * @summary action\n * @description\n * Scales your image based on automatically calculated areas of interest within each specific photo.\n *\n * For details, see the Imagga Crop and Scale {@link  https://cloudinary.com/documentation/imagga_crop_and_scale_addon#smartly_scale_images |  add-on documentation}.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizeSimpleAction}\n */\nfunction imaggaScale(width, height) {\n    return new ResizeSimpleAction('imagga_scale', width, height);\n}\n/**\n * @summary action\n * @description\n * Crops your image based on automatically calculated areas of interest within each specific photo.\n *\n * For details, see the Imagga Crop and Scale {@link  https://cloudinary.com/documentation/imagga_crop_and_scale_addon#smartly_crop_images |  add-on documentation}.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizeSimpleAction}\n */\nfunction imaggaCrop(width, height) {\n    return new ResizeSimpleAction('imagga_crop', width, height);\n}\n/**\n * @summary action\n * @description Extracts a region of the given width and height out of the original image.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizeCropAction}\n */\nfunction crop(width, height) {\n    return new ResizeCropAction('crop', width, height);\n}\n/**\n * @summary action\n * @description\n * Creates an image with the exact given width and height without distorting the image.<br/>\n * This option first scales up or down as much as needed to at least fill both of the given dimensions.<br/><br/>\n * If the requested aspect ratio is different than the original, cropping will occur on the dimension that exceeds the requested size after scaling.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizeFillAction}\n */\nfunction fill(width, height) {\n    return new ResizeFillAction('fill', width, height);\n}\n/**\n * @summary action\n * @description\n * The image is resized so that it takes up as much space as possible within a bounding box defined by the given width and height parameters.</br>\n * The original aspect ratio is retained and all of the original image is visible.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizeSimpleAction}\n */\nfunction fit(width, height) {\n    return new ResizeSimpleAction('fit', width, height);\n}\n/**\n * @summary action\n * @description\n * Resizes the asset to fill the given width and height while retaining the original aspect ratio.\n *\n * If the proportions of the original asset do not match the given width and height, padding is added to the asset\n * to reach the required size.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizePadAction}\n */\nfunction pad(width, height) {\n    return new ResizePadAction('pad', width, height);\n}\n/**\n * @summary action\n * @description\n * Creates an asset with the exact given width and height without distorting the asset, but only if the original\n * asset is larger than the specified resolution limits.\n *\n * The asset is scaled down to fill the given width and height without distorting the asset, and then the dimension\n * that exceeds the request is cropped. If the original dimensions are both smaller than the requested size, it is\n * not resized at all.\n *\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizeFillAction}\n */\nfunction limitFill(width, height) {\n    return new ResizeFillAction('lfill', width, height);\n}\n/**\n * @summary action\n * @description\n * Resizes the asset so that it takes up as much space as possible within a bounding box defined by the given\n * width and height parameters, but only if the original asset is larger than the given limit (width and height).\n *\n * The asset is scaled down, the original aspect ratio is retained and all of the original asset is visible.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizeSimpleAction}\n */\nfunction limitFit(width, height) {\n    return new ResizeSimpleAction('limit', width, height);\n}\n/**\n * @summary action\n * @description\n * Resizes the asset to fill the given width and height while retaining the original aspect ratio, but only if the\n * original asset is smaller than the given minimum (width and height).\n *\n * The asset is scaled up.  If the proportions of the original asset do not match the given width and height,\n * padding is added to the asset to reach the required size.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizePadAction}\n */\nfunction minimumPad(width, height) {\n    return new ResizePadAction('mpad', width, height);\n}\n/**\n * @summary action\n * @description\n * Resizes the asset so that it takes up as much space as possible within a bounding box defined by the given\n * width and height parameters, but only if the original asset is smaller than the given minimum (width and height).\n *\n * The asset is scaled up, the original aspect ratio is retained and all of the original asset is visible.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizeSimpleAction}\n */\nfunction minimumFit(width, height) {\n    return new ResizeSimpleAction('mfit', width, height);\n}\n/**\n * @summary action\n * @memberOf Actions.Resize\n * @description\n * Tries to prevent a \"bad crop\" by first attempting to use the fill mode, but adding padding if it is determined\n * that more of the original image needs to be included in the final image.\n *\n * Especially useful if the aspect ratio of the delivered image is considerably different from the original's\n * aspect ratio.\n *\n * Only supported in conjunction with Automatic cropping.\n *\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizePadAction}\n */\nfunction fillPad(width, height) {\n    return new ResizePadAction('fill_pad', width, height);\n}\n/**\n * @summary action\n * @description\n * The thumb cropping mode is specifically used for creating image thumbnails from either face or custom coordinates,</br>\n * and must always be accompanied by the gravity parameter set to one of the face detection or custom values.\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ThumbResizeAction}\n */\nfunction thumbnail(width, height) {\n    return new ThumbResizeAction('thumb', width, height);\n}\n/**\n * @summary action\n * @description\n * Resizes the asset to fill the given width and height while retaining the original aspect ratio, but only if the\n * original asset is larger than the given limit (width and height).\n *\n * The asset is scaled down.  If the proportions of the original asset do not match the given width and height,\n * padding is added to the asset to reach the required size.\n *\n * @memberOf Actions.Resize\n * @param {number|string} width The required width of a transformed asset.\n * @param {number|string} height The required height of a transformed asset.\n * @return {ResizePadAction}\n */\nfunction limitPad(width, height) {\n    return new ResizePadAction('lpad', width, height);\n}\nconst Resize = {\n    imaggaScale,\n    imaggaCrop,\n    crop,\n    fill,\n    scale,\n    minimumPad,\n    fit,\n    pad,\n    limitFit,\n    thumbnail,\n    limitFill,\n    minimumFit,\n    limitPad,\n    fillPad\n};\nexport { Resize, imaggaScale, imaggaCrop, crop, fill, scale, minimumPad, fit, pad, limitFit, thumbnail, limitFill, minimumFit, limitPad, fillPad };\n","import { Action } from \"../internal/Action\";\nimport { QualifierValue } from \"../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../internal/qualifier/Qualifier\";\nimport { prepareColor } from \"../internal/utils/prepareColor\";\n/**\n * @summary action\n * @description Adds a solid border around an image or video.\n *\n *  <b>Learn more:</b>\n * {@link https://cloudinary.com/documentation/image_transformations#adding_image_borders | Adding image borders}\n * @memberOf Actions\n * @namespace Border\n */\nclass Border extends Action {\n    /**\n     * @description Adds a border of the specified type around an image or video.\n     * @param {'solid'} borderType The type of border (currently only 'solid' is supported). Use values in {@link Qualifiers.Border|Border Values}.\n     * @param {string} color The color of the border.\n     * @param {number} borderWidth The width in pixels.\n     */\n    constructor(borderType, color, borderWidth) {\n        super();\n        this.borderType = borderType;\n        this.borderColor = prepareColor(color);\n        this.borderWidth = borderWidth;\n    }\n    /**\n     * @summary action\n     * @memberOf Actions.Border\n     * @description Sets the style of the border.\n     * @return {Border}\n     */\n    static solid(width, color) {\n        return new Border('solid', color, width);\n    }\n    /**\n     * @description Sets the width of the border\n     * @param {number} borderWidth The width in pixels.\n     */\n    width(borderWidth) {\n        this.borderWidth = borderWidth;\n        return this;\n    }\n    /**\n     * @description Sets the color of the border.\n     * @param {string} borderColor The color of the border.\n     */\n    color(borderColor) {\n        this.borderColor = prepareColor(borderColor);\n        return this;\n    }\n    /**\n     * @description Rounds the specified corners of an image.\n     * @param {RoundCornersAction} roundCorners\n     * @return {this}\n     */\n    roundCorners(roundCorners) {\n        this._roundCorners = roundCorners;\n        return this;\n    }\n    prepareQualifiers() {\n        const qualifierValue = new QualifierValue([`${this.borderWidth}px`, this.borderType, `${this.borderColor}`]).setDelimiter('_');\n        this.addQualifier(new Qualifier('bo', qualifierValue));\n        if (this._roundCorners) {\n            this.addQualifier(this._roundCorners.qualifiers.get('r'));\n        }\n    }\n}\nconst { solid } = Border;\nexport { Border, solid };\n","import { Qualifier } from \"../../../internal/qualifier/Qualifier\";\nimport { Action } from \"../../../internal/Action\";\n/**\n * @description The Action class of the blur Builder.\n * @memberOf Actions.Effect\n */\nclass BlurAction extends Action {\n    constructor(strength) {\n        super();\n        this._strength = strength;\n    }\n    /**\n     * @description Specifies the region to blur.\n     * @param {NamedRegion} blurRegion\n     */\n    region(blurRegion) {\n        this._region = blurRegion;\n        return this;\n    }\n    /**\n     * @description Sets the strength of the blur effect.\n     * @param {number | string} strength\n     */\n    strength(strength) {\n        this._strength = strength;\n        return this;\n    }\n    prepareQualifiers() {\n        /*\n         * Blur with region is a unique object in this codebase.\n         * On top of Blur being an Action with Qualifiers,\n         * it also accepts a Qualifier called Region.\n         *\n         * This Qualifier is in itself composite of qualifiers (such as height, or width).\n         * The existence of Region changes the output of Blur in non traditional ways\n         * which forced this relatively ad-hoc implementation.\n         *\n         * Aside from all of that, all of the Qualifiers in the component should be alphabetized\n         * This happens naturally in the Action class,\n         * however since we're dealing with two levels of qualifiers (Blur and Region),\n         * these need to be merged.\n         *\n         * This function will merge the Region qualifiers with Blur\n         * and add all needed implicit qualifiers (like g_ocr_text).\n         * We're not using the full Gravity Qualifier here to prevent the code import for such a simplistic case\n         */\n        const str = this._strength ? `:${this._strength}` : '';\n        if ('_region' in this) {\n            const qualifiers = this._region.qualifiers;\n            // Copy qualifiers from the region \"action\" to the blur action\n            qualifiers.forEach((q) => this.addQualifier(q));\n            if (this._region.regionType === 'named') {\n                this.addQualifier(new Qualifier('e', `blur_region${str}`));\n            }\n            if (this._region.regionType === 'ocr_text') {\n                this.addQualifier(new Qualifier('e', `blur_region${str}`));\n                this.addQualifier(new Qualifier('g', `ocr_text`));\n            }\n            if (this._region.regionType === 'faces') {\n                this.addQualifier(new Qualifier('e', `blur_faces${str}`));\n            }\n        }\n        else {\n            this.addQualifier(new Qualifier('e', `blur${str}`));\n        }\n    }\n}\nexport { BlurAction };\n","import { Action } from \"../../../internal/Action\";\nimport { QualifierValue } from \"../../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../../internal/qualifier/Qualifier\";\n/**\n * @extends {SDK.Action}\n * @memberOf Actions.Effect\n * @description A class that defines a simple effect of the type e_{effectName}\n */\nclass SimpleEffectAction extends Action {\n    constructor(effectType, level) {\n        super();\n        const qualifierEffect = this.createEffectQualifier(effectType, level);\n        this.addQualifier(qualifierEffect);\n    }\n    createEffectQualifier(effectType, level) {\n        let qualifierValue;\n        if (level) {\n            qualifierValue = new QualifierValue([effectType, `${level}`]).setDelimiter(':');\n        }\n        else {\n            qualifierValue = new QualifierValue(effectType);\n        }\n        return new Qualifier('e', qualifierValue);\n    }\n}\nexport { SimpleEffectAction };\n","import { SimpleEffectAction } from \"./SimpleEffectAction\";\n/**\n * @extends {Actions.Effect.SimpleEffectAction}\n * @memberOf Actions.Effect\n * @description\n * A base class for effects with a level, the extending class needs to implement a method that calls setLevel()\n */\nclass LeveledEffectAction extends SimpleEffectAction {\n    constructor(effectType, level) {\n        super(effectType, level);\n        this.effectType = effectType;\n    }\n    /**\n     *\n     * @description Sets the effect level for the action\n     * @param {string | number} level - The strength of the effect\n     * @protected\n     */\n    setLevel(level) {\n        const qualifierEffect = this.createEffectQualifier(this.effectType, level);\n        this.addQualifier(qualifierEffect);\n        return this;\n    }\n}\nexport { LeveledEffectAction };\n","import { LeveledEffectAction } from \"../EffectActions/LeveledEffectAction\";\n/**\n * @augments LeveledEffectAction\n * @description Changes the speed of the video playback using the rate() method\n */\nclass AccelerationEffectAction extends LeveledEffectAction {\n    rate(value) {\n        return this.setLevel(value);\n    }\n}\nexport { AccelerationEffectAction };\n","import { LeveledEffectAction } from \"../EffectActions/LeveledEffectAction\";\n/**\n * @augments LeveledEffectAction\n * @description Delivers a video or animated GIF that contains additional loops of the video/GIF.\n */\nclass LoopEffectAction extends LeveledEffectAction {\n    additionalIterations(value) {\n        return this.setLevel(value);\n    }\n}\nexport { LoopEffectAction };\n","import { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Action } from \"../../internal/Action\";\n/**\n * @extend {SDK.Action}\n * @description Applies a cartoon effect to an image.\n */\nclass CartoonifyEffect extends Action {\n    constructor(effectName, strength) {\n        // We don't pass level in the constructor, we'll build it in the prepareParam\n        super();\n        this.cartoonifyStrength = strength;\n        this.effectName = effectName;\n    }\n    /**\n     * @description Sets the thickness of the lines.\n     * @param {number} lineStrength The thickness of the lines. (Range: 0 to 100, Server default: 50)\n     * @return {this}\n     */\n    lineStrength(lineStrength) {\n        this.cartoonifyStrength = lineStrength;\n        return this;\n    }\n    /**\n     * @description Achieves a black and white cartoon effect.\n     * @return {this}\n     */\n    blackwhite() {\n        this.colorReduction = 'bw';\n        return this;\n    }\n    /**\n     * @description\n     * Sets the decrease in the number of colors and corresponding saturation boost of the remaining colors. <br/>\n     * Higher reduction values result in a less realistic look.\n     * @param {number } level The decrease in the number of colors and corresponding saturation boost of the remaining colors. (Range: 0 to 100, Server default: automatically adjusts according to the line_strength value). Set to 'bw' for a black and white cartoon effect.\n     * @return {this}\n     */\n    colorReductionLevel(level) {\n        this.colorReduction = level;\n        return this;\n    }\n    prepareQualifiers() {\n        this.addQualifier(new Qualifier('e', new QualifierValue([this.effectName, this.cartoonifyStrength, this.colorReduction])));\n        return;\n    }\n}\nexport { CartoonifyEffect };\n","import { Action } from \"../../internal/Action\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { prepareColor } from \"../../internal/utils/prepareColor\";\n/**\n * @description Adds an outline to a transparent image. For examples, see the Image Transformations guide.\n * @extend {SDK.Action}\n */\nclass EffectOutline extends Action {\n    constructor() {\n        super();\n    }\n    /**\n     * @description\n     * How to apply the outline effect which can be one of the following values:\n     * inner, inner_fill, outer, fill.\n     * @param {string} mode  The type of outline effect. Use the constants defined in Outline.\n     * @return {this}\n     */\n    mode(mode) {\n        this._mode = mode;\n        return this;\n    }\n    /**\n     * The thickness of the outline in pixels. (Range: 1 to 100, Server default: 5)\n     * @param {number} width\n     * @return {this}\n     */\n    width(width) {\n        this._width = width;\n        return this;\n    }\n    /**\n     * @description\n     * The level of blur of the outline.\n     * Range: 0 to 2000, Server default: 0\n     * @param {number | string} lvl\n     * @return {this}\n     */\n    blurLevel(lvl) {\n        this._blurLevel = lvl;\n        return this;\n    }\n    /**\n     * @param {string | Qualifiers.Color} color One of the SDK Color values, string, or rgba: '#fff'\n     * @return {this}\n     */\n    color(color) {\n        return this.addQualifier(new Qualifier('co', prepareColor(color)));\n    }\n    prepareQualifiers() {\n        this.addQualifier(new Qualifier('e', new QualifierValue(['outline', this._mode, this._width, this._blurLevel]).setDelimiter(':')));\n    }\n}\nexport { EffectOutline };\n","import { LeveledEffectAction } from \"../EffectActions/LeveledEffectAction\";\nimport { Qualifier } from \"../../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../../internal/qualifier/QualifierValue\";\nimport { prepareColor } from \"../../../internal/utils/prepareColor\";\n/**\n * @augments LeveledEffectAction\n * @description Makes the background of the image transparent (or solid white for formats that do not support transparency).\n */\nclass MakeTransparentEffectAction extends LeveledEffectAction {\n    /**\n     * @description Sets the tolerance used to accommodate variance in the background color.\n     * @param {number | string} value The tolerance used to accommodate variance in the background color. (Range: 0 to 100, Server default: 10)\n     */\n    tolerance(value) {\n        return this.setLevel(value);\n    }\n    /**\n     * @description Sets the color to make transparent.\n     * @param {string} color The HTML name of the color (red, green, etc.) or RGB hex code.\n     * @return {this}\n     */\n    colorToReplace(color) {\n        return this.addQualifier(new Qualifier('co', new QualifierValue(prepareColor(color))));\n    }\n}\nexport { MakeTransparentEffectAction };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @description Vectorizes the image.\n * @extend {SDK.Action}\n */\nclass VectorizeEffectAction extends Action {\n    constructor() {\n        super();\n    }\n    /**\n     * @description The number of colors. (Range: 2 to 30, Server default: 10)\n     * @param {number | string} num\n     * @return {this}\n     */\n    numOfColors(num) {\n        this._numOfColors = num;\n        return this;\n    }\n    /**\n     * @description The level of detail. Specify either a percentage of the original image (Range: 0.0 to 1.0) or an absolute number of pixels (Range: 0 to 1000). (Server default: 300)\n     * @param {number | string} num\n     * @return {this}\n     */\n    detailsLevel(num) {\n        this._detailsLevel = num;\n        return this;\n    }\n    /**\n     * @description The size of speckles to suppress. Specify either a percentage of the original image (Range: 0.0 to 1.0) or an absolute number of pixels (Range: 0 to 100, Server default: 2)\n     * @param {number | string} num\n     * @return {this}\n     */\n    despeckleLevel(num) {\n        this._despeckleLevel = num;\n        return this;\n    }\n    /**\n     * @description The corner threshold. Specify 100 for no smoothing (polygon corners), 0 for completely smooth corners. (Range: 0 to 100, Default: 25)\n     * @param {number | string} num\n     * @return {this}\n     */\n    cornersLevel(num) {\n        this._cornersLevel = num;\n        return this;\n    }\n    /**\n     * @description The optimization value. Specify 100 for least optimization and the largest file. (Range: 0 to 100, Server default: 100).\n     * @param {number} num\n     * @return {this}\n     */\n    paths(num) {\n        this._paths = num;\n        return this;\n    }\n    prepareQualifiers() {\n        let str = 'vectorize';\n        if (this._numOfColors) {\n            str += `:${new QualifierValue(`colors:${this._numOfColors}`).toString()}`;\n        }\n        if (this._detailsLevel) {\n            str += `:${new QualifierValue(`detail:${this._detailsLevel}`).toString()}`;\n        }\n        if (this._despeckleLevel) {\n            str += `:${new QualifierValue(`despeckle:${this._despeckleLevel}`).toString()}`;\n        }\n        if (this._paths) {\n            str += `:${new QualifierValue(`paths:${this._paths}`).toString()}`;\n        }\n        if (this._cornersLevel) {\n            str += `:${new QualifierValue(`corners:${this._cornersLevel}`).toString()}`;\n        }\n        this.addQualifier(new Qualifier('e', str));\n    }\n}\nexport { VectorizeEffectAction };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description Simulates the way an image would appear to someone with the specified color blind condition\n * @extend {SDK.Action}\n */\nclass SimulateColorBlindEffectAction extends Action {\n    constructor() {\n        super();\n        this.addQualifier(new Qualifier('e', `simulate_colorblind`));\n    }\n    setQualifier(val) {\n        const strToAppend = `:${val}`;\n        if (val) {\n            this.addQualifier(new Qualifier('e', `simulate_colorblind${strToAppend}`));\n        }\n        return this;\n    }\n    /**\n     * @description Sets the color blind condition to simulate.\n     * @param {Qualifiers.simulateColorBlindValues | string} cond\n     * @return {this}\n     */\n    condition(cond) {\n        return this.setQualifier(cond);\n    }\n}\nexport { SimulateColorBlindEffectAction };\n","import { LeveledEffectAction } from \"./LeveledEffectAction\";\n/**\n * @extends {Actions.Effect.LeveledEffectAction}\n * @memberOf Actions.Effect\n * @description A class that provides a built in level() method that sets the level of the effect\n */\nclass EffectActionWithLevel extends LeveledEffectAction {\n    level(value) {\n        return this.setLevel(value);\n    }\n}\nexport { EffectActionWithLevel };\n","import { Action } from \"../../internal/Action\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @extend {SDK.Action}\n * @description Applies stripes to the image to help people with common color-blind conditions to differentiate between colors that are similar for them.\n * You can replace colors using the xray() method.\n * @memberOf Actions.Effect\n */\nclass AssistColorBlindEffectAction extends Action {\n    constructor() {\n        super();\n        this.addQualifier(new Qualifier('e', new QualifierValue('assist_colorblind')));\n    }\n    /**\n     * @description Replaces problematic colors with colors that are easier to differentiate.\n     * @return {this}\n     */\n    xray() {\n        return this.addQualifier(new Qualifier('e', new QualifierValue(['assist_colorblind', 'xray']).setDelimiter(':')));\n    }\n    /**\n     * @description Applies stripes of the specified intensity to help people with common color blind conditions to differentiate between colors that are similar for them.\n     * @param {number | string} strength The intensity of the stripes. (Range: 1 to 100, Server default: 10)\n     * @return {this}\n     */\n    stripesStrength(strength) {\n        return this.addQualifier(new Qualifier('e', new QualifierValue(['assist_colorblind', strength]).setDelimiter(':')));\n    }\n}\nexport { AssistColorBlindEffectAction };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description Applies a gradient fade effect from one edge of the image.\n * @extend {SDK.Action}\n */\nclass GradientFadeEffectAction extends Action {\n    /**\n     * @description Sets the strength of the fade effect.\n     * @param {number} strength The strength of the fade effect. (Range: 0 to 100, Server default: 20)\n     */\n    strength(strength) {\n        this._strength = strength;\n        return this;\n    }\n    /**\n     * @description Sets the mode of gradient fade.\n     * @param {string | Qualifiers.GradientFade} type The mode of gradient fade.\n     */\n    type(type) {\n        this._type = type;\n        return this;\n    }\n    /**\n     * @description Sets the x dimension of the start point.\n     * @param {number | string} x The x dimension of the start point.\n     */\n    horizontalStartPoint(x) {\n        return this.addQualifier(new Qualifier('x', x));\n    }\n    /**\n     * @description Sets the y dimension of the start point.\n     * @param {number | string} y The y dimension of the start point.\n     */\n    verticalStartPoint(y) {\n        return this.addQualifier(new Qualifier('y', y));\n    }\n    prepareQualifiers() {\n        let str = 'gradient_fade';\n        if (this._type) {\n            str += `:${this._type}`;\n        }\n        if (this._strength) {\n            str += `:${this._strength}`;\n        }\n        this.addQualifier(new Qualifier('e', str));\n    }\n}\nexport { GradientFadeEffectAction };\n","import { LeveledEffectAction } from \"../EffectActions/LeveledEffectAction\";\n/**\n * @augments LeveledEffectAction\n * @description Fade out at the end of the video, use the length() method to set the time in ms for the fade to occur. (Server default: 2000)\n */\nclass FadeoutEffectAction extends LeveledEffectAction {\n    // We can't use EffectActionWithLength because this `length` is reversing the sign\n    duration(value) {\n        return this.setLevel(-value);\n    }\n}\nexport { FadeoutEffectAction };\n","import { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { prepareColor } from \"../../internal/utils/prepareColor\";\nimport { EffectActionWithLevel } from \"./EffectActions/EffectActionWithLevel\";\n/**\n * @augments EffectActionWithLevel\n * @description Applies a colorizing filter to the asset, use the methods in the class to adjust the filter\n */\nclass ColorizeEffectAction extends EffectActionWithLevel {\n    /**\n     * @description The color to use for colorization. Specify HTML name or RGB hex code. (Server default: gray)\n     * @param {string} color HTML name(red, green, etc.) or RGB hex code. (Server default: gray)\n     * @return {this}\n     */\n    color(color) {\n        return this.addQualifier(new Qualifier('co', new QualifierValue(prepareColor(color))));\n    }\n}\nexport { ColorizeEffectAction };\n","import { Action } from \"../../internal/Action\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { prepareColor } from \"../../internal/utils/prepareColor\";\n/**\n * @description Applies a shadow filter to the asset.\n * @extend {SDK.Action}\n */\nclass ShadowEffectAction extends Action {\n    constructor(effectType, strength) {\n        super();\n        this.effectType = effectType;\n        this.addQualifier(new Qualifier('e', new QualifierValue(['shadow', strength])));\n    }\n    /**\n     * @description The strength of the shadow. (Range: 0 to 100, Server default: 40)\n     * @param {number} strength\n     * @return {this}\n     */\n    strength(strength) {\n        return this.addQualifier(new Qualifier('e', new QualifierValue(['shadow', strength])));\n    }\n    /**\n     * @description The X offset the shadow\n     * @param {number | SDK.ExpressionQualifier} x\n     * @return {this}\n     */\n    offsetX(x) {\n        return this.addQualifier(new Qualifier('x', new QualifierValue(x)));\n    }\n    /**\n     * @description The Y offset the shadow\n     * @param {number | SDK.ExpressionQualifier} y\n     * @return {this}\n     */\n    offsetY(y) {\n        return this.addQualifier(new Qualifier('y', new QualifierValue(y)));\n    }\n    /**\n     * @description The color of the shadow (Server default: gray)\n     * @param color\n     * @return {this}\n     */\n    color(color) {\n        return this.addQualifier(new Qualifier('co', new QualifierValue(prepareColor(color))));\n    }\n}\nexport { ShadowEffectAction };\n","import { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description - This Action, while belonging to Effect, acts as a modified overlay.\n *                The class implements the Builder pattern, where strength() and preserveColor()\n *                are applied to the instance, and toString() is responsible to combining them into the right result.\n * @extend {SDK.Action}\n */\nclass StyleTransfer extends Action {\n    /**\n     * The Image Source used to create the style transfer,\n     * Use the Image Source builder to quickly create a source:\n     * </br>Import: {@link Qualifiers.Source|import Sources from '@cloudinary/base/qualifiers/sources';}\n     * </br>Create: `Source.image('dog')`\n     * @param {ImageSource} imageSource\n     */\n    constructor(imageSource) {\n        super();\n        this.imageSource = imageSource;\n    }\n    /**\n     * Determines the strength in which the styleTransfer is applied.\n     * @param {number} [effectStrength] - The strength level, 1-100, default: 100\n     * @return {this}\n     */\n    strength(effectStrength = null) {\n        this.effectStrength = effectStrength;\n        return this;\n    }\n    /**\n     * More aggressively preserves the colors of the the target photo,\n     * Can be used with `strength()` to enhance this behaviour\n     * @param {boolean} bool\n     * @return {this}\n     */\n    preserveColor(bool = true) {\n        this.preserve = bool;\n        return this;\n    }\n    /**\n     * The `build` phase of the Action, used internally to concat all the options received into a single string.\n     * The result of this method is the toString() of the imageLayer provided in the constructor.\n     * @return {string}\n     */\n    toString() {\n        const NAME = 'style_transfer';\n        const PRES = this.preserve ? 'preserve_color' : null;\n        const STRENGTH = this.effectStrength;\n        // Create the style effect\n        const styleEffect = new Qualifier('e', new QualifierValue([NAME, PRES, STRENGTH]));\n        // Handle the source for publicID,\n        const sourceOpenString = this.imageSource.getOpenSourceString('l');\n        // Handle source transformation\n        const imgTx = this.imageSource.getTransformation();\n        const sourceTransformation = imgTx ? imgTx.toString() : '';\n        return [\n            sourceOpenString,\n            sourceTransformation,\n            `${styleEffect},fl_layer_apply`\n        ].filter((a) => a).join('/');\n    }\n}\nexport { StyleTransfer };\n","import { LeveledEffectAction } from \"./EffectActions/LeveledEffectAction\";\n/**\n * @description Applies an ordered dither filter to the image.\n * @augments LeveledEffectAction\n */\nclass DitherEffectAction extends LeveledEffectAction {\n    /**\n     *\n     * @param {Qualifiers.Dither} ditherType - The dither type applied to the image\n     * @return {this}\n     */\n    type(ditherType) {\n        return this.setLevel(ditherType);\n    }\n}\nexport { DitherEffectAction };\n","import { LeveledEffectAction } from \"../EffectActions/LeveledEffectAction\";\n/**\n * @augments LeveledEffectAction\n * @description Removes small motion shifts from the video. with a maximum extent of movement in the horizontal and vertical direction of 32 pixels\n */\nclass DeshakeEffectAction extends LeveledEffectAction {\n    /**\n     * The maximum number of pixels in the horizontal and vertical direction that will be addressed. (Possible values: 16, 32, 48, 64. Server default: 16)\n     * @param value Possible values: 16, 32, 48, 64.  Server default: 16.\n     */\n    shakeStrength(value) {\n        return this.setLevel(value);\n    }\n}\nexport { DeshakeEffectAction };\n","import { Qualifier } from \"../../../internal/qualifier/Qualifier\";\nimport { Action } from \"../../../internal/Action\";\n/**\n * @description The Action class of the pixelate Builder\n */\nclass Pixelate extends Action {\n    constructor(squareSize) {\n        super();\n        this._squareSize = squareSize;\n    }\n    /**\n     * @description Specifies the region to piexlate.\n     * @param {NamedRegion} pixelateRegion\n     */\n    region(pixelateRegion) {\n        this._region = pixelateRegion;\n        return this;\n    }\n    /**\n     * @description Sets the squareSize of the pixelate effect.\n     * @param {number | string} squareSize\n     */\n    squareSize(squareSize) {\n        this._squareSize = squareSize;\n        return this;\n    }\n    prepareQualifiers() {\n        /*\n         * pixelate with region is a unique object in this codebase.\n         * On top of pixelate being an Action with Qualifiers,\n         * it also accepts a Qualifier called Region.\n         *\n         * This Qualifier is in itself composite of qualifiers (such as height, or width).\n         * The existence of Region changes the output of pixelate in non traditional ways\n         * which forced this relatively ad-hoc implementation.\n         *\n         * Aside from all of that, all of the Qualifiers in the component should be alphabetized\n         * This happens naturally in the Action class,\n         * however since we're dealing with two levels of qualifiers (pixelate and Region),\n         * these need to be merged.\n         *\n         * This function will merge the Region qualifiers with pixelate\n         * and add all needed implicit qualifiers (like g_ocr_text).\n         * We're not using the full Gravity Qualifier here to prevent the code import for such a simplistic case\n         */\n        const str = this._squareSize ? `:${this._squareSize}` : '';\n        if ('_region' in this) {\n            const qualifiers = this._region.qualifiers;\n            // Copy qualifiers from the region \"action\" to the pixelate action\n            qualifiers.forEach((q) => this.addQualifier(q));\n            if (this._region.regionType === 'named') {\n                this.addQualifier(new Qualifier('e', `pixelate_region${str}`));\n            }\n            if (this._region.regionType === 'ocr_text') {\n                this.addQualifier(new Qualifier('e', `pixelate_region${str}`));\n                this.addQualifier(new Qualifier('g', `ocr_text`));\n            }\n            if (this._region.regionType === 'faces') {\n                this.addQualifier(new Qualifier('e', `pixelate_faces${str}`));\n            }\n        }\n        else {\n            this.addQualifier(new Qualifier('e', `pixelate${str}`));\n        }\n    }\n}\nexport { Pixelate };\n","import { LeveledEffectAction } from \"./LeveledEffectAction\";\n/**\n * @description A class for all effects that include a strength method\n * @memberOf Actions.Effect\n * @extends {Actions.Effect.LeveledEffectAction}\n */\nclass EffectActionWithStrength extends LeveledEffectAction {\n    strength(value) {\n        return this.setLevel(value);\n    }\n}\nexport { EffectActionWithStrength };\n","import { LeveledEffectAction } from \"../EffectActions/LeveledEffectAction\";\n/**\n * @augments LeveledEffectAction\n * @description Converts the image to black and white.\n */\nclass BlackwhiteEffectAction extends LeveledEffectAction {\n    threshold(value) {\n        return this.setLevel(value);\n    }\n}\nexport { BlackwhiteEffectAction };\n","import { LeveledEffectAction } from \"../EffectActions/LeveledEffectAction\";\n/**\n * @augments LeveledEffectAction\n * @description Fade out at the end of the video, use the length() method to set the time in ms for the fade to occur. (Server default: 2000)\n */\nclass FadeInEffectAction extends LeveledEffectAction {\n    // We can't use EffectActionWithLength because this `length` is reversing the sign\n    duration(value) {\n        return this.setLevel(value);\n    }\n}\nexport { FadeInEffectAction };\n","import { Action } from \"../../internal/Action\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description A class that defines how to remove the background of an asset\n * @memberOf Actions.Effect\n * @extend {SDK.Action}\n */\nclass RemoveBackgroundAction extends Action {\n    constructor() {\n        super();\n        this.overwriteQualifier();\n    }\n    /**\n     * @description Everytime this method is called, it will overwrite the e_bgremoval qualifier with new values\n     * @private\n     */\n    overwriteQualifier() {\n        const value = ['bgremoval', this._screen ? 'screen' : '', (this._colorToRemove || '').replace('#', '')];\n        return this.addQualifier(new Qualifier('e', new QualifierValue(value)));\n    }\n    /**\n     * @description The strength of the shadow. (Range: 0 to 100, Server default: 40)\n     * @param {number} useScreen Boolean, defaults to true\n     * @return {this}\n     */\n    screen(useScreen = true) {\n        this._screen = useScreen;\n        return this.overwriteQualifier();\n    }\n    /**\n     * @description The color to remove from the background\n     * @param {SystemColors} color\n     * @return {this}\n     */\n    colorToRemove(color) {\n        this._colorToRemove = color;\n        return this.overwriteQualifier();\n    }\n}\nexport { RemoveBackgroundAction };\n","import { BlurAction } from \"./effect/blur/blur\";\nimport { AccelerationEffectAction } from \"./effect/leveled/accelerate\";\nimport { LoopEffectAction } from \"./effect/leveled/loop\";\nimport { CartoonifyEffect } from \"./effect/cartoonify\";\nimport { EffectOutline } from \"./effect/outline\";\nimport { SimpleEffectAction } from \"./effect/EffectActions/SimpleEffectAction\";\nimport { MakeTransparentEffectAction } from \"./effect/leveled/makeTransparent\";\nimport { VectorizeEffectAction } from \"./effect/vectorize\";\nimport { SimulateColorBlindEffectAction } from \"./effect/simulateColorBlind\";\nimport { EffectActionWithLevel } from \"./effect/EffectActions/EffectActionWithLevel\";\nimport { AssistColorBlindEffectAction } from \"./effect/assistColorBlind\";\nimport { GradientFadeEffectAction } from \"./effect/gradientFade\";\nimport { FadeoutEffectAction } from \"./effect/leveled/fadeOut\";\nimport { ColorizeEffectAction } from \"./effect/colorize\";\nimport { ShadowEffectAction } from \"./effect/shadow\";\nimport { StyleTransfer } from \"./effect/styleTransfer\";\nimport { DitherEffectAction } from \"./effect/dither\";\nimport { DeshakeEffectAction } from \"./effect/leveled/deshake\";\nimport { Pixelate } from \"./effect/pixelate/pixelate\";\nimport { EffectActionWithStrength } from \"./effect/EffectActions/EffectActionWithStrength\";\nimport { BlackwhiteEffectAction } from \"./effect/leveled/blackwhite\";\nimport { FadeInEffectAction } from \"./effect/leveled/fadeIn\";\nimport { RemoveBackgroundAction } from \"./effect/removeBackgroundAction\";\n/**\n * @summary action\n * @description Applies a blurring filter to the asset.\n * @memberOf Actions.Effect\n * @param {number} blurLevel The strength of the blur. (Range: 1 to 2000, Server default: 100)\n * @return {BlurAction}\n */\nfunction blur(blurLevel) {\n    return new BlurAction(blurLevel);\n}\n/**\n * @summary action\n * @description Converts the image to gray-scale (multiple shades of gray).\n * @memberOf Actions.Effect\n * @return {SimpleEffectAction}\n */\nfunction grayscale() {\n    return new SimpleEffectAction('grayscale');\n}\n/**\n * @summary action\n * @description Changes the color scheme of the image to sepia.\n * @memberOf Actions.Effect\n * @param {number} level The level of sepia to apply. (Range: 1 to 100, Server default: 80)\n * @return {EffectActionWithLevel}\n */\nfunction sepia(level) {\n    return new EffectActionWithLevel('sepia', level);\n}\n/**\n * @summary action\n * @description Applies a shadow filter to the asset.\n * @memberOf Actions.Effect\n * @param shadowLevel\n * @return {ShadowEffectAction}\n */\nfunction shadow(shadowLevel) {\n    return new ShadowEffectAction('shadow', shadowLevel);\n}\n/**\n * @summary action\n * @description Applies a colorizing filter to the asset.\n * @memberOf Actions.Effect\n * @param {number} colorizeLevel The strength of the color. (Range: 0 to 100, Server default: 100)\n * @return {ColorizeEffectAction}\n */\nfunction colorize(colorizeLevel) {\n    return new ColorizeEffectAction('colorize', colorizeLevel);\n}\n/**\n * @summary action\n * @description Applies an oilPaint filter to the asset.\n * @memberOf Actions.Effect\n * @param {number} oilPaintLevel The strength of the effect. (Range: 0 to 100, Server default: 30)\n * @return {EffectActionWithStrength}\n */\nfunction oilPaint(oilPaintLevel) {\n    return new EffectActionWithStrength('oil_paint', oilPaintLevel);\n}\n/**\n * @summary action\n * @description Applies an artistic filter to the asset.\n * @memberOf Actions.Effect\n * @param artisticFilterType\n * @return {SimpleEffectAction}\n */\nfunction artisticFilter(artisticFilterType) {\n    return new SimpleEffectAction('art', artisticFilterType);\n}\n/**\n * @summary action\n * @description Applies a cartoonify effect to the asset.\n * @memberOf Actions.Effect\n * @param cartoonifyLevel The thickness of the lines. (Range: 0 to 100, Server default: 50)\n * @return {CartoonifyEffect}\n */\nfunction cartoonify(cartoonifyLevel) {\n    return new CartoonifyEffect('cartoonify', cartoonifyLevel);\n}\n/**\n * @summary action\n * @description Adds an outline to a transparent image. For examples, see the Image Transformations guide.\n * @memberOf Actions.Effect\n * @return {OutlineMode}\n */\nfunction outline() {\n    return new EffectOutline();\n}\n/**\n * @summary action\n * @description Applies a complex deep learning neural network algorithm that extracts artistic styles from a source image and applies them to the content of a target photograph.<br/>\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/neural_artwork_style_transfer_addon | Neural Artwork Style Transfer}\n * @memberOf Actions.Effect\n * @param {ImageSource} imageSource `import {image} from '@cloudinary/base/qualifiers/sources`\n */\nfunction styleTransfer(imageSource) {\n    return new StyleTransfer(imageSource);\n}\n/**\n * @summary action\n * @description\n * Causes a video clip to play forwards and then backwards.\n * Use in conjunction with trimming parameters ('duration', 'start_offset', or 'end_offset') and the 'loop' effect to deliver a classic (short, repeating) boomerang clip.<br/>\n * For details and examples, see 'Create a boomerang video clip' in the Video Transformations guide.\n * @memberOf Actions.Effect\n * @return {SimpleEffectAction}\n */\nfunction boomerang() {\n    return new SimpleEffectAction('boomerang');\n}\n/**\n * @summary action\n * @description\n * Removes red eyes with the Advanced Facial Attribute Detection add-on.\n * For details, see the Advanced Facial Attribute Detection add-on documentation.\n * @memberOf Actions.Effect\n * @return {SimpleEffectAction}\n */\nfunction advancedRedEye() {\n    return new SimpleEffectAction('adv_redeye');\n}\n/**\n * @summary action\n * @description Converts the image to black and white.\n * @memberOf Actions.Effect\n * @param {number | string} level The balance between black (100) and white (0). (Range: 0 to 100, Server default: 50)\n * @return BlackwhiteEffectAction\n */\nfunction blackwhite(level) {\n    return new BlackwhiteEffectAction('blackwhite', level);\n}\n/**\n * @summary action\n * @description Negates the image colors (negative).\n * @memberOf Actions.Effect\n * @return {SimpleEffectAction}\n */\nfunction negate() {\n    return new SimpleEffectAction('negate');\n}\n/**\n * @summary action\n * @description Removes red eyes in the image.\n * @memberOf Actions.Effect\n * @return {SimpleEffectAction}\n */\nfunction redEye() {\n    return new SimpleEffectAction('redeye');\n}\n/**\n * @summary action\n * @description Plays the video or audio file in reverse.\n * @memberOf Actions.Effect\n * @return {SimpleEffectAction}\n */\nfunction reverse() {\n    return new SimpleEffectAction('reverse');\n}\n/**\n * @summary action\n * @description Changes the speed of the video playback.\n * @memberOf Actions.Effect\n * @param {number} speedIncreasePercent The percentage change of speed. Positive numbers speed up the playback, negative numbers slow down the playback (Range: -50 to 100, Server default: 0)\n * @return {AccelerationEffectAction}\n */\nfunction accelerate(speedIncreasePercent) {\n    return new AccelerationEffectAction('accelerate', speedIncreasePercent);\n}\n/**\n * @summary action\n * @description\n * Fade in at the beginning of the video.\n * For details and examples, see 'Fade in and out' in the Video Transformations guide.\n * @memberOf Actions.Effect\n * @param {number} fadeLength The time in ms for the fade to occur. (Server default: 2000)\n * @return {FadeInEffectAction}\n */\nfunction fadeIn(fadeLength) {\n    return new FadeInEffectAction('fade', fadeLength);\n}\n/**\n * @summary action\n * @description\n * Fade out at the end of the video.\n * For details and examples, see 'Fade in and out' in the Video Transformations guide.\n * @memberOf Actions.Effect\n * @param {number} fadeLength The time in ms for the fade to occur. (Server default: 2000)\n * @return {FadeoutEffectAction}\n */\nfunction fadeOut(fadeLength) {\n    return new FadeoutEffectAction('fade', -fadeLength);\n}\n/**\n * @summary action\n * @description\n * Delivers a video or animated GIF that contains additional loops of the video/GIF.\n * The total number of iterations is the number of additional loops plus one. <br/>\n * For animated GIFs only, you can also specify the loop effect without a numeric value to instruct it to loop the GIF infinitely.\n * @memberOf Actions.Effect\n * @param {number} additionalLoops The additional number of times to play the video or animated GIF.\n * @return {LoopEffectAction}\n */\nfunction loop(additionalLoops) {\n    return new LoopEffectAction('loop', additionalLoops);\n}\n/**\n * @summary action\n * @description\n * Makes the background of the image transparent (or solid white for formats that do not support transparency).\n * The background is determined as all pixels that resemble the pixels on the edges of the image.\n *\n * @memberOf Actions.Effect\n * @param {number} tolerance The tolerance used to accommodate variance in the background color. (Range: 0 to 100, Server default: 10)\n * @return {MakeTransparentEffectAction}\n */\nfunction makeTransparent(tolerance) {\n    return new MakeTransparentEffectAction('make_transparent', tolerance);\n}\n/**\n * @summary action\n * @description Adds visual noise to the video, visible as a random flicker of \"dots\" or \"snow\".\n * @memberOf Actions.Effect\n * @param {number} percentage The percent of noise to apply. (Range: 0 to 100 Server default: 0)\n * @return {EffectActionWithLevel}\n */\nfunction noise(percentage) {\n    return new EffectActionWithLevel('noise', percentage);\n}\n/**\n * @summary action\n * @description Applies a vignette effect.\n * @memberOf Actions.Effect\n * @param {number} strength The strength of the vignette. (Range: 0 to 100, Server default: 20)\n * @return {EffectActionWithStrength}\n */\nfunction vignette(strength) {\n    return new EffectActionWithStrength('vignette', strength);\n}\n/**\n * @summary action\n * @description\n * Applies an ordered dither filter to the image.\n * Use the constants defined in {@link Qualifiers.Dither|@cloudinary/base/qualifiers/dither} for ditherType.\n * @memberOf Actions.Effect\n * @param {Qualifiers.Dither} ditherType - The dither type applied to the image\n * @return {DitherEffectAction}\n */\nfunction dither(ditherType) {\n    return new DitherEffectAction('ordered_dither', ditherType);\n}\n/**\n * @summary action\n * @description\n * Vectorizes the image.\n * Notes:\n * To deliver the image as a vector image, make sure to change the format (or URL extension) to a vector format, such as SVG.</br>\n * However, you can also deliver in a raster format if you just want to get the 'vectorized' graphic effect.</br>\n * Large images are scaled down to 1000 pixels in the largest dimension before vectorization.\n *\n * @memberOf Actions.Effect\n * @return {VectorizeEffectAction}\n */\nfunction vectorize() {\n    return new VectorizeEffectAction();\n}\n/**\n * @summary action\n * @description\n * Applies a gradient fade effect from one edge of the image.\n * Use .x() or .y() to indicate from which edge to fade and how much of the image should be faded.\n * Values of x and y can be specified as a percentage (Range: 0.0 to 1.0), or in pixels (integer values). <br/>\n * Positive values fade from the top (y) or left (x). Negative values fade from the bottom (y) or right (x). <br/>\n * By default, the gradient is applied to the top 50% of the image (y = 0.5).<br/>\n * Only one direction can be specified but the fade can be applied symmetrically using the mode parameter. </br>\n * To apply different amounts of fade to multiple edges, use chained fade effects.\n *\n * @memberOf Actions.Effect\n * @return {GradientFadeEffectAction}\n */\nfunction gradientFade() {\n    return new GradientFadeEffectAction();\n}\n/**\n * @summary action\n * @description\n * Applies stripes to the image to help people with common color-blind conditions to differentiate between colors that are similar for them.</br>\n * You can replace colors using the xRay() method of the \\Cloudinary\\Transformation\\AssistColorBlind class.\n * @memberOf Actions.Effect\n * @return {AssistColorBlindEffectAction}\n */\nfunction assistColorBlind() {\n    return new AssistColorBlindEffectAction();\n}\n/**\n * @summary action\n * @description\n * Simulates the way an image would appear to someone with the specified color blind condition. </br>\n * For a list of supported color blind conditions see {@link Qualifiers.SimulateColorBlindValues| types of color blindness} for possible values\n * @memberOf Actions.Effect\n * @return {SimulateColorBlindEffectAction}\n */\nfunction simulateColorBlind() {\n    return new SimulateColorBlindEffectAction();\n}\n/**\n * @summary action\n * @description Removes small motion shifts from the video. with a maximum extent of movement in the horizontal and vertical direction of 32 pixels\n * @memberOf Actions.Effect\n * @return {DeshakeEffectAction}\n */\nfunction deshake(pixels) {\n    return new DeshakeEffectAction('deshake', pixels);\n}\n/**\n * @summary action\n * @description Supports the concatenation of videos with a custom transition by including a transition video as an\n * additional layer and specifying the transition effect\n * @memberOf Actions.Effect\n * @return {SimpleEffectAction}\n */\nfunction transition() {\n    return new SimpleEffectAction('transition');\n}\n/**\n * @summary action\n * @description Applies a pixelatering filter to the asset.\n * @memberOf Actions.Effect\n * @param {number} squareSize The squareSize in the pixelation. (Range: 1 to 2000, Server default: 100)\n * @return {Pixelate}\n */\nfunction pixelate(squareSize) {\n    return new Pixelate(squareSize);\n}\n/**\n * @summary action\n * @description Makes the background of an image transparent (or solid white for JPGs).</br>\n *              Use when the background is a uniform color.\n *              {@link https://cloudinary.com/documentation/transformation_reference#e_bgremoval | Background Removal}\n *\n * @memberOf Actions.Effect\n * @return {Actions.Effect.RemoveBackgroundAction}\n */\nfunction removeBackground() {\n    return new RemoveBackgroundAction();\n}\n/**\n * @description Defines effects that you can apply to transform your assets.\n * @memberOf Actions\n * @namespace Effect\n */\nconst Effect = {\n    pixelate: pixelate,\n    deshake: deshake,\n    boomerang: boomerang,\n    advancedRedEye: advancedRedEye,\n    blackwhite,\n    negate: negate,\n    redEye: redEye,\n    reverse: reverse,\n    accelerate: accelerate,\n    fadeIn: fadeIn,\n    fadeOut: fadeOut,\n    loop: loop,\n    makeTransparent: makeTransparent,\n    noise: noise,\n    vignette: vignette,\n    blur: blur,\n    grayscale: grayscale,\n    sepia: sepia,\n    shadow: shadow,\n    colorize: colorize,\n    oilPaint: oilPaint,\n    artisticFilter: artisticFilter,\n    cartoonify: cartoonify,\n    outline: outline,\n    styleTransfer: styleTransfer,\n    gradientFade: gradientFade,\n    vectorize: vectorize,\n    assistColorBlind: assistColorBlind,\n    simulateColorBlind: simulateColorBlind,\n    transition: transition,\n    dither: dither,\n    removeBackground\n};\nexport { Effect, pixelate, deshake, boomerang, advancedRedEye, blackwhite, negate, redEye, reverse, accelerate, fadeIn, fadeOut, loop, makeTransparent, noise, vignette, blur, grayscale, sepia, shadow, colorize, oilPaint, artisticFilter, cartoonify, outline, styleTransfer, gradientFade, vectorize, assistColorBlind, simulateColorBlind, transition, dither, removeBackground };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nconst QUALIFIER_KEY = 'a';\n/**\n * @description Rotates or flips an image or video.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#rotating_image | Rotating images}\n * {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#rotating_videos | Rotating videos}\n * @augments {Action}\n */\nclass RotateAction extends Action {\n    constructor(angle) {\n        super();\n        this.addQualifier(new Qualifier(QUALIFIER_KEY, angle));\n    }\n    /**\n     * @description Rotates an asset using a defined mode.\n     * @param {Qualifiers.RotationMode | string} rotationMode\n     * For a list of supported rotation modes see {@link Qualifiers.rotationModeValues| types of rotation modes} for\n     * possible values\n     * @return {this}\n     */\n    mode(rotationMode) {\n        return this.addValueToQualifier(QUALIFIER_KEY, rotationMode);\n    }\n    /**\n     * @description Rotates an asset by the specified degrees.\n     * @param {number} degrees rotation in degrees e.g 90, 45, 33\n     * @return {this}\n     */\n    angle(degrees) {\n        return this.addValueToQualifier(QUALIFIER_KEY, degrees);\n    }\n}\nexport default RotateAction;\n","import RotateAction from \"./RotateAction\";\n/**\n * @summary action\n * @memberOf Actions.Rotate\n * @description Rotate an image by using a rotationMode\n * @param {string} rotationMode\n * For a list of supported rotation modes see {@link Qualifiers.rotationModeValues| types of rotation modes} for\n * possible values\n * @example\n * import {mode} from \"@cloudinary/base/actions/rotate\";\n * import {RotationMode} from \"@cloudinary/base/qualifiers/rotationMode\";\n *\n * const yourCldInstance = new Cloudinary({cloud:{cloudName:'demo'}});\n * const image = yourCldInstance.image('woman');\n *\n * image.rotate(mode(RotationMode.autoLeft());\n * @return {RotateAction}\n */\nfunction mode(rotationMode) {\n    return new RotateAction().mode(rotationMode);\n}\nexport default mode;\n","/**\n * Rotates or flips an image or video by the specified number of degrees, or automatically (images only) according to its orientation or available metadata.\n * @memberOf Actions\n * @namespace Rotate\n */\nimport byAngle from \"./rotate/byAngle\";\nimport mode from \"./rotate/mode\";\nconst Rotate = { byAngle, mode };\nexport { Rotate, byAngle, mode };\n","import RotateAction from \"./RotateAction\";\n/**\n * @summary action\n * @memberOf Actions.Rotate\n * @description Rotate an image by the given degrees.\n * @param {number} angle Given degrees. (Range: 0 to 360, Default: 0).\n * @return {RotateAction}\n */\nfunction byAngle(angle) {\n    return new RotateAction(angle);\n}\nexport default byAngle;\n","import { Action } from \"../../internal/Action\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description Adjusts the fill light and blends the result with the original image.\n * @memberOf Actions.Adjust\n * @augments {SDK.Action}\n */\nclass FillLightAction extends Action {\n    constructor() {\n        super();\n    }\n    /**\n     * @description Sets the level of adjustment\n     * @param {number} lvl How much to blend the adjusted fill light, where 0 means only use the original and 100 means only use the adjusted fill light result. (Range: 0 to 100, Server default: 100)\n     */\n    blend(blend) {\n        this.lvl = blend;\n        return this;\n    }\n    /**\n     * @description Sets the level of the bias\n     * @param {number} biasLvl The bias to apply to the fill light effect (Range: -100 to 100, Server default: 0).\n     */\n    bias(biasLvl) {\n        this.biasLvl = biasLvl;\n        return this;\n    }\n    prepareQualifiers() {\n        const qualifierValue = new QualifierValue(['fill_light', this.lvl, this.biasLvl]).setDelimiter(':');\n        this.addQualifier(new Qualifier('e', qualifierValue));\n        return this;\n    }\n}\nexport { FillLightAction };\n","import { Action } from \"../../internal/Action\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @extend {SDK.Action}\n * @description Converts the colors of every pixel in an image based on the supplied color matrix, in which the value of each color channel is calculated based on the values from all other channels (e.g. a 3x3 matrix for RGB, a 4x4 matrix for RGBA or CMYK, etc).<br/>\n * For every pixel in the image, take each color channel and adjust its value by the specified values of the matrix to get a new value.\n * @memberOf Actions.Adjust\n */\nclass RecolorAction extends Action {\n    constructor(recolorMatrix) {\n        super();\n        this.matrix = recolorMatrix;\n        // Turn the matrix into a flat array of values\n        // the values are ordered by row\n        // [...row1, ...row2, ...row3, ..., row(n) ]\n        const flat = [];\n        for (let row = 0; row < recolorMatrix.length; row++) {\n            for (let col = 0; col < recolorMatrix[row].length; col++) {\n                flat.push(recolorMatrix[row][col].toString());\n            }\n        }\n        const qualifierValue = new QualifierValue(['recolor', ...flat]).setDelimiter(':');\n        this.addQualifier(new Qualifier('e', qualifierValue));\n    }\n}\nexport { RecolorAction };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description OpacityAction class, used to define the opacity of an asset\n * @memberOf Actions.Adjust\n * @augments {SDK.Action}\n */\nclass OpacityAdjustAction extends Action {\n    constructor(level) {\n        super();\n        this.addQualifier(new Qualifier('o', level));\n    }\n}\nexport { OpacityAdjustAction };\n","import { Action } from \"../../internal/Action\";\n/**\n * @description Creates the 3D_lut layer transformation\n * @memberOf Actions.Adjust\n * @augments {SDK.Action}\n */\nclass By3dLutAction extends Action {\n    constructor(publicId) {\n        super();\n        this.publicId = publicId;\n    }\n    /**\n     * Returns a string representation of the action\n     * @return {string}\n     */\n    toString() {\n        return `l_lut:${this.publicId}/fl_layer_apply`;\n    }\n}\nexport { By3dLutAction };\n","import { Action } from \"../../internal/Action\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description Defines how to improve an image by automatically adjusting image colors, contrast and brightness.</br>\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#image_improvement_effects | Image improvement effects}\n * @memberOf Actions.Adjust\n */\nclass ImproveAction extends Action {\n    constructor() {\n        super();\n    }\n    /**\n     *\n     * @description The improve mode.\n     * @param {Qualifiers.ImproveMode | string} value\n     */\n    mode(value) {\n        this.modeValue = value;\n        return this;\n    }\n    /**\n     * @description How much to blend the improved result with the original image, where 0 means only use the original and 100 means only use the improved result. (Range: 0 to 100, Server default: 100)\n     * @param {number} value\n     */\n    blend(value) {\n        this.blendValue = value;\n        return this;\n    }\n    prepareQualifiers() {\n        const qualifierValue = new QualifierValue(['improve', this.modeValue, this.blendValue]).setDelimiter(':');\n        this.addQualifier(new Qualifier('e', qualifierValue));\n        return this;\n    }\n}\nexport { ImproveAction };\n","import { Action } from \"../../internal/Action\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description\n * Maps an input color and those similar to the input color to corresponding shades of a specified output color, taking luminosity and chroma into account, in order to recolor objects in your image in a natural way.</br>\n * More highly saturated input colors usually give the best results. It is recommended to avoid input colors approaching white, black, or gray.</br>\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#replace_color_effect | Replace colors example}\n * @memberOf Actions.Adjust\n */\nclass ReplaceColorAction extends Action {\n    /**\n     * @description Sets the target output color.\n     * @param {string} toColor - The HTML name or RGB/A hex code of the target output color.\n     */\n    constructor(toColor) {\n        super();\n        this.targetColor = toColor;\n    }\n    /**\n     * @description Sets the tolerance threshold.\n     * @param {number} toleranceLevel - The tolerance threshold (a radius in the LAB color space) from the input color, </br>\n     *                                  representing the span of colors that should be replaced with a correspondingly adjusted version of the target output color. </br>\n     *                                  Larger values result in replacing more colors within the image. </br>\n     *                                  The more saturated the original input color, the more a change in value will impact the result (Server default: 50).\n     * @return {this}\n     */\n    tolerance(toleranceLevel) {\n        this.toleranceLevel = toleranceLevel;\n        return this;\n    }\n    /**\n     * @description Sets the base input color to map.\n     * @param {string} baseColor - The HTML name or RGB/A hex code of the base input color to map (Server default: the most prominent high-saturation color in the image).\n     * @return {this}\n     */\n    fromColor(baseColor) {\n        this.baseColor = baseColor;\n        return this;\n    }\n    prepareQualifiers() {\n        // Target color and base color might not exist at this point (optional qualifiers)\n        // If they exist, ensure that any # for RGB are removed from the resulting string\n        const targetColor = this.targetColor && this.targetColor.toString().replace('#', '');\n        const baseColor = this.baseColor && this.baseColor.toString().replace('#', '');\n        const qualifierValue = new QualifierValue(['replace_color', targetColor, this.toleranceLevel, baseColor]);\n        this.addQualifier(new Qualifier('e', qualifierValue));\n        return this;\n    }\n}\nexport { ReplaceColorAction };\n","import { LeveledEffectAction } from \"./LeveledEffectAction\";\n/**\n * @description A class for all effects that include a blendPercentage method\n * @memberOf Actions.Effect\n * @extends {Actions.Effect.LeveledEffectAction}\n */\nclass EffectActionWithBlend extends LeveledEffectAction {\n    blend(value) {\n        return this.setLevel(value);\n    }\n}\nexport { EffectActionWithBlend };\n","import { Action } from \"../../../internal/Action\";\nimport { Qualifier } from \"../../../internal/qualifier/Qualifier\";\n/**\n * Enhances an image to its best visual quality with the Viesus Automatic Image Enhancement add-on.</br>\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/viesus_automatic_image_enhancement_addon | Viesus Automatic Image Enhancement.}\n * @memberOf Actions.Adjust\n */\nclass ViesusCorrectAdjustAction extends Action {\n    /**\n     * @description Enhances the image without correcting for red eye.\n     */\n    noRedEye() {\n        this._noRedEye = true;\n        return this;\n    }\n    /**\n     * @description Applies saturation to the skin tones in the image.\n     * @param level The saturation level. (Range: -100 to 100, Server default: 50).\n     */\n    skinSaturation(level) {\n        this._skinSaturation = true;\n        if (level) {\n            this._skinSaturationLevel = level;\n        }\n        return this;\n    }\n    prepareQualifiers() {\n        let value = 'viesus_correct';\n        if (this._noRedEye) {\n            value += ':no_redeye';\n        }\n        if (this._skinSaturation) {\n            value += ':skin_saturation';\n            if (typeof this._skinSaturationLevel !== 'undefined') {\n                value += `_${this._skinSaturationLevel}`;\n            }\n        }\n        this.addQualifier(new Qualifier('e', value));\n    }\n}\nexport { ViesusCorrectAdjustAction };\n","import { FillLightAction } from \"./adjust/FillLightAction\";\nimport { RecolorAction } from \"./adjust/RecolorAction\";\nimport { OpacityAdjustAction } from \"./adjust/OpacityAdjustAction\";\nimport { By3dLutAction } from \"./adjust/By3dLutAction\";\nimport { ImproveAction } from \"./adjust/ImproveAction\";\nimport { ReplaceColorAction } from \"./adjust/ReplaceColorAction\";\nimport { EffectActionWithLevel } from \"./effect/EffectActions/EffectActionWithLevel\";\nimport { EffectActionWithStrength } from \"./effect/EffectActions/EffectActionWithStrength\";\nimport { EffectActionWithBlend } from \"./effect/EffectActions/EffectActionWithBlend\";\nimport { ViesusCorrectAdjustAction } from \"./adjust/simple/ViesusCorrectAdjustAction\";\nimport { SimpleEffectAction } from \"./effect/EffectActions/SimpleEffectAction\";\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description Blends an image with one or more tint colors at a specified intensity. </br>\n *              You can optionally equalize colors before tinting and specify gradient blend positioning per color.</br>\n *              <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#tint_effects | Deliver selected layers of a PSD image}\n * @param {string} value The full tint effect value, provided as a string.\n * @return {Actions.Effect.SimpleEffectAction}\n */\nfunction tint(value) {\n    return new SimpleEffectAction('tint', value);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description Adjusts the image or video brightness.\n * @param {number} level The level of brightness. (Range: -99 to 100, Server default: 80)\n * @return {Actions.Effect.EffectActionWithLevel}\n */\nfunction brightness(level) {\n    return new EffectActionWithLevel('brightness', level);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description\n * Enhances an image to its best visual quality with the Viesus Automatic Image Enhancement add-on.</br>\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/viesus_automatic_image_enhancement_addon | Viesus Automatic Image Enhancement.}\n * @return {Actions.Adjust.ViesusCorrectAdjustAction}\n */\nfunction viesusCorrect() {\n    return new ViesusCorrectAdjustAction();\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description Adjusts the image's red channel.\n * @param {number} level The level of red. (Range: -100 to 100, Server default: 0)\n * @return {Actions.Effect.EffectActionWithLevel}\n */\nfunction red(level) {\n    return new EffectActionWithLevel('red', level);\n}\n/**\n * @summary action\n * @description Applies a sharpening filter to the image.\n * @memberOf Actions.Adjust\n * @param {number} strength The strength of the filter. (Range: 1 to 2000, Server default: 100)\n * @return {Actions.Effect.EffectActionWithStrength}\n */\nfunction sharpen(strength) {\n    return new EffectActionWithStrength('sharpen', strength);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description Adjusts the color saturation.\n * @param {number} level The level of color saturation (Range: -100 to 100, Server default: 80).\n * @return {Actions.Effect.EffectActionWithLevel}\n */\nfunction saturation(level) {\n    return new EffectActionWithLevel('saturation', level);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description Adjusts the image or video contrast.\n * @param {number} level The level of contrast. (Range: -100 to 100, Server default: 0)\n * @return {Actions.Effect.EffectActionWithLevel}\n */\nfunction contrast(level) {\n    return new EffectActionWithLevel('contrast', level);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description\n * Adjusts the gamma level\n * @param {number} level The level of gamma (Range: -50 to 150, Server default: 0).\n * @return {Actions.Effect.EffectActionWithLevel}\n */\nfunction gamma(level) {\n    return new EffectActionWithLevel('gamma', level);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description Adjusts the image's blue channel.\n * @param {number} level - The level of blue. (Range: -100 to 100, Server default: 0)\n * @return {Actions.Effect.EffectActionWithLevel}\n */\nfunction blue(level) {\n    return new EffectActionWithLevel('blue', level);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description\n * Adjusts image brightness modulation in HSB to prevent artifacts in some images.\n * @param {number} level The level of modulation. (Range: -99 to 100, Server default: 80)\n * @return {Actions.Effect.EffectActionWithLevel}\n */\nfunction brightnessHSB(level) {\n    return new EffectActionWithLevel('brightness_hsb', level);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description  Causes all semi-transparent pixels in an image to be either fully transparent or fully opaque.\n *\n * Each pixel with an opacity lower than the specified threshold value is set to an opacity of 0%. Each pixel with\n * an opacity greater than the specified threshold is set to an opacity of 100%. For example, setting\n * opacity_threshold:0 makes all pixels non-transparent, while opacity_threshold:100 makes all semi-transparent\n * pixels fully transparent. Note: This effect can be a useful solution when PhotoShop PSD files are delivered in a\n * format supporting partial transparency, such as PNG, and the results without this effect are not as expected.\n *\n * @param {number} level The level of the threshold. (Range: 1 to 100, Server default: 50)\n * @return {Actions.Effect.EffectActionWithLevel}\n */\nfunction opacityThreshold(level) {\n    return new EffectActionWithLevel('opacity_threshold', level);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description\n * Adjusts the color balance and blends the result with the original image.\n * @param {number} blend How much to blend the adjusted color result, where 0 means only use the original and 100 means only use the adjusted color result. </br>\n *                                  (Range: 0 to 100, Server default: 100)\n * @return {Actions.Effect.EffectActionWithBlendPercentage}\n */\nfunction autoColor(blend) {\n    return new EffectActionWithBlend('auto_color', blend);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description\n * Adjusts the brightness and blends the result with the original image.\n * @param {number} blend How much to blend the adjusted brightness, where 0 means only use the original\n *                 and 100 means only use the adjusted brightness result.\n *                 (Range: 0 to 100, Server default: 100)\n * @return {Actions.Effect.EffectActionWithBlendPercentage}\n */\nfunction autoBrightness(blend) {\n    return new EffectActionWithBlend('auto_brightness', blend);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description\n * Adjusts the image's hue.\n * @param {number} level The level of hue. (Range: -100 to 100, Server default: 80)\n * @return {Actions.Effect.EffectActionWithLevel}\n */\nfunction hue(level) {\n    return new EffectActionWithLevel('hue', level);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description Adjusts the image's green channel.\n * @param {number} level The level of green. (Range: -100 to 100, Server default: 0)\n * @return {Actions.Effect.EffectActionWithLevel}\n */\nfunction green(level) {\n    return new EffectActionWithLevel('green', level);\n}\n/**\n * @summary action\n * @description Applies an unsharp mask filter to the image.\n * @memberOf Actions.Adjust\n * @param {number} strength The strength of the filter. (Range: 1 to 2000, Server default: 100)\n * @return {Actions.Effect.EffectActionWithStrength}\n */\nfunction unsharpMask(strength) {\n    return new EffectActionWithStrength('unsharp_mask', strength);\n}\n/**\n * @summary action\n * @description Applies a vibrance filter on the image.\n * @memberOf Actions.Adjust\n * @param {number} strength The strength of the vibrance. (Range: -100 to 100, Server default: 20)\n * @return {Actions.Effect.EffectActionWithStrength}\n */\nfunction vibrance(strength) {\n    return new EffectActionWithStrength('vibrance', strength);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description\n * Adjusts the contrast and blends the result with the original image.\n * @param {number} blend How much to blend the adjusted contrast, where 0 means only use the original\n *                 and 100 means only use the adjusted contrast result.\n *                (Range: 0 to 100, Server default: 100)\n * @return {Actions.Effect.EffectActionWithBlendPercentage}\n */\nfunction autoContrast(blend) {\n    return new EffectActionWithBlend('auto_contrast', blend);\n}\n/**\n * @summary action\n * @description Adjusts the opacity of the image and makes it semi-transparent.\n * @memberOf Actions.Adjust\n * @param {number} level\n * @return {Actions.Adjust.OpacityAdjustAction}\n */\nfunction opacity(level) {\n    return new OpacityAdjustAction(level);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description Adjusts the image colors, contrast and brightness.\n * @return {Actions.Adjust.ImproveAction}\n */\nfunction improve() {\n    return new ImproveAction();\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description\n * Maps an input color and those similar to the input color to corresponding shades of a specified output color, taking luminosity and chroma into account, in order to recolor an object in a natural way.</br>\n * More highly saturated input colors usually give the best results. It is recommended to avoid input colors approaching white, black, or gray.\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#replace_color_effect | Replace colors example}\n * @param {string} toColor\n * @return {Actions.Adjust.ReplaceColorAction}\n */\nfunction replaceColor(toColor) {\n    return new ReplaceColorAction(toColor);\n}\n/**\n * @summary action\n * @memberOf Actions.Adjust\n * @description Converts the colors of every pixel in an image based on the supplied color matrix, in which the value of each color channel is calculated based on the values from all other channels (e.g. a 3x3 matrix for RGB, a 4x4 matrix for RGBA or CMYK, etc).</br>\n * For every pixel in the image, take each color channel and adjust its value by the specified values of the matrix to get a new value.\n * @param {number[][]} matrix\n * @return {Actions.Adjust.RecolorAction}\n */\nfunction recolor(matrix) {\n    return new RecolorAction(matrix);\n}\n/**\n * @summary action\n * @description Adjusts the fill light and blends the result with the original image.\n * @memberOf Actions.Adjust\n * @return {Actions.Adjust.FillLightAction}\n */\nfunction fillLight() {\n    return new FillLightAction();\n}\n/**\n * @summary action\n * @description\n * Applies a look-up table (LUT) file to the image.</br>\n * The 3dl file should be pre-uploaded as a raw file\n *\n * @param {string} publicId The public ID of the LUT file.\n * @memberOf Actions.Adjust\n * @return {Actions.Adjust.By3dLutAction}\n */\nfunction by3dLut(publicId) {\n    return new By3dLutAction(publicId);\n}\nconst Adjust = { brightness, viesusCorrect, opacity, red, sharpen, improve, saturation,\n    contrast, gamma, green, blue, brightnessHSB, hue, autoBrightness, autoColor,\n    autoContrast, vibrance, unsharpMask, opacityThreshold, replaceColor, recolor, fillLight, by3dLut, tint };\nexport { Adjust, brightness, viesusCorrect, opacity, red, sharpen, improve, saturation, contrast, gamma, green, blue, brightnessHSB, hue, autoBrightness, autoColor, autoContrast, vibrance, unsharpMask, opacityThreshold, replaceColor, recolor, fillLight, by3dLut, tint };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description Class for shortening a video to the specified range.\n * @extend {SDK.Action}\n */\nclass TrimAction extends Action {\n    constructor() {\n        super();\n    }\n    /**\n     *\n     * @description Support Percentages in values (30% -> 30p)\n     * @param {string|number} val\n     * @private\n     * @return {string}\n     */\n    parseVal(val) {\n        return typeof val === 'number' ? val : val.replace('%', 'p');\n    }\n    /**\n     * @description Sets the starting position of the part of the video to keep when trimming videos.\n     *\n     * @param {string|number} offset The starting position of the part of the video to keep. This can be specified as a\n     *                           float representing the time in seconds or a string representing the percentage of the\n     *                           video length (for example, \"30%\" or \"30p\").\n     * @return {this}\n     */\n    startOffset(offset) {\n        return this.addQualifier(new Qualifier('so', this.parseVal(offset)));\n    }\n    /**\n     * @description Sets the end position of the part of the video to keep when trimming videos.\n     *\n     * @param {string|number} offset The end position of the part of the video to keep. This can be specified as a\n     *                         float representing the time in seconds or a string representing the percentage of the\n     *                         video length (for example, \"30%\" or \"30p\").\n     * @return {this}\n     */\n    endOffset(offset) {\n        return this.addQualifier(new Qualifier('eo', this.parseVal(offset)));\n    }\n    /**\n     * @description Sets the duration of the video to keep.\n     *\n     * @param {string|number} duration The length of the part of the video to keep. This can be specified as a float\n     *                        representing the time in seconds or a string representing the percentage of the\n     *                        video length (for example, \"30%\" or \"30p\").\n     * @return {this}\n     */\n    duration(duration) {\n        return this.addQualifier(new Qualifier('du', this.parseVal(duration)));\n    }\n}\nexport default TrimAction;\n","import { Action } from \"../../internal/Action\";\nimport { Transformation } from \"../../transformation/Transformation\";\n/**\n * @description Class for Concatenating another video.\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#concatenating_videos | Concatenating videos}\n * @extend {SDK.Action}\n * @example\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n * import {VideoEdit} from \"@cloudinary/base/actions/videoEdit\";\n * import {Concatenate} from \"@cloudinary/base/qualifiers/concatenate\";\n * import {Transition} from \"@cloudinary/base/qualifiers/transition\";\n *\n * const yourCldInstance = new Cloudinary({cloud:{cloudName:'demo'}});\n * const video = yourCldInstance.video('dog');\n *\n * video.videoEdit(\n *  VideoEdit.concatenate(Concatenate.videoSource('butterfly'))\n *  .transition(Transition.videoSource('myTransition')) // can be omitted\n *  .duration(5) // can be omitted\n * )\n */\nclass ConcatenateAction extends Action {\n    /**\n     *\n     * @param {Qualifiers.Source.VideoSource | Qualifiers.Source.ImageSource | Qualifiers.Source.FetchSource} source\n     *         the Source to concatenate\n     */\n    constructor(source) {\n        super();\n        this.concatSource = source;\n    }\n    /**\n     * @description Sets the transition between a video and a concatenated source\n     * @param {Qualifiers.Transition.VideoSource} source The source to concatenate.\n     * @return {this}\n     */\n    transition(source) {\n        this._transition = source;\n        return this;\n    }\n    /**\n     * @description Prepend the concatenated video - Adds the video before the original\n     * @return {this}\n     */\n    prepend() {\n        this._prepend = true;\n        return this;\n    }\n    /**\n     * The duration in seconds\n     * @param {number} sec\n     * @return {this}\n     */\n    duration(sec) {\n        this._duration = sec;\n        return this;\n    }\n    /**\n     * @description Get the transitionString for the toString() method\n     * @return {string}\n     */\n    getTransitionString() {\n        const transTx = this._transition.getTransformation();\n        return [\n            `e_transition,${this._transition.getOpenSourceString('l')}`,\n            transTx && transTx.toString(),\n            'fl_layer_apply'\n        ].filter((a) => a).join('/');\n    }\n    /**\n     * @description Get the string representation of the Concatenation action\n     */\n    toString() {\n        /*\n         *\n         * The toString() method is composed of several steps due to the complex nature of the concatenate transformation.\n         *\n         * First, we calculate the open and close parts of the top-level transformation:\n         *   - {open}/{sourceTransformation}/{close}\n         *\n         * Unlike a regular overlay, there are multiple 'bits' appended to the open and close parts of the tx.\n         * - duration (du_) might be prepended on the opening of the layer (du_5,l_sample)\n         * - fl_splice is also added, but only if a transition is not needed.\n         *\n         * once we've calculated the open and close parts, we now need to deal with the Transition.\n         * the transition is an inner transformation on the source with a special effect (e_transition) appended to it.\n         *\n         * To calculate the transition string, we need to take the transformation from the source(assuming it has one)\n         */\n        // Calculate the open part\n        const open = [\n            this._duration && `du_${this._duration}`,\n            !this._transition && `fl_splice`,\n            `${this.concatSource.getOpenSourceString('l')}`\n        ].filter((a) => a).join(',');\n        // Calculate the open part\n        const close = [\n            'fl_layer_apply',\n            this._prepend && 'so_0'\n        ].filter((a) => a).join(',');\n        // Calculate the Transition part\n        let concatSourceTx;\n        if (this.concatSource.getTransformation()) {\n            concatSourceTx = this.concatSource.getTransformation();\n        }\n        else {\n            concatSourceTx = new Transformation();\n        }\n        if (this._transition) {\n            concatSourceTx.addTransformation(this.getTransitionString());\n        }\n        // Put it all together, the transition is already part of the concatSourceTx\n        return [\n            open,\n            concatSourceTx.toString(),\n            close\n        ].filter((a) => a).join('/');\n    }\n}\nexport default ConcatenateAction;\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @description Class to Controls the volume of an audio or video file.\n * @extend {SDK.Action}\n */\nclass VolumeAction extends Action {\n    constructor(volumeValue) {\n        super();\n        const qualifierValue = new QualifierValue(['volume', volumeValue]).setDelimiter(':');\n        this.addQualifier(new Qualifier('e', qualifierValue));\n    }\n}\nexport default VolumeAction;\n","import { Action } from \"../../internal/Action\";\nimport { toFloatAsString } from \"../../internal/utils/toFloatAsString\";\n/**\n * @description Class for creating a preview of a video\n * @memberOf Actions.VideoEdit\n * @extend {SDK.Action}\n */\nclass PreviewAction extends Action {\n    constructor() {\n        super();\n    }\n    /**\n     * @description Control the duration of the video segments\n     * @param {string|number} minSegDuration The duration of a video segment\n     * @return {this}\n     */\n    minimumSegmentDuration(minSegDuration) {\n        this._minSeg = minSegDuration;\n        return this;\n    }\n    /**\n     * @description Control the number of the video segments\n     * @param {string|number} maxSeg The number of the video segments.\n     * @return {this}\n     */\n    maximumSegments(maxSeg) {\n        this._maxSeg = maxSeg;\n        return this;\n    }\n    /**\n     * @description control the length of the generated preview\n     * @param {string|number} duration The duration in seconds such as 1.2, or 5.0\n     * @return {this}\n     */\n    duration(duration) {\n        this._duration = duration;\n        return this;\n    }\n    toString() {\n        return [\n            'e_preview',\n            this._duration && `duration_${toFloatAsString(this._duration)}`,\n            this._minSeg && `min_seg_dur_${toFloatAsString(this._minSeg)}`,\n            this._maxSeg && `max_seg_${toFloatAsString(this._maxSeg)}`\n        ].filter((a) => a).join(':');\n    }\n}\nexport { PreviewAction };\n","import TrimAction from './videoEdit/TrimAction';\nimport ConcatenateAction from './videoEdit/ConcatenateAction';\nimport VolumeAction from \"./videoEdit/VolumeAction\";\nimport { PreviewAction } from \"./videoEdit/PreviewAction\";\n/**\n * @summary action\n * @description Methods for editing a video.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/video_manipulation_and_delivery | Video manipulation}\n * @memberOf Actions\n * @namespace VideoEdit\n */\n/**\n * @summary action\n * @description Concatenates another video.\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#concatenating_videos | Concatenating videos}\n *\n * @memberOf Actions.VideoEdit\n * @param {VideoSource} source The source to concatenate.\n * @return {ConcatenateAction}\n */\nfunction concatenate(source) {\n    return new ConcatenateAction(source);\n}\n/**\n * @summary action\n * @description Trims a video (and discards the rest).\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#trimming_videos |\n  * Trimming videos}\n *\n * @memberOf Actions.VideoEdit\n * @return {TrimAction}\n */\nfunction trim() {\n    return new TrimAction();\n}\n/**\n * @summary action\n * @description Increases or decreases the volume by a percentage of the current volume.\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/audio_transformations#adjust_the_audio_volume |\n  * Adjust the audio volume}\n *\n * @memberOf Actions.VideoEdit\n * @param {string | number} volumeValue The value of volume. The percentage change of volume (Range: -100 to 400).\n * For a list of supported types see {@link Qualifiers.Volume| Volume values}\n * @return {VolumeAction}\n */\nfunction volume(volumeValue) {\n    return new VolumeAction(volumeValue);\n}\n/**\n * @summary action\n * @description A video preview is a short excerpt from a video that can be used to engage your audience and help them select the video content that interests them.\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#generate_an_ai_based_video_preview |\n  * Create a video preview}\n *\n * @memberOf Actions.VideoEdit\n * @return {Actions.VideoEdit.PreviewAction}\n */\nfunction preview() {\n    return new PreviewAction();\n}\nconst VideoEdit = { concatenate, trim, volume, preview };\nexport { VideoEdit, concatenate, trim, volume, preview };\n","import { Action } from \"../../internal/Action\";\nimport { FlagQualifier } from \"../../qualifiers/flag/FlagQualifier\";\n/**\n * @extends {SDK.Action}\n * @memberOf SDK\n * @description\n * A generic Layer action that can add a Video, Text or Image layer.<br>\n * This class can represent an overlay or an underlay.\n */\nclass LayerAction extends Action {\n    /**\n     * @description Creates a LayerAction to be used with overlays and underlays\n     * @param {ImageSource | TextSource | VideoSource} layerSource The Source used for the layer, use the builders provided {@link Qualifiers.Source|here}\n     */\n    constructor(layerSource) {\n        super();\n        this.source = layerSource;\n    }\n    /**\n     * @description Sets the layerType to 'u' (underlay) or 'l' (overlay).\n     * @param {'u' | 'l'} type\n     * @return {this}\n     */\n    setLayerType(type) {\n        this.layerType = type;\n        return this;\n    }\n    /**\n     * @description Sets the timeline position of the video layer\n     * @param {Qualifiers.TimelinePosition} timelinePosition\n     * @return {this}\n     */\n    timeline(timelinePosition) {\n        this._timelinePosition = timelinePosition;\n        return this;\n    }\n    /**\n     * @description Sets the position of the layer\n     * @param {Qualifiers.Position} position\n     * @return {this}\n     */\n    position(position) {\n        this._position = position;\n        return this;\n    }\n    /**\n     * @description Specifies how to blend the image overlay with the base overlay\n     * @param {Qualifiers.BlendMode} blendMode\n     * @return {this}\n     */\n    blendMode(blendMode) {\n        this._blendMode = blendMode;\n        return this;\n    }\n    /**\n     * @private\n     * @description\n     * Closes a layer (layers are built in three stages -> /Open/Transform/Close).\n     * @return {SDK.Action}\n     */\n    closeLayer() {\n        var _a, _b, _c, _d;\n        const bit = new Action().addFlag(new FlagQualifier('layer_apply'));\n        (_a = this._position) === null || _a === void 0 ? void 0 : _a.qualifiers.forEach((qualifier) => {\n            bit.addQualifier(qualifier);\n        });\n        // Flags are stored separately from qualifiers, we need to add those as well\n        (_b = this._position) === null || _b === void 0 ? void 0 : _b.flags.forEach((flag) => {\n            bit.addFlag(flag);\n        });\n        (_c = this._blendMode) === null || _c === void 0 ? void 0 : _c.qualifiers.forEach((qualifier) => {\n            bit.addQualifier(qualifier);\n        });\n        (_d = this._timelinePosition) === null || _d === void 0 ? void 0 : _d.qualifiers.forEach((qualifier) => {\n            bit.addQualifier(qualifier);\n        });\n        return bit;\n    }\n    /**\n     * @private\n     * @description\n     * Opens a layer (layers are built in three stages -> /Open/Transform/Close).\n     * @return string\n     */\n    openLayer() {\n        return `${this.source.getOpenSourceString(this.layerType)}`;\n    }\n    /**\n     * @description\n     * Serializes the Layer to a string\n     * @return {string}\n     */\n    toString() {\n        return [\n            this.openLayer(),\n            this.source.getTransformation() && this.source.getTransformation().toString(),\n            this.closeLayer()\n        ].filter((a) => a).join('/');\n    }\n}\nexport { LayerAction };\n","import { LayerAction } from \"./layer/LayerAction\";\n/**\n * @description Adds a video, text or an image layer as an overlay over the base layer. </br>\n * @memberOf Actions\n * @namespace Overlay\n * @example\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n *\n * const yourCldInstance = new Cloudinary({cloud:{cloudName:'demo'}});\n * const image = yourCldInstance.image('woman');\n *\n * image.overlay(\n *       Overlay.source(Source.image('sample'))\n *     )\n */\n/**\n * @summary action\n * @memberOf Actions.Overlay\n * @description Adds a layer for an asset\n * @param {Qualifiers.Source.ImageSource | Qualifiers.Source.TextSource | Qualifiers.Source.VideoSource} source\n *        The Source used for the layer, use the functions provided {@link Qualifiers.Source|here} to easily create these objects\n * @return {SDK.LayerAction}\n */\nfunction source(source) {\n    return new LayerAction(source)\n        .setLayerType('l');\n}\nconst Overlay = { source };\nexport { Overlay, source };\n","import { LayerAction } from \"./layer/LayerAction\";\n/**\n * @memberOf Actions\n * @namespace Underlay\n * @description Adds an image or a text layer as an underlay under the base layer. </br>\n * @example\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n *\n * const yourCldInstance = new Cloudinary({cloud:{cloudName:'demo'}});\n * const image = yourCldInstance.image('woman');\n * image.underlay(\n *       Underlay.source(Source.image('sample'))\n *     )\n */\n/**\n * @summary action\n * @description Adds a layer for an asset\n * @param {Qualifiers.Source.ImageSource | Qualifiers.Source.TextSource} source\n *        The Source used for the layer, use the functions provided {@link Qualifiers.Source|here} to easily create these objects\n * @memberOf Actions.Underlay\n * @return {SDK.LayerAction}\n */\nfunction source(source) {\n    return new LayerAction(source)\n        .setLayerType('u');\n}\nconst Underlay = { source };\nexport { Underlay, source };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nclass NamedTransformationAction extends Action {\n    constructor(name) {\n        super();\n        this.addQualifier(new Qualifier('t', name));\n    }\n}\nexport { NamedTransformationAction };\n","import { NamedTransformationAction } from \"./namedTransformation/NamedTransformationAction\";\n/**\n * Applies a pre-defined named transformation of the given name.\n * @memberOf Actions\n * @namespace NamedTransformation\n */\n/**\n * @summary action\n * @description Applies a pre-defined named transformation of the given name.\n * @param {string} name Transformation name\n * @memberOf Actions.NamedTransformation\n * @return {NamedTransformationAction}\n */\nfunction name(name) {\n    return new NamedTransformationAction(name);\n}\nconst NamedTransformation = { name };\nexport { NamedTransformation, name };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description Qualifies the delivery of an asset.\n * @memberOf Actions.Delivery\n * @extends {SDK.Action}\n */\nclass DeliveryAction extends Action {\n    constructor(deliveryKey, deliveryType) {\n        super();\n        this.addQualifier(new Qualifier(deliveryKey, deliveryType));\n    }\n}\nexport { DeliveryAction };\n","/**\n * @description Contains functions to select the mode when using a progressive format.\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/transformation_reference#fl_progressive | Progressive modes}\n * @memberOf Qualifiers\n * @namespace Progressive\n * @example\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n * import {format} from \"@cloudinary/base/actions/delivery\";\n * import {jpg} from \"@cloudinary/base/qualifiers/format\";\n * import {steep} from \"@cloudinary/base/qualifiers/progressive\";\n *\n * const yourCldInstance = new Cloudinary({cloud: {cloudName: 'demo'}});\n * const image = yourCldInstance.image('woman');\n * image.delivery(format(jpg()).progressive(steep()))\n */\nimport { FlagQualifier } from \"./flag/FlagQualifier\";\nclass ProgressiveQualifier extends FlagQualifier {\n    constructor(mode) {\n        super('progressive', mode);\n    }\n}\n/**\n * @memberOf Qualifiers.Progressive\n */\nfunction none() {\n    return new ProgressiveQualifier('none');\n}\n/**\n * @memberOf Qualifiers.Progressive\n */\nfunction semi() {\n    return new ProgressiveQualifier('semi');\n}\n/**\n * @memberOf Qualifiers.Progressive\n */\nfunction steep() {\n    return new ProgressiveQualifier('steep');\n}\n/**\n * @memberOf Qualifiers.Progressive\n */\nfunction progressive() {\n    return new ProgressiveQualifier();\n}\nconst Progressive = {\n    semi,\n    none,\n    steep,\n    progressive,\n    ProgressiveQualifier\n};\nexport { Progressive, semi, none, steep, progressive, ProgressiveQualifier };\n","import { lossy, preserveTransparency, progressive } from \"../../qualifiers/flag\";\nimport { DeliveryAction } from \"./DeliveryAction\";\nimport { ProgressiveQualifier } from \"../../qualifiers/progressive\";\n/**\n * @memberOf Actions.Delivery\n * @extends {Actions.Delivery.DeliveryAction}\n */\nclass DeliveryFormat extends DeliveryAction {\n    /**\n     * @description Uses lossy compression when delivering animated GIF files.\n     * @return {this}\n     */\n    lossy() {\n        this.addFlag(lossy());\n        return this;\n    }\n    /**\n     * @description Uses progressive compression when delivering JPG file format.\n     * @return {this}\n     */\n    progressive(mode) {\n        if (mode instanceof ProgressiveQualifier) {\n            this.addFlag(mode);\n        }\n        else {\n            this.addFlag(progressive(mode));\n        }\n        return this;\n    }\n    /**\n     * @description Ensures that images with a transparency channel are delivered in PNG format.\n     */\n    preserveTransparency() {\n        this.addFlag(preserveTransparency());\n        return this;\n    }\n}\nexport { DeliveryFormat };\n","import { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { DeliveryAction } from \"./DeliveryAction\";\n/**\n * @description Controls the quality of the delivered image or video.\n * @memberOf Actions.Delivery\n * @extends {Actions.Delivery.DeliveryAction}\n */\nclass DeliveryQualityAction extends DeliveryAction {\n    constructor(qualityValue) {\n        super('q', qualityValue.toString());\n        this.qualityValue = qualityValue;\n    }\n    chromaSubSampling(type) {\n        const qualityWithSubSampling = new QualifierValue([this.qualityValue, type]);\n        qualityWithSubSampling.setDelimiter(':');\n        // We either have chroma or quantization, but not both\n        return this.addQualifier(new Qualifier('q', qualityWithSubSampling));\n    }\n    quantization(val) {\n        const qualityWithQuantization = new QualifierValue([this.qualityValue, `qmax_${val}`]);\n        qualityWithQuantization.setDelimiter(':');\n        // We either have chroma or quantization, but not both\n        return this.addQualifier(new Qualifier('q', qualityWithQuantization));\n    }\n}\nexport { DeliveryQualityAction };\n","import { Action } from \"../../internal/Action\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @description Specifies the ICC profile to use for the color space.\n * @memberOf Actions.Delivery\n * @extends {SDK.Action}\n */\nclass DeliveryColorSpaceFromICC extends Action {\n    constructor(publicId) {\n        super();\n        const qualifierValue = new QualifierValue(['icc', publicId]).setDelimiter(':');\n        this.addQualifier(new Qualifier('cs', qualifierValue));\n    }\n}\nexport { DeliveryColorSpaceFromICC };\n","/**\n * @description Defines transformations for delivering your assets without changing the visual or audio experience for the end user.\n * @memberOf Actions\n * @namespace Delivery\n */\nimport { DeliveryFormat } from \"./delivery/DeliveryFormat\";\nimport { DeliveryQualityAction } from \"./delivery/DeliveryQuality\";\nimport { toFloatAsString } from \"../internal/utils/toFloatAsString\";\nimport { DeliveryColorSpaceFromICC } from \"./delivery/DeliveryColorSpaceFromICC\";\nimport { DeliveryAction } from \"./delivery/DeliveryAction\";\n/**\n * @summary action\n * @description Defines the format of the delivered asset.\n *\n * <b>Learn more:</b>\n * {@link https://cloudinary.com/documentation/image_transformations#image_format_support | Image formats}\n * {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#transcoding_video_to_other_formats |\n  * Video formats}\n *\n * @memberOf Actions.Delivery\n * @param {string} format The file format. For a list of supported format types see {@link Qualifiers.formatTypeValues|\n  * format types} for\n * possible values\n * @return {Actions.Delivery.DeliveryFormat}\n */\nfunction format(format) {\n    return new DeliveryFormat('f', format);\n}\n/**\n * @summary action\n * @description Deliver the image in the specified device pixel ratio.\n * @memberOf Actions.Delivery\n * @param {string} dpr The DPR (Device Pixel Ratio). Any positive float value.\n * @return {Actions.Delivery.DeliveryAction}\n */\nfunction dpr(dpr) {\n    // toFloatAsString is used to ensure 1 turns into 1.0\n    return new DeliveryAction('dpr', toFloatAsString(dpr));\n}\n/**\n * @summary action\n * @description Controls the quality of the delivered image or video.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_optimization#how_to_optimize_image_quality | Image quality}\n *  {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#quality_control | Video quality}\n * @memberOf Actions.Delivery\n * @param {string | number} qualityType For a list of supported quality types see {@link Qualifiers.qualityTypeValues| quality types} for\n * possible values.\n * @return {Actions.Delivery.DeliveryQualityAction}\n */\nfunction quality(qualityType) {\n    return new DeliveryQualityAction(qualityType);\n}\n/**\n * @summary action\n * @description Controls the density to use when delivering an image or when converting a vector file such as a PDF or EPS\n * document to a web image delivery format.\n * @memberOf Actions.Delivery\n * @param {string} value The density in dpi.\n * @return {Actions.Delivery.DeliveryAction}\n */\nfunction density(value) {\n    return new DeliveryAction('dn', value);\n}\n/**\n * @summary action\n * @description Default images can be used in the case that a requested image does not exist.\n * @memberOf Actions.Delivery\n * @param {string} publicIdWithExtension Default image public ID\n * @return {Actions.Delivery.DeliveryAction}\n */\nfunction defaultImage(publicIdWithExtension) {\n    return new DeliveryAction('d', publicIdWithExtension);\n}\n/**\n * @summary action\n * @description Controls the color space used for the delivered image.\n * @memberOf Actions.Delivery\n * @param {string} mode The color space.\n * @return {Actions.Delivery.DeliveryAction}\n */\nfunction colorSpace(mode) {\n    return new DeliveryAction('cs', mode);\n}\n/**\n * @summary action\n * @description Specifies the ICC profile to use for the color space.\n * The ICC file must be uploaded to your account as a raw, authenticated file.\n * @memberOf Actions.Delivery\n * @param {string} publicId The public ID (including the file extension) of the ICC profile that defines the\n * color space.\n * @return {Actions.Delivery.DeliveryColorSpaceFromICC}\n */\nfunction colorSpaceFromICC(publicId) {\n    return new DeliveryColorSpaceFromICC(publicId);\n}\nconst Delivery = {\n    format,\n    dpr,\n    density,\n    defaultImage,\n    colorSpace,\n    colorSpaceFromICC,\n    quality\n};\nexport { Delivery, format, dpr, quality, density, defaultImage, colorSpace, colorSpaceFromICC };\n","/**\n *\n * @private\n * @description An isomorphic Base64 function, provides browser and server support.\n * @param {string} input - A string to encode with base64\n */\nfunction base64Encode(input) {\n    // Browser\n    let encodedResult = '';\n    if (typeof window !== 'undefined') {\n        // encodeURI the input to support unicode characters\n        // Since the URI might be encoded already, we try to decode it once before\n        encodedResult = btoa(encodeURI(decodeURI(input)));\n    }\n    else {\n        // NodeJS support\n        encodedResult = global.Buffer.from(input).toString('base64');\n    }\n    return encodedResult;\n}\nexport { base64Encode };\n","import { base64Encode } from \"../../internal/utils/base64Encode\";\nimport { Action } from \"../../internal/Action\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n */\nclass CustomFunctionAction extends Action {\n    constructor(fn) {\n        super();\n        this.fn = fn;\n    }\n    encodeCustomFunctionString(fn) {\n        const encodedSource = base64Encode(fn)\n            .replace(/\\+/g, '-') // Convert '+' to '-'\n            .replace(/\\//g, '_'); // Convert '/' to '_'\n        return encodedSource;\n    }\n    asWasm() {\n        this.mode = 'wasm';\n        return this;\n    }\n    asRemote() {\n        this.mode = 'remote';\n        return this;\n    }\n    prepareQualifiers() {\n        this.encodedFn = this.fn;\n        if (this.mode === 'remote') {\n            this.encodedFn = this.encodeCustomFunctionString(this.fn);\n        }\n        return this.addQualifier(new Qualifier('fn', new QualifierValue([this.pre, this.mode, this.encodedFn])));\n    }\n}\nexport default CustomFunctionAction;\n","import CustomFunctionAction from \"./CustomFunctionAction\";\nclass RemoteAction extends CustomFunctionAction {\n    constructor(fn) {\n        /* istanbul ignore next */\n        // Required due to https://github.com/microsoft/TypeScript/issues/13029\n        super(fn);\n    }\n    preprocess() {\n        this.pre = 'pre';\n        return this;\n    }\n}\nexport default RemoteAction;\n","/**\n * Calls a custom function. </br>\n * Learn more: {@link https://cloudinary.com/documentation/custom_functions | Custom functions}\n * @memberOf Actions\n * @namespace CustomFunction\n */\nimport CustomFunctionAction from \"./customFunction/CustomFunctionAction\";\nimport RemoteAction from \"./customFunction/RemoteAction\";\n/**\n * @summary action\n * @description - Calls a custom function. </br>\n * For more information about remote custom functions see {@link https://cloudinary.com/documentation/custom_functions#remote_functions | the documentation}\n * @param {string} path - Specifies the URL of the remote custom function.\n * @memberOf Actions.CustomFunction\n * @return {CustomFunctionAction}\n */\nfunction remote(path) {\n    return new RemoteAction(path)\n        .asRemote();\n}\n/**\n * @summary action\n * @description - Calls a custom function.  </br>\n * For more information about wasm custom functions see {@link https://cloudinary.com/documentation/custom_functions#webassembly_functions | the documentation}\n * @param {string} publicID - Specifies the publicID of the custom function stored in Cloudinary\n * @memberOf Actions.CustomFunction\n * @return {CustomFunctionAction}\n */\nfunction wasm(publicID) {\n    return new CustomFunctionAction(publicID)\n        .asWasm();\n}\nconst CustomFunction = { remote, wasm };\nexport { CustomFunction, remote, wasm };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @extend {SDK.Action}\n * @memberOf Actions.Transcode\n * @description  Defines the video bitrate in bits per second.\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#bitrate_control | Bitrate control}\n */\nclass BitRateAction extends Action {\n    constructor(bitRate) {\n        super();\n        this.isConstant = false;\n        this.bitRate = bitRate;\n    }\n    /**\n     * @description video plays with a constant bitrate (CBR).\n     */\n    constant() {\n        this.isConstant = true;\n        return this;\n    }\n    prepareQualifiers() {\n        let qualifierValue;\n        if (this.isConstant) {\n            qualifierValue = new QualifierValue([this.bitRate, 'constant']).setDelimiter(':');\n        }\n        else {\n            qualifierValue = new QualifierValue(this.bitRate);\n        }\n        this.addQualifier(new Qualifier('br', qualifierValue));\n        return this;\n    }\n}\nexport default BitRateAction;\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @extend {SDK.Action}\n * @memberOf Actions.Transcode\n * @description Controls the audio codec or removes the audio channel.\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/audio_transformations#audio_frequency_control | Audio codec settings}\n */\nclass AudioCodecAction extends Action {\n    constructor(codec) {\n        super();\n        this.addQualifier(new Qualifier('ac', codec));\n    }\n}\nexport default AudioCodecAction;\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @extend {SDK.Action}\n * @memberOf Actions.Transcode\n * @description Controls audio sample frequency.\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/audio_transformations#audio_codec_settings | Audio frequency control}\n */\nclass AudioFrequencyAction extends Action {\n    constructor(freq) {\n        super();\n        this.addQualifier(new Qualifier('af', freq));\n    }\n}\nexport default AudioFrequencyAction;\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @extend {SDK.Action}\n * @memberOf Actions.Transcode\n * @description Controls the FPS (Frames Per Second) to ensure that video (even when optimized)\n * is delivered with\n * an expected FPS level (helps with sync to audio).\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_transformation_reference#video_settings | Video settings}\n */\nclass FPSAction extends Action {\n    constructor(from) {\n        super();\n        this.addQualifier(new Qualifier('fps', from));\n    }\n}\nexport default FPSAction;\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @extend {SDK.Action}\n * @memberOf Actions.Transcode\n * @description Controls the range of acceptable FPS (Frames Per Second) to ensure that video (even when optimized)\n * is delivered with\n * an expected FPS level (helps with sync to audio).\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_transformation_reference#video_settings | Video settings}\n */\nclass FPSRangeAction extends Action {\n    constructor(from, to) {\n        super();\n        this.from = from;\n        this.to = to;\n    }\n    prepareQualifiers() {\n        let qualifierValue;\n        if (this.from && this.to) {\n            qualifierValue = new QualifierValue(`${this.from}-${this.to}`);\n        }\n        else {\n            qualifierValue = new QualifierValue(`${this.from}-`);\n        }\n        this.addQualifier(new Qualifier('fps', qualifierValue));\n        return this;\n    }\n}\nexport default FPSRangeAction;\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { toFloatAsString } from \"../../internal/utils/toFloatAsString\";\n/**\n * @extend {SDK.Action}\n * @memberOf Actions.Transcode\n * @description Controls the keyframe interval of the delivered video.\n */\nclass KeyframeIntervalsAction extends Action {\n    constructor(interval) {\n        super();\n        this.addQualifier(new Qualifier('ki', toFloatAsString(interval)));\n    }\n}\nexport default KeyframeIntervalsAction;\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @extend {SDK.Action}\n * @memberOf Actions.Transcode\n * @description The predefined streaming profiles.\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#predefined_streaming_profiles | Predefined streaming profiles}\n */\nclass StreamingProfileAction extends Action {\n    constructor(profile) {\n        super();\n        this.addQualifier(new Qualifier('sp', profile));\n    }\n}\nexport default StreamingProfileAction;\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { animatedWebP } from \"../../qualifiers/flag\";\nimport { animated } from \"../../qualifiers/flag\";\n/**\n * @extend {SDK.Action}\n * @memberOf Actions.Transcode\n * @description Converts a video to an animated webp or gif.\n * The resulting transformation includes format (f_format) and the animated flag (fl_animated).\n * The flag fl_awebp is added only when an animated webp is requested.\n */\nclass ToAnimatedAction extends Action {\n    constructor(animatedFormat) {\n        super();\n        if (animatedFormat.toString() === 'webp') {\n            this.addFlag(animatedWebP());\n        }\n        this.addFlag(animated());\n        this.addQualifier(new Qualifier('f', animatedFormat));\n    }\n    /**\n     * @description Sets the time between frames.\n     * @param delayValue The time in milliseconds.\n     */\n    delay(delayValue) {\n        this.addQualifier(new Qualifier('dl', delayValue));\n        return this;\n    }\n    /**\n     * @description Sets the frequency at which the video is sampled.\n     * @param sampling As a string (e.g. '2.3s'), samples one frame every 2.3 seconds.<br>As a number (e.g. 20),\n     * samples that many equally spaced frames over the duration of the video.\n     */\n    sampling(sampling) {\n        this.addQualifier(new Qualifier('vs', sampling));\n        return this;\n    }\n}\nexport default ToAnimatedAction;\n","import { Action } from \"../../internal/Action\";\n/**\n * @extends {SDK.Action}\n * @memberOf Actions.Transcode\n * @description Converts a video to an animated webp or gif.\n */\nclass VideoCodecAction extends Action {\n    constructor(videoCodecTypeQualifier) {\n        super();\n        this.addQualifier(videoCodecTypeQualifier);\n    }\n}\nexport { VideoCodecAction };\n","import BitRateAction from \"./transcode/BitRateAction\";\nimport AudioCodecAction from \"./transcode/AudioCodecAction\";\nimport AudioFrequencyAction from \"./transcode/AudioFrequencyAction\";\nimport FPSAction from \"./transcode/FPSAction\";\nimport FPSRangeAction from \"./transcode/FPSRangeAction\";\nimport KeyframeIntervalsAction from \"./transcode/KeyframeIntervalsAction\";\nimport StreamingProfileAction from \"./transcode/StreamingProfile\";\nimport ToAnimatedAction from \"./transcode/ToAnimatedAction\";\nimport { VideoCodecAction } from \"./transcode/VideoCodecAction\";\n/**\n * @description Defines how to transcode a video to another format\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#transcoding_video_to_other_formats | Transcoding video to other formats}\n * @memberOf Actions\n * @namespace Transcode\n */\n/**\n * @summary action\n * @memberOf Actions.Transcode\n * @description Sets the audio sample frequency.\n *\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/audio_transformations#audio_frequency_control | Audio frequency control}\n * @param {string|number} freq The audio frequency.\n * @return {AudioFrequencyAction}\n */\nfunction audioFrequency(freq) {\n    return new AudioFrequencyAction(freq);\n}\n/**\n * @summary action\n * @memberOf Actions.Transcode\n * @description Sets the audio codec or removes the audio channel.\n * @param {string} codec The audio codec or \"none\".\n * @return {AudioCodecAction}\n */\nfunction audioCodec(codec) {\n    return new AudioCodecAction(codec);\n}\n/**\n * @summary action\n * @memberOf Actions.Transcode\n * @description Controls the video bitrate.\n * Supported codecs: h264, h265 (MPEG-4); vp8, vp9 (WebM).\n *\n * <b>Learn more:</b>\n * {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#bitrate_control | Bitrate control}\n *\n * @param {string|number}  bitRate The number of bits used to represent the video data per second. By default the video\n *                             uses a variable bitrate (VBR), with this value indicating the maximum bitrate.\n *                             The value can be an integer e.g. 120000, or a string supporting \"k\" and \"m\"\n *                             (kilobits and megabits respectively) e.g. 250k or 2m.\n * @return {BitRateAction}\n */\nfunction bitRate(bitRate) {\n    return new BitRateAction(bitRate);\n}\n/**\n * @summary action\n * @memberOf Actions.Transcode\n * @param {number} from frame rate\n * @return {FPSAction}\n */\nfunction fps(from) {\n    return new FPSAction(from);\n}\n/**\n * @summary action\n * @memberOf Actions.Transcode\n * @description Controls the range of acceptable FPS (Frames Per Second) to ensure that video (even when optimized) is\n * delivered with an expected FPS level (helps with sync to audio).\n * @param {number} from frame rate\n * @param {number} to frame rate\n * @return {FPSRangeAction}\n */\nfunction fpsRange(from, to) {\n    return new FPSRangeAction(from, to);\n}\n/**\n * @summary action\n * @memberOf Actions.Transcode\n * @description Sets the keyframe interval of the delivered video.\n * @param {number | string} interval The keyframe interval in seconds.\n * @return {KeyframeIntervalsAction}\n */\nfunction keyframeInterval(interval) {\n    return new KeyframeIntervalsAction(interval);\n}\n/**\n * @summary action\n * @memberOf Actions.Transcode\n * @description Sets the streaming profile to apply to an HLS or MPEG-DASH adaptive bitrate streaming video.\n * The value can be one of the pre-defined streaming profiles or a custom-defined one.\n * You can use the streaming profiles methods of StreamingProfilesTrait to get a list of the available streaming\n * profiles or to create new custom profiles.\n * @param {string} profile The streaming profile.\n * @return {StreamingProfileAction}\n */\nfunction streamingProfile(profile) {\n    return new StreamingProfileAction(profile);\n}\n/**\n * @summary action\n * @memberOf Actions.Transcode\n * @description Converts a video to animated image.\n * @param {string} animatedFormat The streaming profile.\n * @return {ToAnimatedAction}\n */\nfunction toAnimated(animatedFormat) {\n    return new ToAnimatedAction(animatedFormat);\n}\n/**\n * @summary action\n * @memberOf Actions.Transcode\n * @description Controls the video codec.\n * @param {Qualifiers.VideoCodec.VideoCodecType | Qualifiers.VideoCodec.AdvVideoCodecType} videoCodecType CodecType\n * @example // Setting the video codec\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n * import {vp9} from '@cloudinary/base/qualifiers/videoCodec'\n * import {videoCodec} from '@cloudinary/base/actions/transcode'\n *\n * const yourCldInstance = new Cloudinary({cloud:{cloudName:'demo'}});\n * const video = yourCldInstance.video('dog');\n *\n * video.transcode( videoCodec( vp9() ) );\n * @return {Actions.Transcode.VideoCodecAction}\n */\nfunction videoCodec(videoCodecType) {\n    return new VideoCodecAction(videoCodecType);\n}\nconst Transcode = { bitRate, audioCodec, audioFrequency, fps, fpsRange, keyframeInterval, streamingProfile, toAnimated, videoCodec };\nexport { Transcode, bitRate, audioCodec, audioFrequency, fps, fpsRange, keyframeInterval, streamingProfile, toAnimated, videoCodec };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\nimport { clip, clipEvenOdd } from \"../../qualifiers/flag\";\n/**\n * @description  Defines the clipping path to use when trimming pixels.\n * @memberOf Actions.PSDTools\n * @extends {SDK.Action}\n */\nclass ClipAction extends Action {\n    constructor() {\n        super();\n        this.isEvenOdd = false;\n    }\n    /**\n     * @description The name of the path to clip by\n     * @param {string} path\n     * @return {this}\n     */\n    byName(path) {\n        this.path = path;\n        return this;\n    }\n    /**\n     * @description The index of the path to clip by\n     * @param {number} path\n     * @return {this}\n     */\n    byIndex(path) {\n        this.path = path;\n        return this;\n    }\n    /**\n     * @description Trims pixels according to a clipping path included in the original image using an evenodd clipping rule.\n     * @return {this}\n     */\n    evenOdd() {\n        this.isEvenOdd = true;\n        return this;\n    }\n    prepareQualifiers() {\n        let qualifierValue;\n        if (typeof this.path === 'string') {\n            qualifierValue = new QualifierValue(['name', this.path]).setDelimiter(':');\n        }\n        else {\n            qualifierValue = new QualifierValue(this.path);\n        }\n        //handles flag\n        if (this.isEvenOdd) {\n            this.addFlag(clipEvenOdd());\n        }\n        else {\n            this.addFlag(clip());\n        }\n        this.addQualifier(new Qualifier('pg', qualifierValue));\n        return this;\n    }\n}\nexport default ClipAction;\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @description Represents a layer in a Photoshop document.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/paged_and_layered_media#deliver_selected_layers_of_a_psd_image | Deliver selected layers of a PSD image}\n * @memberOf Actions.PSDTools\n * @extends {SDK.Action}\n */\nclass GetLayerAction extends Action {\n    constructor() {\n        super();\n        this.qualifierValue = new QualifierValue();\n        this.qualifierValue.delimiter = ';';\n    }\n    /**\n     * @description deliver an image containing only specified layer of a Photoshop image from The layer index\n     * @param {string|number}  the index of the layer\n     */\n    byIndex(from) {\n        this.qualifierValue.addValue(from);\n        return this;\n    }\n    /**\n     * @description deliver an image containing only specified range of layers of a Photoshop image\n     * @param {string|number} from The layer number\n     * @param {string|number} to The layer number\n     */\n    byRange(from, to) {\n        const range = new QualifierValue(from);\n        range.addValue(to);\n        range.delimiter = '-';\n        this.qualifierValue.addValue(range);\n        return this;\n    }\n    /**\n     * @description deliver an image containing only specified layer by name of a Photoshop image\n     * @param {string|number} name The layer by name\n     */\n    byName(name) {\n        this.name = name;\n        this.qualifierValue.addValue(name);\n        return this;\n    }\n    prepareQualifiers() {\n        let qualifierValue = this.qualifierValue;\n        if (this.name) {\n            qualifierValue = new QualifierValue(['name', this.qualifierValue]).setDelimiter(':');\n        }\n        this.addQualifier(new Qualifier('pg', qualifierValue));\n        return this;\n    }\n}\nexport default GetLayerAction;\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @description Represents an embedded smart object in a Photoshop document.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/paged_and_layered_media#extract_the_original_content_of_an_embedded_object\n  * | Extract the original content of an embedded Photoshop object}\n * @memberOf Actions.PSDTools\n * @extends {SDK.Action}\n */\nclass SmartObjectAction extends Action {\n    constructor() {\n        super();\n        this.qualifierValue = new QualifierValue();\n        this.useName = false;\n        this.qualifierValue.delimiter = ';';\n    }\n    /**\n     * @description Creates a new instance using the specified number.\n     * @param index The number.\n     */\n    byIndex(index) {\n        this.smartObjectValue = index;\n        this.qualifierValue.addValue(index);\n        return this;\n    }\n    /**\n     * @description Creates an instance using the name.\n     * @param {string} layerName The name of the layer\n     */\n    byLayerName(layerName) {\n        this.useName = true;\n        this.qualifierValue.addValue(layerName);\n        return this;\n    }\n    prepareQualifiers() {\n        let qualifierValue;\n        if (this.useName) {\n            qualifierValue = new QualifierValue(['embedded:name', this.qualifierValue]);\n        }\n        else {\n            qualifierValue = new QualifierValue(['embedded', this.qualifierValue]);\n        }\n        this.addQualifier(new Qualifier('pg', qualifierValue));\n    }\n}\nexport default SmartObjectAction;\n","import ClipAction from \"./psdTools/ClipAction\";\nimport GetLayerAction from \"./psdTools/GetLayerAction\";\nimport SmartObjectAction from \"./psdTools/SmartObjectAction\";\n/**\n * @description Represents a layer in a Photoshop document.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/paged_and_layered_media#deliver_selected_layers_of_a_psd_image | Deliver selected layers of a PSD image}\n * @memberOf Actions\n * @namespace PSDTools\n */\n/**\n * @summary action\n * @description Trims the pixels of a PSD image according to a Photoshop clipping path that is stored in the image's metadata.\n * @memberOf Actions.PSDTools\n * @return {Actions.PSDTools.ClipAction}\n */\nfunction clip() {\n    return new ClipAction();\n}\n/**\n * @summary action\n * @description Delivers an image containing only specified layers of a Photoshop image.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/paged_and_layered_media#deliver_selected_layers_of_a_psd_image | Deliver selected layers of a PSD image}\n * @memberOf Actions.PSDTools\n * @return {Actions.PSDTools.GetLayerAction}\n */\nfunction getLayer() {\n    return new GetLayerAction();\n}\n/**\n * @summary action\n * @description Extracts the original content of an embedded object of a Photoshop image.\n * @memberOf Actions.PSDTools\n * @return {Actions.PSDTools.SmartObjectAction}\n */\nfunction smartObject() {\n    return new SmartObjectAction();\n}\nconst PSDTools = { clip, getLayer, smartObject };\nexport { PSDTools, clip, getLayer, smartObject };\n","/**\n * @namespace Actions\n */\nimport { RoundCorners } from \"./actions/roundCorners\";\nimport { Resize } from \"./actions/resize\";\nimport { Border } from \"./actions/border\";\nimport { Effect } from \"./actions/effect\";\nimport { Rotate } from \"./actions/rotate\";\nimport { Adjust } from \"./actions/adjust\";\nimport { VideoEdit } from \"./actions/videoEdit\";\nimport { Overlay } from \"./actions/overlay\";\nimport { Underlay } from \"./actions/underlay\";\nimport { NamedTransformation } from './actions/namedTransformation';\nimport { Delivery } from \"./actions/delivery\";\nimport { CustomFunction } from './actions/customFunction';\nimport { Transcode } from \"./actions/transcode\";\nimport { PSDTools } from \"./actions/psdTools\";\nconst Actions = {\n    Resize,\n    Border,\n    RoundCorners,\n    Effect,\n    Rotate,\n    Adjust,\n    Overlay,\n    Underlay,\n    NamedTransformation,\n    Delivery,\n    CustomFunction,\n    VideoEdit,\n    Transcode,\n    PSDTools\n};\nexport { Actions };\n","import { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @memberOf Qualifiers.AnimatedFormat\n * @extends {SDK.QualifierValue}\n */\nclass AnimatedFormatQualifierValue extends QualifierValue {\n}\nexport { AnimatedFormatQualifierValue };\n","import { AnimatedFormatQualifierValue } from \"./animatedFormat/AnimatedFormatQualifierValue\";\n/**\n * @description Contains methods to specify the animated format\n * @namespace AnimatedFormat\n * @memberOf Qualifiers\n */\n/**\n * @description Automatically sets the animated format\n * @summary qualifier\n * @memberOf Qualifiers.AnimatedFormat\n * @return {Qualifiers.AnimatedFormatQualifierValue}\n */\nfunction auto() {\n    return new AnimatedFormatQualifierValue('auto');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AnimatedFormat\n * @return {Qualifiers.AnimatedFormatQualifierValue}\n */\nfunction gif() {\n    return new AnimatedFormatQualifierValue('gif');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AnimatedFormat\n * @return {Qualifiers.AnimatedFormatQualifierValue}\n */\nfunction webp() {\n    return new AnimatedFormatQualifierValue('webp');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AnimatedFormat\n * @return {Qualifiers.AnimatedFormatQualifierValue}\n */\nfunction png() {\n    return new AnimatedFormatQualifierValue('png');\n}\nconst AnimatedFormat = { auto, gif, webp, png };\nexport { auto, gif, webp, png, AnimatedFormat };\n","/**\n * @description Contains methods to specify the type of artistic filter </br>\n * Learn more: {@link https://cloudinary.com/documentation/image_transformations#artistic_filter_effects | Custom functions}\n * @namespace ArtisticFilter\n * @memberOf Qualifiers\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction alDente() {\n    return 'al_dente';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction athena() {\n    return 'athena';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction audrey() {\n    return 'audrey';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction aurora() {\n    return 'aurora';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction daguerre() {\n    return 'daguerre';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction eucalyptus() {\n    return 'eucalyptus';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction fes() {\n    return 'fes';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction frost() {\n    return 'frost';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction hairspray() {\n    return 'hairspray';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction hokusai() {\n    return 'hokusai';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction incognito() {\n    return 'incognito';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction linen() {\n    return 'linen';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction peacock() {\n    return 'peacock';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction primavera() {\n    return 'primavera';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction quartz() {\n    return 'quartz';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction redRock() {\n    return 'red_rock';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction refresh() {\n    return 'refresh';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction sizzle() {\n    return 'sizzle';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction sonnet() {\n    return 'sonnet';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction ukulele() {\n    return 'ukulele';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ArtisticFilter\n */\nfunction zorro() {\n    return 'zorro';\n}\nconst ArtisticFilter = {\n    alDente,\n    athena,\n    audrey,\n    aurora,\n    daguerre,\n    eucalyptus,\n    hairspray,\n    hokusai,\n    peacock,\n    primavera,\n    quartz,\n    incognito,\n    redRock,\n    sizzle,\n    fes,\n    linen,\n    refresh,\n    sonnet,\n    ukulele,\n    frost,\n    zorro\n};\nexport { ArtisticFilter, alDente, athena, audrey, aurora, daguerre, eucalyptus, hairspray, hokusai, peacock, primavera, quartz, incognito, redRock, sizzle, fes, linen, refresh, sonnet, ukulele, frost, zorro };\n","import { AspectRatioQualifierValue } from \"./aspectRatio/AspectRatioQualifierValue\";\nimport { ignoreInitialAspectRatio as ignoreInitialAspectRatioFlag } from \"./flag\";\n/**\n * @description 1 by 1 aspect ration.\n * @memberOf Qualifiers.AspectRatio\n * @return {string}\n */\nfunction ar1X1() {\n    return new AspectRatioQualifierValue('1:1');\n}\n/**\n * @summary qualifier\n * @description 5 by 4 aspect ration.\n * @memberOf Qualifiers.AspectRatio\n * @return {string}\n */\nfunction ar5X4() {\n    return new AspectRatioQualifierValue('5:4');\n}\n/**\n * @summary qualifier\n * @description 4 by 3 aspect ration.\n * @memberOf Qualifiers.AspectRatio\n * @return {string}\n */\nfunction ar4X3() {\n    return new AspectRatioQualifierValue('4:3');\n}\n/**\n * @summary qualifier\n * @description 3 by 2 aspect ration.\n * @memberOf Qualifiers.AspectRatio\n * @return {string}\n */\nfunction ar3X2() {\n    return new AspectRatioQualifierValue('3:2');\n}\n/**\n * @summary qualifier\n * @description 16 by 9 aspect ration.\n * @memberOf Qualifiers.AspectRatio\n * @return {string}\n */\nfunction ar16X9() {\n    return new AspectRatioQualifierValue('16:9');\n}\n/**\n * @summary qualifier\n * @description 3 by 1 aspect ration.\n * @memberOf Qualifiers.AspectRatio\n * @return {string}\n */\nfunction ar3X1() {\n    return new AspectRatioQualifierValue('3:1');\n}\n/**\n * @summary qualifier\n * @description ignores aspect ratio.\n * @memberOf Qualifiers.AspectRatio\n * @return {IgnoreAspectRatioQualifier}\n */\nfunction ignoreInitialAspectRatio() {\n    return ignoreInitialAspectRatioFlag();\n}\n/**\n * @summary qualifier\n * @description A list of all most commonly used aspect ratios. including an ignore aspect ratio option which direct the BE to not stick to the original aspect ratio.\n * This is used in the context of resize actions\n * @namespace AspectRatio\n * @memberOf Qualifiers\n */\nconst AspectRatio = {\n    ar1X1,\n    ar5X4,\n    ar3X1,\n    ar3X2,\n    ar4X3,\n    ar16X9,\n    ignoreInitialAspectRatio\n};\nexport { ar1X1, ar5X4, ar3X1, ar3X2, ar4X3, ar16X9, ignoreInitialAspectRatio, AspectRatio };\n","/**\n * @description Contains functions to select an audio codec.\n * @memberOf Qualifiers\n * @namespace AudioCodec\n */\n/**\n * @summary qualifier\n * @description Removes the audio channel from the video, effectively muting it.\n * @memberOf Qualifiers.AudioCodec\n */\nfunction none() {\n    return 'none';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioCodec\n */\nfunction aac() {\n    return 'aac';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioCodec\n */\nfunction vorbis() {\n    return 'vorbis';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioCodec\n */\nfunction mp3() {\n    return 'mp3';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioCodec\n */\nfunction opus() {\n    return 'opus';\n}\nconst AudioCodec = {\n    aac,\n    mp3,\n    opus,\n    none,\n    vorbis\n};\nexport { AudioCodec, aac, mp3, opus, none, vorbis };\n","/**\n * @description Controls the audio sampling frequency.\n * @namespace AudioFrequency\n * @memberOf Qualifiers\n */\n/**\n * @summary qualifier\n * @description Preserves the original audio frequency of the video when used with vc_auto.\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction ORIGINAL() {\n    return 'iaf';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ192000() {\n    return 192000;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ176400() {\n    return 176400;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ96000() {\n    return 96000;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ88200() {\n    return 88200;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ48000() {\n    return 48000;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ8000() {\n    return 8000;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ11025() {\n    return 11025;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ16000() {\n    return 16000;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ22050() {\n    return 22050;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ32000() {\n    return 32000;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ37800() {\n    return 37800;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ44056() {\n    return 44056;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ44100() {\n    return 44100;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.AudioFrequency\n */\nfunction FREQ47250() {\n    return 47250;\n}\nconst AudioFrequency = {\n    FREQ8000,\n    FREQ11025,\n    FREQ16000,\n    FREQ22050,\n    FREQ32000,\n    FREQ37800,\n    FREQ44056,\n    FREQ44100,\n    FREQ47250,\n    FREQ48000,\n    FREQ88200,\n    FREQ96000,\n    FREQ176400,\n    FREQ192000,\n    ORIGINAL\n};\nexport { AudioFrequency, FREQ8000, FREQ11025, FREQ16000, FREQ22050, FREQ32000, FREQ37800, FREQ44056, FREQ44100, FREQ47250, FREQ48000, FREQ88200, FREQ96000, FREQ176400, FREQ192000, ORIGINAL };\n","import { Qualifier } from \"../../../../internal/qualifier/Qualifier\";\n/**\n * @description Defines the visual appearance of the background.\n * @memberOf Qualifiers.Background\n * @augments {SDK.Qualifier}\n */\nclass BackgroundQualifier extends Qualifier {\n    constructor(backgroundValue) {\n        // The qualifier key for this qualifier\n        super('b');\n        // Such as color (b_red)\n        if (backgroundValue) {\n            this.addValue(backgroundValue);\n        }\n    }\n}\nexport { BackgroundQualifier };\n","import { prepareColor } from \"../../../../internal/utils/prepareColor\";\nimport { BackgroundQualifier } from \"./BackgroundQualifier\";\n/**\n * @description Defines the background color to use when resizing with padding.\n * @memberOf Qualifiers.Background\n * @augments {Qualifiers.Background.BackgroundQualifier}\n */\nclass BaseCommonBackground extends BackgroundQualifier {\n    constructor() {\n        super();\n        this._palette = [];\n    }\n    /**\n     * @description Selects the strongest contrasting color to use for padding.\n     * @return {this}\n     */\n    contrast() {\n        this._constrast = true;\n        return this;\n    }\n    /**\n     * @description Defines the custom colors to use when resizing using content-aware padding.\n     * @param {...string} colors One or more colors - Example: palette('green', 'red', blue')\n     * @return {this}\n     */\n    palette(...colors) {\n        this._palette = colors.map((color) => {\n            return prepareColor(color);\n        });\n        return this;\n    }\n}\nexport { BaseCommonBackground };\n","import { BaseCommonBackground } from \"../base/BaseCommonBackground\";\n/**\n * @description Automatically determines the color to use for padding, if needed when resizing an asset. Selects the\n * predominant color from the border of the image.\n * @memberOf Qualifiers.Background\n * @augments {Qualifiers.Background.BaseCommonBackground}\n */\nclass BackgroundAutoBorderQualifier extends BaseCommonBackground {\n    /**\n     * @description\n     * Stringify the qualifier\n     * BackgroundQualifiers don't have a value, but instead override the toString() function.\n     */\n    toString() {\n        return `\n    b_auto:border\n    ${this._constrast ? '_contrast' : ''}\n    ${this._palette.length ? `:palette_${this._palette.join('_')}` : ''}\n    `.replace(/\\s+/g, '');\n    }\n}\nexport { BackgroundAutoBorderQualifier };\n","import { BaseCommonBackground } from \"./BaseCommonBackground\";\n/**\n * @description Defines the gradient fade effect to use for the background when resizing with padding.\n * @memberOf Qualifiers.Background\n * @augments {Qualifiers.Background.BaseCommonBackground}\n */\nclass BaseGradientBackground extends BaseCommonBackground {\n    /**\n     *\n     * @description Sets the number of predominant colors to use (2 or 4).\n     * @param {number} num\n     * @return {this}\n     */\n    gradientColors(num) {\n        this._gradientColors = num;\n        return this;\n    }\n    /**\n     * @description Sets the direction for a background gradient fade effect.\n     * @param {Qualifiers.GradientDirection | string} direction Use one of these functions provided by {@link Qualifiers.GradientDirection|GradientDirection}\n     * @return {this}\n     */\n    gradientDirection(direction) {\n        this._gradientDirection = direction;\n        return this;\n    }\n}\nexport { BaseGradientBackground };\n","import { BaseGradientBackground } from \"../base/BaseGradientBackground\";\n/**\n * @description Specifies that the gradient fade effect, used for the background when resizing with padding, uses the\n * predominant colors in the border pixels of the image.\n * @memberOf Qualifiers.Background\n * @augments {Qualifiers.Background.BaseGradientBackground}\n */\nclass BackgroundBorderGradientQualifier extends BaseGradientBackground {\n    /**\n     * @description\n     * Stringify the qualifier\n     * BackgroundQualifiers don't have a value, but instead override the toString() function.\n     */\n    toString() {\n        return `\n    b_auto:border_gradient\n    ${this._constrast ? '_contrast' : ''}\n    ${this._gradientColors ? `:${this._gradientColors}` : ''}\n    ${this._gradientDirection ? `:${this._gradientDirection}` : ''}\n    ${this._palette.length ? `:palette_${this._palette.join('_')}` : ''}\n    `.replace(/\\s+/g, '');\n    }\n}\nexport { BackgroundBorderGradientQualifier };\n","import { BaseCommonBackground } from \"../base/BaseCommonBackground\";\n/**\n * @description Automatically determines the color to use for padding, if needed when resizing an asset. Selects the\n * predominant color from the whole image.\n * @memberOf Qualifiers.Background\n * @augments {Qualifiers.Background.BaseCommonBackground}\n */\nclass BackgroundAutoPredominantQualifier extends BaseCommonBackground {\n    /**\n     * @description\n     * Stringify the qualifier\n     * BackgroundQualifiers don't have a value, but instead override the toString() function.\n     */\n    toString() {\n        return `\n    b_auto:predominant\n    ${this._constrast ? '_contrast' : ''}\n    ${this._palette.length ? `:palette_${this._palette.join('_')}` : ''}\n    `.replace(/\\s+/g, '');\n    }\n}\nexport { BackgroundAutoPredominantQualifier };\n","import { BaseGradientBackground } from \"../base/BaseGradientBackground\";\n/**\n * @description Specifies that the gradient fade effect, used for the background when resizing with padding, uses the\n * predominant colors in the whole of the image.\n * @memberOf Qualifiers.Background\n * @augments {Qualifiers.Background.BaseGradientBackground}\n */\nclass BackgroundPredominantGradientQualifier extends BaseGradientBackground {\n    /**\n     * @description\n     * Stringify the qualifier\n     * BackgroundQualifiers don't have a value, but instead override the toString() function.\n     */\n    toString() {\n        return `\n    b_auto:predominant_gradient\n    ${this._constrast ? '_contrast' : ''}\n    ${this._gradientColors ? `:${this._gradientColors}` : ''}\n    ${this._gradientDirection ? `:${this._gradientDirection}` : ''}\n    ${this._palette.length ? `:palette_${this._palette.join('_')}` : ''}\n    `.replace(/\\s+/g, '');\n    }\n}\nexport { BackgroundPredominantGradientQualifier };\n","import { BackgroundQualifier } from \"./base/BackgroundQualifier\";\n/**\n * @description A class for blurred background transformations.\n * @memberOf Qualifiers.Background\n * @augments {Qualifiers.Background.BackgroundQualifier}\n */\nclass BlurredBackgroundAction extends BackgroundQualifier {\n    /**\n     * @description Sets the intensity of the blur.\n     * @param {number} value - The intensity of the blur.\n     */\n    intensity(value) {\n        this.intensityLevel = value;\n        return this;\n    }\n    /**\n     * @description Sets the brightness of the background.\n     * @param {number} value - The brightness of the background.\n     */\n    brightness(value) {\n        this.brightnessLevel = value;\n        return this;\n    }\n    /**\n     * @description\n     * Stringify the qualifier\n     * BackgroundQualifiers don't have a value, but instead override the toString() function\n     */\n    toString() {\n        // b_blurred:{intensity}:{brightness}\n        return `\n    b_blurred\n    ${this.intensityLevel ? `:${this.intensityLevel}` : ''}\n    ${this.brightnessLevel ? `:${this.brightnessLevel}` : ''}\n    `.replace(/\\s+/g, '');\n    }\n}\nexport default BlurredBackgroundAction;\n","import { prepareColor } from \"../internal/utils/prepareColor\";\nimport { BackgroundAutoBorderQualifier } from \"./background/shared/auto/BackgroundAutoBorderQualifier\";\nimport { BackgroundBorderGradientQualifier } from \"./background/shared/gradient/BackgroundBorderGradientQualifier\";\nimport { BackgroundAutoPredominantQualifier } from \"./background/shared/auto/BackgroundAutoPredominantQualifier\";\nimport { BackgroundPredominantGradientQualifier } from \"./background/shared/gradient/BackgroundPredominantGradientQualifier\";\nimport BlurredBackgroundAction from \"./background/shared/BlurredBackgroundAction\";\nimport { BackgroundQualifier } from \"./background/shared/base/BackgroundQualifier\";\n/**\n * @description Defines the background color to use instead of transparent background areas or when resizing with padding.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#setting_background_color|Setting background for images} | {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#background_color|Setting background for videos}\n *\n * @namespace Background\n * @memberOf Qualifiers\n */\n/**\n * @summary qualifier\n * @description Selects the predominant color while taking only the image border pixels into account.\n * @memberOf Qualifiers.Background\n * @return {BackgroundAutoBorderQualifier}\n */\nfunction border() {\n    return new BackgroundAutoBorderQualifier();\n}\n/**\n * @summary qualifier\n * @description Automatically determines the color to use for padding, if needed when resizing an asset.\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#content_aware_padding|Content-aware padding}\n * @memberOf Qualifiers.Background\n * @return {Qualifiers.Background.BackgroundQualifier}\n */\nfunction auto() {\n    return new BackgroundQualifier('auto');\n}\n/**\n * @summary qualifier\n * @description Applies a padding gradient fade effect using the predominant colors in the border of the image.\n * @memberOf Qualifiers.Background\n * @return {BackgroundBorderGradientQualifier}\n */\nfunction borderGradient() {\n    return new BackgroundBorderGradientQualifier();\n}\n/**\n * @summary qualifier\n * @description Applies a padding gradient fade effect using the predominant colors in the image.\n * @memberOf Qualifiers.Background\n * @return {BackgroundPredominantGradientQualifier}\n */\nfunction predominantGradient() {\n    return new BackgroundPredominantGradientQualifier();\n}\n/**\n * @summary qualifier\n * @description Selects the predominant color while taking all pixels in the image into account\n * @memberOf Qualifiers.Background\n * @return {BackgroundAutoPredominantQualifier}\n */\nfunction predominant() {\n    return new BackgroundAutoPredominantQualifier();\n}\n/**\n * @summary qualifier\n * @description Selects the predominant color while taking all pixels in the image into account.\n * @memberOf Qualifiers.Background\n * @return {Qualifiers.Background.BackgroundQualifier}\n */\nfunction color(colorStr) {\n    return new BackgroundQualifier(prepareColor(colorStr));\n}\n/**\n * @summary qualifier\n * @description Selects the predominant color while taking all pixels in the image into account.\n * @memberOf Qualifiers.Background\n * @return {BlurredBackgroundAction}\n */\nfunction blurred() {\n    return new BlurredBackgroundAction();\n}\nconst Background = {\n    auto: auto,\n    border: border,\n    borderGradient: borderGradient,\n    predominantGradient: predominantGradient,\n    predominant: predominant,\n    color: color,\n    blurred: blurred\n};\nexport { auto, border, borderGradient, predominantGradient, predominant, color, blurred, Background };\n","/**\n * @summary qualifier\n * @memberOf Qualifiers.ChromeSubSampling\n */\nfunction chroma444() { return 444; }\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ChromeSubSampling\n */\nfunction chroma420() { return 420; }\n/**\n * @description Contains functions to select the chroma subsampling setting.\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/image_transformations#toggling_chroma_subsampling | Toggling chroma subsampling}\n * @memberOf Qualifiers\n * @namespace ChromeSubSampling\n */\nconst ChromaSubSampling = {\n    chroma444,\n    chroma420\n};\nexport { ChromaSubSampling, chroma420, chroma444 };\n","/**\n * @description Contains functions to select the color space mode.\n * @namespace ColorSpace\n * @memberOf Qualifiers\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ColorSpace\n */\nfunction srgb() {\n    return 'srgb';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ColorSpace\n */\nfunction trueColor() {\n    return 'srgb:truecolor';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ColorSpace\n */\nfunction tinySrgb() {\n    return 'tinysrgb';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ColorSpace\n */\nfunction cmyk() {\n    return 'cmyk';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ColorSpace\n */\nfunction noCmyk() {\n    return 'no_cmyk';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ColorSpace\n */\nfunction keepCmyk() {\n    return 'keep_cmyk';\n}\nconst ColorSpace = {\n    cmyk,\n    keepCmyk,\n    noCmyk,\n    srgb,\n    tinySrgb,\n    trueColor\n};\nexport { ColorSpace, cmyk, keepCmyk, noCmyk, srgb, tinySrgb, trueColor };\n","/**\n * @description Qualifiers for applying an ordered dither filter to the image.\n * @namespace Dither\n * @memberOf Qualifiers\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction threshold1x1Nondither() {\n    return 0;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction checkerboard2x1Dither() {\n    return 1;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction ordered2x2Dispersed() {\n    return 2;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction ordered3x3Dispersed() {\n    return 3;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction ordered4x4Dispersed() {\n    return 4;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction ordered8x8Dispersed() {\n    return 5;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction halftone4x4Angled() {\n    return 6;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction halftone6x6Angled() {\n    return 7;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction halftone8x8Angled() {\n    return 8;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction halftone4x4Orthogonal() {\n    return 9;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction halftone6x6Orthogonal() {\n    return 10;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction halftone8x8Orthogonal() {\n    return 11;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction halftone16x16Orthogonal() {\n    return 12;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction circles5x5Black() {\n    return 13;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction circles5x5White() {\n    return 14;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction circles6x6Black() {\n    return 15;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction circles6x6White() {\n    return 16;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction circles7x7Black() {\n    return 17;\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Dither\n */\nfunction circles7x7White() {\n    return 18;\n}\nconst Dither = {\n    checkerboard2x1Dither,\n    circles5x5Black,\n    circles5x5White,\n    circles6x6Black,\n    circles6x6White,\n    circles7x7Black,\n    circles7x7White,\n    halftone4x4Angled,\n    halftone4x4Orthogonal,\n    halftone6x6Angled,\n    halftone6x6Orthogonal,\n    halftone8x8Angled,\n    halftone8x8Orthogonal,\n    halftone16x16Orthogonal,\n    ordered2x2Dispersed,\n    ordered3x3Dispersed,\n    ordered4x4Dispersed,\n    ordered8x8Dispersed,\n    threshold1x1Nondither\n};\nexport { Dither, checkerboard2x1Dither, circles5x5Black, circles5x5White, circles6x6Black, circles6x6White, circles7x7Black, circles7x7White, halftone4x4Angled, halftone4x4Orthogonal, halftone6x6Angled, halftone6x6Orthogonal, halftone8x8Angled, halftone8x8Orthogonal, halftone16x16Orthogonal, ordered2x2Dispersed, ordered3x3Dispersed, ordered4x4Dispersed, ordered8x8Dispersed, threshold1x1Nondither };\n","/**\n * @description Contains functions to select the device pixel ratio.\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/image_transformations#set_device_pixel_ratio_dpr | Set Device Pixel Ratio}\n * @memberOf Qualifiers\n * @namespace DPR\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.DPR\n */\nfunction auto() {\n    return 'auto';\n}\nconst Dpr = {\n    auto\n};\nexport { auto, Dpr };\n","import { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @namespace Expression\n * @memberOf Qualifiers.Expression\n * @extends {SDK.QualifierValue}\n */\nclass ExpressionQualifier extends QualifierValue {\n    constructor(value) {\n        super();\n        this.value = value;\n    }\n    toString() {\n        return this.value;\n    }\n}\nexport { ExpressionQualifier };\n","import { CONDITIONAL_OPERATORS } from \"../internal/internalConstants\";\nimport { ExpressionQualifier } from \"./expression/ExpressionQualifier\";\n/**\n * @description\n * Used for variable or conditional expressions\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/user_defined_variables#arithmetic_expressions | Arithmetic expressions }\n * @namespace Expression\n * @memberOf Qualifiers\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Expression\n * @return {Qualifiers.Expression.ExpressionQualifier}\n */\nfunction expression(exp) {\n    return new ExpressionQualifier(exp\n        .toString()\n        .split(\" \")\n        .map((val) => CONDITIONAL_OPERATORS[val] || val)\n        .join(\"_\"));\n}\n// as a namespace\nconst Expression = {\n    expression\n};\nexport { Expression, expression };\n","/**\n * @description Contains functions to select the font hinting setting.\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/image_transformations#adding_text_overlays | Adding text overlays to images}\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#adding_text_captions | Adding text overlays to videos}\n * @memberOf Qualifiers\n * @namespace FontHinting\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.FontHinting\n */\nfunction none() {\n    return '';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.FontHinting\n */\nfunction slight() {\n    return 'slight';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.FontHinting\n */\nfunction medium() {\n    return 'medium';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.FontHinting\n */\nfunction full() {\n    return 'full';\n}\nconst FontHinting = { full, none, medium, slight };\nexport { FontHinting, full, none, medium, slight };\n","/**\n * @description Contains functions to select the style of the text.\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/image_transformations#adding_text_overlays | Adding text overlays to images}\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#adding_text_captions | Adding text overlays to videos}\n * @memberOf Qualifiers\n * @namespace FontStyle\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.FontStyle\n */\nfunction normal() {\n    return 'normal';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.FontStyle\n */\nfunction italic() {\n    return 'italic';\n}\nconst FontStyle = { normal, italic };\nexport { FontStyle, italic, normal };\n","/**\n * @description Contains functions to select the font weight.\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/image_transformations#adding_text_overlays | Adding text overlays to images}\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#adding_text_captions | Adding text overlays to videos}\n * @memberOf Qualifiers\n * @namespace FontWeight\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.FontWeight\n */\nfunction thin() {\n    return 'thin';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.FontWeight\n */\nfunction light() {\n    return 'light';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.FontWeight\n */\nfunction normal() {\n    return 'normal';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.FontWeight\n */\nfunction bold() {\n    return 'bold';\n}\nconst FontWeight = { bold, light, normal, thin };\nexport { FontWeight, bold, light, normal, thin };\n","import { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @memberOf Qualifiers.Format\n * @extends {SDK.QualifierValue}\n */\nclass FormatQualifier extends QualifierValue {\n    constructor(val) {\n        super(val);\n    }\n}\nexport { FormatQualifier };\n","import { FormatQualifier } from \"./format/FormatQualifier\";\n/**\n * @description Contains functions to select the asset format, can be used to convert images and videos to other formats.\n * @memberOf Qualifiers\n * @namespace Format\n * @example\n * transformation.delivery(Delivery.format(Format.jpg()))\n */\n/**\n * @summary qualifier\n * @description Image format heic.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction heic() { return new FormatQualifier('heic'); }\n/**\n * @summary qualifier\n * @description Image format flif.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction flif() { return new FormatQualifier('flif'); }\n/**\n * @summary qualifier\n * @description Image format ai.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction ai() { return new FormatQualifier('ai'); }\n/**\n * @summary qualifier\n * @description Image format wdp.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction wdp() { return new FormatQualifier('wdp'); }\n/**\n * @summary qualifier\n * @description Image format svg.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction svg() { return new FormatQualifier('svg'); }\n/**\n * @summary qualifier\n * @description Image format webp.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction webp() { return new FormatQualifier('webp'); }\n/**\n * @summary qualifier\n * @description Image format psd.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction psd() { return new FormatQualifier('psd'); }\n/**\n * @summary qualifier\n * @description Image format jp2.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction jp2() { return new FormatQualifier('jp2'); }\n/**\n * @summary qualifier\n * @description Image format jpc.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction jpc() { return new FormatQualifier('jpc'); }\n/**\n * @summary qualifier\n * @description Image format eps.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction eps() { return new FormatQualifier('eps'); }\n/**\n * @summary qualifier\n * @description Image format tiff.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction tiff() { return new FormatQualifier('tiff'); }\n/**\n * @summary qualifier\n * @description Image format pdf.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction pdf() { return new FormatQualifier('pdf'); }\n/**\n * @summary qualifier\n * @description Image format ico.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction ico() { return new FormatQualifier('ico'); }\n/**\n * @summary qualifier\n * @description Image format bmp.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction bmp() { return new FormatQualifier('bmp'); }\n/**\n * @summary qualifier\n * @description Image format png.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction png() { return new FormatQualifier('png'); }\n/**\n * @summary qualifier\n * @description Image format gif.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction gif() { return new FormatQualifier('gif'); }\n/**\n * @summary qualifier\n * @description Image format auto.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction auto() { return new FormatQualifier('auto'); }\n/**\n * @summary qualifier\n * @description Image format jpg.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction jpg() { return new FormatQualifier('jpg'); }\n/**\n * @summary qualifier\n * @description Image format djvu.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction djvu() { return new FormatQualifier('djvu'); }\n/**\n * @summary qualifier\n * @description Image format ps.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction ps() { return new FormatQualifier('ps'); }\n/**\n * @summary qualifier\n * @description Image format ept.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction ept() { return new FormatQualifier('ept'); }\n/**\n * @summary qualifier\n * @description Image format eps3.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction eps3() { return new FormatQualifier('eps3'); }\n/**\n * @summary qualifier\n * @description Image format fxb.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction fxb() { return new FormatQualifier('fxb'); }\n/**\n * @summary qualifier\n * @description Image format gltf.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction gltf() { return new FormatQualifier('gltf'); }\n/**\n * @summary qualifier\n * @description Image format heif.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction heif() { return new FormatQualifier('heif'); }\n/**\n * @summary qualifier\n * @description Image format indd.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction indd() { return new FormatQualifier('indd'); }\n/**\n * @summary qualifier\n * @description Image format jpe.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction jpe() { return new FormatQualifier('jpe'); }\n/**\n * @summary qualifier\n * @description Image format jpeg.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction jpeg() { return new FormatQualifier('jpeg'); }\n/**\n * @summary qualifier\n * @description Image format jxr.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction jxr() { return new FormatQualifier('jxr'); }\n/**\n * @summary qualifier\n * @description Image format hdp.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction hdp() { return new FormatQualifier('hdp'); }\n/**\n * @summary qualifier\n * @description Image format spd.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction spd() { return new FormatQualifier('spd'); }\n/**\n * @summary qualifier\n * @description Image format arw.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction arw() { return new FormatQualifier('arw'); }\n/**\n * @summary qualifier\n * @description Image format cr2.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction cr2() { return new FormatQualifier('cr2'); }\n/**\n * @summary qualifier\n * @description Image format tga.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction tga() { return new FormatQualifier('tga'); }\n/**\n * @summary qualifier\n * @description Image format tif.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction tif() { return new FormatQualifier('tif'); }\n/**\n * @summary qualifier\n * @description Image format avif.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction avif() { return new FormatQualifier('avif'); }\n/**\n * @summary qualifier\n * @description format usdz.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction usdz() { return new FormatQualifier('usdz'); }\n/**\n * @summary qualifier\n * @description Image format 3g2.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction video3g2() { return new FormatQualifier('3g2'); }\n/**\n * @summary qualifier\n * @description Image format 3gp.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction video3gp() { return new FormatQualifier('3gp'); }\n/**\n * @summary qualifier\n * @description Image format avi.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoAvi() { return new FormatQualifier('avi'); }\n/**\n * @summary qualifier\n * @description Image format flv.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoFlv() { return new FormatQualifier('flv'); }\n/**\n * @summary qualifier\n * @description Image format m3u8.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoM3u8() { return new FormatQualifier('m3u8'); }\n/**\n * @summary qualifier\n * @description Image format ts.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoTs() { return new FormatQualifier('ts'); }\n/**\n * @summary qualifier\n * @description Image format mov.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoMov() { return new FormatQualifier('mov'); }\n/**\n * @summary qualifier\n * @description Image format mkv.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoMkv() { return new FormatQualifier('mkv'); }\n/**\n * @summary qualifier\n * @description Image format mp4.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoMp4() { return new FormatQualifier('mp4'); }\n/**\n * @summary qualifier\n * @description Image format mpeg.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoMpeg() { return new FormatQualifier('mpeg'); }\n/**\n * @summary qualifier\n * @description Image format mpd.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoMpd() { return new FormatQualifier('mpd'); }\n/**\n * @summary qualifier\n * @description Image format mxf.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoMxf() { return new FormatQualifier('mxf'); }\n/**\n * @summary qualifier\n * @description Image format ogv.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoOgv() { return new FormatQualifier('ogv'); }\n/**\n * @summary qualifier\n * @description Image format webm.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoWebm() { return new FormatQualifier('webm'); }\n/**\n * @summary qualifier\n * @description Image format wmv.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoWmv() { return new FormatQualifier('wmv'); }\n/**\n * @summary qualifier\n * @description Image format m2ts.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoM2ts() { return new FormatQualifier('m2ts'); }\n/**\n * @summary qualifier\n * @description Image format mts.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction videoMts() { return new FormatQualifier('mts'); }\n/**\n * @summary qualifier\n * @description Image format aac.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction audioAac() { return new FormatQualifier('aac'); }\n/**\n * @summary qualifier\n * @description Image format aiff.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction audioAiff() { return new FormatQualifier('aiff'); }\n/**\n * @summary qualifier\n * @description Image format amr.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction audioAmr() { return new FormatQualifier('amr'); }\n/**\n * @summary qualifier\n * @description Image format flac.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction audioFlac() { return new FormatQualifier('flac'); }\n/**\n * @summary qualifier\n * @description Image format m4a.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction audioM4a() { return new FormatQualifier('m4a'); }\n/**\n * @summary qualifier\n * @description Image format mp3.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction audioMp3() { return new FormatQualifier('mp3'); }\n/**\n * @summary qualifier\n * @description Image format ogg.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction audioOgg() { return new FormatQualifier('ogg'); }\n/**\n * @summary qualifier\n * @description Image format opus.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction audioOpus() { return new FormatQualifier('opus'); }\n/**\n * @summary qualifier\n * @description Image format wav.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction audioWav() { return new FormatQualifier('wav'); }\n/**\n * @summary qualifier\n * @description Image format glb.\n * @memberOf Qualifiers.Format\n * @return {Qualifiers.Format.FormatQualifier}\n */\nfunction glb() { return new FormatQualifier('glb'); }\nconst Format = { usdz, jp2, ai, auto, bmp, eps, flif, gif, heic, ico, jpc, jpg, pdf, png, psd, svg, tiff, wdp, webp, arw, audioAac, audioAiff, audioAmr, audioFlac, audioM4a, audioMp3, audioOgg, audioOpus, audioWav, avif, cr2, djvu, eps3, ept, fxb, gltf, hdp, heif, indd, jpe, jpeg, jxr, ps, spd, tga, tif, video3g2, video3gp, videoAvi, videoFlv, videoM2ts, videoM3u8, videoMkv, videoMov, videoMp4, videoMpd, videoMpeg, videoMts, videoMxf, videoOgv, videoTs, videoWebm, videoWmv, glb };\nexport { usdz, jp2, ai, auto, bmp, eps, flif, gif, heic, ico, jpc, jpg, pdf, png, psd, svg, tiff, wdp, webp, arw, audioAac, audioAiff, audioAmr, audioFlac, audioM4a, audioMp3, audioOgg, audioOpus, audioWav, avif, cr2, djvu, eps3, ept, fxb, gltf, hdp, heif, indd, jpe, jpeg, jxr, ps, spd, tga, tif, video3g2, video3gp, videoAvi, videoFlv, videoM2ts, videoM3u8, videoMkv, videoMov, videoMp4, videoMpd, videoMpeg, videoMts, videoMxf, videoOgv, videoTs, videoWebm, videoWmv, glb, Format };\n","import { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @memberOf Qualifiers.GradientDirection\n * @extends {SDK.QualifierValue}\n */\nclass GradientDirectionQualifierValue extends QualifierValue {\n}\nexport { GradientDirectionQualifierValue };\n","import { GradientDirectionQualifierValue } from \"./gradientDirection/GradientDirectionQualifierValue\";\n/**\n * @description Defines the direction for a background gradient fade effect.\n * @memberOf Qualifiers\n * @namespace GradientDirection\n */\n/**\n * @summary qualifier\n * @description Blend the colors horizontally.\n * @memberOf Qualifiers.GradientDirection\n * @return {Qualifiers.GradientDirection.GradientDirectionQualifierValue}\n */\nfunction horizontal() {\n    return new GradientDirectionQualifierValue('horizontal');\n}\n/**\n * @summary qualifier\n * @description Blend the colors vertically.\n * @memberOf Qualifiers.GradientDirection\n * @return {Qualifiers.GradientDirection.GradientDirectionQualifierValue}\n */\nfunction vertical() {\n    return new GradientDirectionQualifierValue('vertical');\n}\n/**\n * @summary qualifier\n * @description Blend the colors diagonally from top-left to bottom-right.\n * @memberOf Qualifiers.GradientDirection\n * @return {Qualifiers.GradientDirection.GradientDirectionQualifierValue}\n */\nfunction diagonalDesc() {\n    return new GradientDirectionQualifierValue('diagonal_desc');\n}\n/**\n * @summary qualifier\n * @description Blend the colors diagonally from bottom-left to top-right.\n * @memberOf Qualifiers.GradientDirection\n * @return {Qualifiers.GradientDirection.GradientDirectionQualifierValue}\n */\nfunction diagonalAsc() {\n    return new GradientDirectionQualifierValue('diagonal_asc');\n}\nconst GradientDirection = {\n    horizontal,\n    vertical,\n    diagonalDesc,\n    diagonalAsc\n};\nexport { horizontal, vertical, diagonalDesc, diagonalAsc, GradientDirection };\n","import { GravityQualifier } from \"../GravityQualifier\";\n/**\n * @description The class for the OCR builder\n * @memberOf Qualifiers.Gravity\n * @extends {Qualifiers.Gravity.GravityQualifier}\n */\nclass OCR extends GravityQualifier {\n    constructor() {\n        // Required due to https://github.com/microsoft/TypeScript/issues/13029\n        super('ocr_text') /* istanbul ignore next */;\n        this.qualifierValue.delimiter = '_';\n    }\n    /**\n     * @description Attempts to avoid the detected text in the image\n     * @returns {this}\n     */\n    avoid() {\n        this.addValue('avoid');\n        return this;\n    }\n}\nexport { OCR };\n","import { GravityQualifier } from \"../GravityQualifier\";\n/**\n * @description The class for the CompassGravity builder\n * @memberOf Qualifiers.Gravity\n * @extends {Qualifiers.Gravity.GravityQualifier}\n */\nclass CompassGravity extends GravityQualifier {\n    constructor(dir) {\n        // Required due to https://github.com/microsoft/TypeScript/issues/13029\n        /* istanbul ignore next */\n        super(dir);\n    }\n}\nexport { CompassGravity };\n","import { GravityQualifier } from \"../GravityQualifier\";\n/**\n * @description The class for the FocusOn builder\n * @memberOf Qualifiers.Gravity\n * @extends {Qualifiers.Gravity.GravityQualifier}\n */\nclass FocusOnGravity extends GravityQualifier {\n    constructor(FocusOnObjects) {\n        // Required due to https://github.com/microsoft/TypeScript/issues/13029\n        /* istanbul ignore next */\n        super(FocusOnObjects);\n    }\n    /**\n     * @description Specifies the gravity to use if none of the other gravity objects are found.\n     * @param {Qualifiers.Gravity.AutoGravity} val\n     */\n    fallbackGravity(val) {\n        /*\n         *  FocusOnGravity(this) is already a qualifier, with a key and a value g_{obj1}\n         *  fallBackGravity also attempts to add a value, to reach the result of g_{obj1}:auto:{obj2}\n         *  Since AutoGravity is a Qualifier, it also comes with its own g_ key, which needs to be removed.\n         *  To solve it, we take only the value from the qualifier, instead of the whole thing\n         */\n        this.addValue(val.qualifierValue);\n        return this;\n    }\n}\nexport { FocusOnGravity };\n","import { GravityQualifier } from \"../GravityQualifier\";\n/**\n * @description The class for the autoGravity builder\n * @memberOf Qualifiers.Gravity\n * @extends {Qualifiers.Gravity.GravityQualifier}\n */\nclass AutoGravity extends GravityQualifier {\n    constructor() {\n        // Required due to https://github.com/microsoft/TypeScript/issues/13029\n        /* istanbul ignore next */\n        super('auto');\n    }\n    /**\n     * @description Autofocuses on objects, allowing their priority within the algorithm to be configured.\n     * @param {AutoFocus} AutoFocusObjects\n     */\n    autoFocus(...AutoFocusObjects) {\n        this.addValue(AutoFocusObjects);\n        return this;\n    }\n}\nexport { AutoGravity };\n","import { GravityQualifier } from \"../GravityQualifier\";\n/**\n * @description The class for the XYCenter Gravity builder\n * @memberOf Qualifiers.Gravity\n * @extends {Qualifiers.Gravity.GravityQualifier}\n */\nclass XYCenterGravity extends GravityQualifier {\n    constructor() {\n        // Required due to https://github.com/microsoft/TypeScript/issues/13029\n        /* istanbul ignore next */\n        super('xy_center');\n    }\n}\nexport { XYCenterGravity };\n","import { OCR } from \"./gravity/OCR/OCR\";\nimport { CompassGravity } from \"./gravity/compassGravity/CompassGravity\";\nimport { FocusOnGravity } from \"./gravity/focusOnGravity/FocusOnGravity\";\nimport { AutoGravity } from \"./gravity/autoGravity/AutoGravity\";\nimport { XYCenterGravity } from \"./gravity/xyCenterGravity/XYCenterGravity\";\n/**\n * @description Defines the gravity based on directional values from a compass.\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#control_gravity | Control gravity for images}\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#control_gravity | Control gravity for videos}\n * @param {Qualifiers.Compass} direction A compass Values\n * @memberOf Qualifiers.Gravity\n * @example\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n * import {compass} from \"@cloudinary/base/qualifiers/gravity\";\n * import {north} from \"@cloudinary/base/qualifiers/compass\";\n * import {crop} from \"@cloudinary/base/actions/resize\";\n *\n * const yourCldInstance = new Cloudinary({cloud: {cloudName: 'demo'}});\n * const image = yourCldInstance.image('woman');\n * image.resize(crop().width(300).gravity(compass(north())))\n * @return {CompassGravity}\n */\nfunction compass(direction) {\n    return new CompassGravity(direction);\n}\n/**\n * @summary qualifier\n * @description Specifies what to focus on, for example: faces, objects, eyes, etc.\n * @param {...Qualifier.FocusOn} args One or more objects to focus on\n * @memberOf Qualifiers.Gravity\n * @example\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n * import {focusOn} from \"@cloudinary/base/qualifiers/gravity\";\n * import {crop} from \"@cloudinary/base/actions/resize\";\n * import {cat} from \"@cloudinary/base/qualifiers/focusOn\";\n *\n * const yourCldInstance = new Cloudinary({cloud: {cloudName: 'demo'}});\n * const image = yourCldInstance.image('woman');\n * image.resize(crop().width(300).gravity(focusOn(cat())))\n * @return {FocusOnGravity}\n */\nfunction focusOn(...args) {\n    const res = [...args];\n    return new FocusOnGravity(res);\n}\n/**\n * @summary qualifier\n * @description Automatically identifies the most interesting regions in the asset, can be qualified further by including what to focus on.\n * @memberOf Qualifiers.Gravity\n * @return {Qualifiers.Gravity.AutoGravity}\n * @example\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n * import {autoGravity} from \"@cloudinary/base/qualifiers/gravity\";\n * import {crop} from \"@cloudinary/base/actions/resize\";\n *\n * const yourCldInstance = new Cloudinary({cloud: {cloudName: 'demo'}});\n * const image = yourCldInstance.image('woman');\n * image.resize(crop().width(300).gravity(autoGravity()))\n * @example\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n * import {autoGravity} from \"@cloudinary/base/qualifiers/gravity\";\n * import {crop} from \"@cloudinary/base/actions/resize\";\n * import {cat} from \"@cloudinary/base/qualifiers/focusOn\";\n * import {AutoFocus} from \"@cloudinary/base/qualifiers/autoFocus\";\n *\n * const yourCldInstance = new Cloudinary({cloud: {cloudName: 'demo'}});\n * const image = yourCldInstance.image('woman');\n * image.resize(crop().width(300).gravity(autoGravity().autoFocus(AutoFocus.focusOn(cat()))))\n */\nfunction autoGravity() {\n    return new AutoGravity();\n}\n/**\n * @summary qualifier\n * @description Detect all text elements in an image using the {@link https://cloudinary.com/documentation/image_transformations#control_gravity | OCR Text Detection and Extraction add-on} and use the detected bounding box coordinates as the basis of the transformation.\n * @memberOf Qualifiers.Gravity\n * @return {OCR}\n */\nfunction ocr() {\n    return new OCR();\n}\n/**\n * @summary qualifier\n * @description Set the center of gravity to the given x & y coordinates.\n * @memberOf Qualifiers.Gravity\n * @return {XYCenterGravity}\n */\nfunction xyCenter() {\n    return new XYCenterGravity();\n}\n/**\n * @summary qualifier\n * @description A qualifier that determines which part of an asset to focus on, and thus which part of the asset to keep, </br>\n *              when any part of the asset is cropped. For overlays, this setting determines where to place the overlay.\n * @namespace Gravity\n * @memberOf Qualifiers\n * @example\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n * import {compass} from \"@cloudinary/base/qualifiers/gravity\";\n * import {north} from \"@cloudinary/base/qualifiers/compass\";\n * import {crop} from \"@cloudinary/base/actions/resize\";\n *\n * const yourCldInstance = new Cloudinary({cloud: {cloudName: 'demo'}});\n * const image = yourCldInstance.image('woman');\n * image.resize(crop().width(300).gravity(compass(north())))\n */\nconst Gravity = {\n    compass: compass,\n    autoGravity: autoGravity,\n    focusOn: focusOn,\n    ocr: ocr,\n    xyCenter\n};\nexport { Gravity, compass, autoGravity, focusOn, ocr, xyCenter };\n","/**\n * @description Defines the available modes to use with the improve effect.\n * @namespace ImproveMode\n * @memberOf Qualifiers\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ImproveMode\n * @description Use this mode to get better results on outdoor images.\n * @return string\n */\nfunction outdoor() {\n    return 'outdoor';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.ImproveMode\n * @description Use this mode to get better results on images with indoor lighting and shadows.\n * @return string\n */\nfunction indoor() {\n    return 'indoor';\n}\nconst ImproveMode = {\n    indoor,\n    outdoor\n};\nexport { outdoor, indoor, ImproveMode };\n","/**\n * @description Contains functions to select the type of improvement to perform when using Adjust.improve().\n * @namespace Outline\n * @memberOf Qualifiers\n * @example\n * import {Cloudinary} from \"@cloudinary/base/instance/Cloudinary\";\n * import {outdoor} from \"@cloudinary/base/qualifiers/improveMode\";\n * import {improve} from \"@cloudinary/base/actions/adjust\";\n *\n * const yourCldInstance = new Cloudinary({cloud: {cloudName: 'demo'}});\n * const image = yourCldInstance.image('woman');\n * image.adjust(improve().mode(outdoor()));\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Outline\n */\nfunction fill() {\n    return 'fill';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Outline\n */\nfunction inner() {\n    return 'inner';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Outline\n */\nfunction innerFill() {\n    return 'inner_fill';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Outline\n */\nfunction outer() {\n    return 'outer';\n}\nconst OutlineMode = {\n    outer,\n    inner,\n    innerFill,\n    fill\n};\nexport { OutlineMode, outer, inner, innerFill, fill };\n","/**\n * @memberOf Qualifiers\n * @namespace Quality\n */\n/**\n * @summary qualifier\n * @description Quality auto\n * @memberOf Qualifiers.Quality\n * @return {string}\n */\nfunction auto() { return 'auto'; }\n/**\n * @summary qualifier\n * @description Quality best\n * @memberOf Qualifiers.Quality\n * @return {string}\n */\nfunction autoBest() { return 'auto:best'; }\n/**\n * @summary qualifier\n * @description Quality eco\n * @memberOf Qualifiers.Quality\n * @return {string}\n */\nfunction autoEco() { return 'auto:eco'; }\n/**\n * @summary qualifier\n * @description Quality good\n * @memberOf Qualifiers.Quality\n * @return {string}\n */\nfunction autoGood() { return 'auto:good'; }\n/**\n * @summary qualifier\n * @description Quality low\n * @memberOf Qualifiers.Quality\n * @return {string}\n */\nfunction autoLow() { return 'auto:low'; }\n/**\n * @summary qualifier\n * @description Quality jpegmini\n * @memberOf Qualifiers.Quality\n * @return {string}\n */\nfunction jpegmini() { return 'jpegmini'; }\n/**\n * @summary qualifier\n * @description Quality jpegmini best\n * @memberOf Qualifiers.Quality\n * @return {string}\n */\nfunction jpegminiBest() { return 'jpegmini:0'; }\n/**\n * @summary qualifier\n * @description Quality jpegmini high\n * @memberOf Qualifiers.Quality\n * @return {string}\n */\nfunction jpegminiHigh() { return 'jpegmini:1'; }\n/**\n * @summary qualifier\n * @quality\n * @description Quality jpegmini medium\n * @memberOf Qualifiers.Quality\n * @return {string}\n */\nfunction jpegminiMedium() { return 'jpegmini:2'; }\nconst Quality = { auto, autoBest, autoEco, autoGood, autoLow, jpegmini, jpegminiBest, jpegminiHigh, jpegminiMedium };\nexport { Quality, auto, autoBest, autoEco, autoGood, autoLow, jpegmini, jpegminiBest, jpegminiHigh, jpegminiMedium };\n","import { Action } from \"../../internal/Action\";\n/**\n * @memberOf Qualifiers.Region\n */\nclass NamedRegion extends Action {\n    constructor(type) {\n        super();\n        this.regionType = type;\n    }\n}\nexport { NamedRegion };\n","import { NamedRegion } from \"./NamedRegion\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\n/**\n * @memberOf Qualifiers.Region\n */\nclass CustomRegion extends NamedRegion {\n    constructor() {\n        super('named');\n    }\n    /**\n     * @description The x position in pixels.\n     * @param {number} x\n     */\n    x(x) {\n        this.addQualifier(new Qualifier('x', x));\n        return this;\n    }\n    /**\n     * @description The y position in pixels.\n     * @param {number} y\n     */\n    y(y) {\n        this.addQualifier(new Qualifier('y', y));\n        return this;\n    }\n    /**\n     * @description The width of the region in pixels.\n     * @param {number} width\n     */\n    width(width) {\n        this.addQualifier(new Qualifier('w', width));\n        return this;\n    }\n    /**\n     * @description The height of the region in pixels.\n     * @param {number} height\n     */\n    height(height) {\n        this.addQualifier(new Qualifier('h', height));\n        return this;\n    }\n}\nexport { CustomRegion };\n","import { CustomRegion } from \"./region/CustomRegion\";\nimport { NamedRegion } from \"./region/NamedRegion\";\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Region\n * @return {Qualifiers.Region.CustomRegion}\n */\nfunction custom() {\n    return new CustomRegion();\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Region\n * @return {Qualifiers.Region.NamedRegion}\n */\nfunction faces() {\n    return new NamedRegion('faces');\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.Region\n * @return {Qualifiers.Region.NamedRegion}\n */\nfunction ocr() {\n    return new NamedRegion('ocr_text');\n}\n/**\n * @description Contains functions to select the type of region, used with Effect.blur() and Effect.pixelate().\n * <b>See also</b>: {@link Actions.Effect.BlurAction | Blur Action}\n * <b>See also</b>: {@link Actions.Effect.Pixelate | Blur Action}\n * <b>See also</b>: {@link Actions.Effect | Possible effects}\n * @namespace Region\n * @memberOf Qualifiers\n */\nconst Region = { ocr, faces, custom };\nexport { Region, ocr, faces, custom };\n","import { QualifierValue } from \"../../internal/qualifier/QualifierValue\";\n/**\n * @description Acts as a marker for inputs passed into Rotate.mode()\n * @memberOf Qualifiers.RotationMode\n * @extend {SDK.QualifierValue}\n */\nclass RotationModeQualifierValue extends QualifierValue {\n    constructor(val) {\n        super();\n        this.val = val;\n    }\n    toString() {\n        return this.val;\n    }\n}\nexport { RotationModeQualifierValue };\n","/**\n * @description Contains functions to select the rotation mode.\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/image_transformations#rotating_images | Rotating images}\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#rotating_videos | Rotating videos}\n * @memberOf Qualifiers\n * @namespace RotationMode\n */\nimport { RotationModeQualifierValue } from \"./rotate/RotationModeQualifierValue\";\n/**\n * @summary qualifier\n * @description Rotate image 90 degrees clockwise only if the requested aspect ratio does not match the image's aspect ratio.\n * @memberOf Qualifiers.RotationMode\n * @return {Qualifiers.RotationMode.RotationModeQualifierValue}\n */\nfunction autoRight() {\n    return new RotationModeQualifierValue('auto_right');\n}\n/**\n * @summary qualifier\n * @description Rotate image 90 degrees counterclockwise only if the requested aspect ratio does not match the image's aspect ratio.\n * @memberOf Qualifiers.RotationMode\n * @return {Qualifiers.RotationMode.RotationModeQualifierValue}\n */\nfunction autoLeft() {\n    return new RotationModeQualifierValue('auto_left');\n}\n/**\n * @summary qualifier\n * @description Vertical mirror flip of the image.\n * @memberOf Qualifiers.RotationMode\n * @return {Qualifiers.RotationMode.RotationModeQualifierValue}\n */\nfunction verticalFlip() {\n    return new RotationModeQualifierValue('vflip');\n}\n/**\n * @summary qualifier\n * @description Horizontal mirror flip of the image.\n * @memberOf Qualifiers.RotationMode\n * @return {Qualifiers.RotationMode.RotationModeQualifierValue}\n */\nfunction horizontalFlip() {\n    return new RotationModeQualifierValue('hflip');\n}\n/**\n * @summary qualifier\n * @description By default, the image is automatically rotated according to the EXIF data stored by the camera when the image\n *                           was taken. Set the angle to 'ignore' if you do not want the image to be automatically rotated.\n * @memberOf Qualifiers.RotationMode\n * @return {Qualifiers.RotationMode.RotationModeQualifierValue}\n */\nfunction ignore() {\n    return new RotationModeQualifierValue('ignore');\n}\nconst RotationMode = { autoLeft, autoRight, horizontalFlip, ignore, verticalFlip };\nexport { RotationMode, autoLeft, autoRight, horizontalFlip, ignore, verticalFlip };\n","/**\n * @description Contains functions to select the type of color-blind condition to simulate.\n * <b>Learn more</b>: {@link https://cloudinary.com/blog/open_your_eyes_to_color_accessibility | Blog: Open your Eyes to Color Accessibility}\n * @memberOf Qualifiers\n * @namespace SimulateColorBlindValues\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.SimulateColorBlindValues\n * @return {string}\n */\nfunction deuteranopia() {\n    return 'deuteranopia';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.SimulateColorBlindValues\n * @return {string}\n */\nfunction protanopia() {\n    return 'protanopia';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.SimulateColorBlindValues\n * @return {string}\n */\nfunction tritanopia() {\n    return 'tritanopia';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.SimulateColorBlindValues\n * @return {string}\n */\nfunction tritanomaly() {\n    return 'tritanomaly';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.SimulateColorBlindValues\n * @return {string}\n */\nfunction deuteranomaly() {\n    return 'deuteranomaly';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.SimulateColorBlindValues\n * @return {string}\n */\nfunction coneMonochromacy() {\n    return 'cone_monochromacy';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.SimulateColorBlindValues\n * @return {string}\n */\nfunction rodMonochromacy() {\n    return 'rod_monochromacy';\n}\nconst SimulateColorBlind = {\n    coneMonochromacy,\n    deuteranomaly,\n    deuteranopia,\n    protanopia,\n    rodMonochromacy,\n    tritanomaly,\n    tritanopia\n};\nexport { SimulateColorBlind, coneMonochromacy, deuteranomaly, deuteranopia, protanopia, rodMonochromacy, tritanomaly, tritanopia };\n","/**\n * @memberOf Qualifiers.Source\n * @description An abstract class extended by all Source objects\n */\nclass BaseSource {\n    /**\n     * @description Utility function to encode an asset publicID in an overlay\n     * @protected\n     * @example\n     * encodeAssetPublicID('foo/bar'); // -> foo:bar\n     */\n    encodeAssetPublicID(publicID) {\n        return publicID.replace(/\\//g, ':');\n    }\n    /**\n     * @description\n     * Apply a transformation on the image source of the layer\n     * @param {SDK.ImageTransformation} t An image transformation to apply to the layer\n     * @returns {this}\n     */\n    transformation(t) {\n        this._transformation = t;\n        return this;\n    }\n    /**\n     * @description Returns the Transformation of the source\n     * @return {SDK.Transformation}\n     */\n    getTransformation() {\n        return this._transformation;\n    }\n}\nexport { BaseSource };\n","import { BaseSource } from \"../BaseSource\";\n/**\n * @memberOf Qualifiers.Source\n * @extends {Qualifiers.Source.BaseSource}\n * @description Defines how to manipulate a video layer, is an instance of a {@link VideoTransformation|VideoTransformation}\n * <div class=\"panel panel-primary\">\n *   <div class=\"panel-heading\">Notice</div>\n *   <div class=\"panel-body\">\n *     This class is used as a Qualifier for the asset.overlay() and asset.underlay() methods.</br>\n *     You can find regular images and videos transformations below:\n *   </div>\n *   <ul>\n *     <li>{@link SDK.ImageTransformation| Image Transformations}</li>\n *     <li>{@link SDK.VideoTransformation| Video Transformations}\n *   </ul>\n * </div>\n */\nclass VideoSource extends BaseSource {\n    constructor(publicID) {\n        super();\n        this._publicID = publicID;\n    }\n    /**\n     * @description\n     * Returns the opening string of the layer,\n     * This method is used internally within {@link SDK.LayerAction|LayerAction}\n     * @returns {string}\n     */\n    getOpenSourceString(layerType) {\n        const encodedPublicID = this.encodeAssetPublicID(this._publicID);\n        return `${layerType}_video:${encodedPublicID}`;\n    }\n}\nexport { VideoSource };\n","import { BaseSource } from \"../BaseSource\";\n/**\n * @memberOf Qualifiers.Source\n * @extends {Qualifiers.Source.BaseSource}\n * @description Defines how to manipulate an image layer\n * <div class=\"panel panel-warning\">\n *   <div class=\"panel-heading\">Notice</div>\n *   <div class=\"panel-body\">\n *     This class is used as a Qualifier for the asset.overlay() and asset.underlay() methods.</br>\n *     You can find regular images and videos transformations below:\n *   </div>\n  *   <ul>\n *     <li>{@link SDK.ImageTransformation| Image Transformations}</li>\n *     <li>{@link SDK.VideoTransformation| Video Transformations}\n *   </ul>\n * </div>\n */\nclass ImageSource extends BaseSource {\n    constructor(publicID) {\n        super();\n        this._publicID = publicID;\n    }\n    /**\n     * @description\n     * Returns the opening string of the layer,\n     * This method is used internally within {@link SDK.LayerAction|LayerAction}\n     * @returns {string}\n     */\n    getOpenSourceString(layerType) {\n        const encodedPublicID = this.encodeAssetPublicID(this._publicID);\n        if (this._format) {\n            return `${layerType}_${encodedPublicID}.${this._format.toString()}`;\n        }\n        else {\n            return `${layerType}_${encodedPublicID}`;\n        }\n    }\n    /**\n     * @description\n     * Apply a format for the image source of the layer\n     * @param {FormatQualifier} format A to apply to the layered image, see more {@link Qualifiers.Format|here}\n     * @returns {this}\n     */\n    format(format) {\n        this._format = format;\n        return this;\n    }\n}\nexport { ImageSource };\n","import { BaseSource } from \"../BaseSource\";\nimport { serializeCloudinaryCharacters } from \"../../../internal/utils/serializeCloudinaryCharacters\";\nimport { Action } from \"../../../internal/Action\";\nimport { Qualifier } from \"../../../internal/qualifier/Qualifier\";\nimport { prepareColor } from \"../../../internal/utils/prepareColor\";\n/**\n * @memberOf Qualifiers.Source\n * @extends {Qualifiers.Source.BaseSource}\n * @description Defines the common interface for all text-based sources\n */\nclass BaseTextSource extends BaseSource {\n    constructor(text, textStyle) {\n        super();\n        this.type = 'text';\n        this.text = text;\n        this._textStyle = textStyle;\n    }\n    encodeText(text) {\n        return serializeCloudinaryCharacters(text);\n    }\n    textColor(color) {\n        this._textColor = color;\n        return this;\n    }\n    backgroundColor(bgColor) {\n        this._backgroundColor = bgColor;\n        return this;\n    }\n    /**\n     * @description\n     * Returns the opening string of the layer,\n     * This method is used internally within {@link SDK.LayerAction|LayerAction}\n     * @returns {string}\n     */\n    getOpenSourceString(layerType) {\n        const layerParam = [\n            this.type,\n            this._textStyle && this._textStyle.toString(),\n            this.encodeText(this.text)\n        ].filter((a) => a).join(':');\n        const tmpAction = new Action();\n        tmpAction.addQualifier(new Qualifier(layerType, layerParam));\n        this._textColor && tmpAction.addQualifier(new Qualifier('co', prepareColor(this._textColor)));\n        this._backgroundColor && tmpAction.addQualifier(new Qualifier('b', prepareColor(this._backgroundColor)));\n        return tmpAction.toString();\n    }\n}\nexport { BaseTextSource };\n","/**\n *\n * @description - Replace (,) and (/) in a string to its URL encoded equivalence\n * @param {string} str\n * @private\n */\nfunction serializeCloudinaryCharacters(str = '') {\n    return str\n        .replace(/,/g, '%2C')\n        .replace(/\\//g, '%2F');\n}\nexport { serializeCloudinaryCharacters };\n","import { BaseTextSource } from \"./BaseTextSource\";\n/**\n * @memberOf Qualifiers.Source\n * @extends {Qualifiers.Source.SubtitlesSource}\n * @description Defines how to manipulate a Subtitles layer\n */\nclass SubtitlesSource extends BaseTextSource {\n    constructor(fileName) {\n        super(fileName);\n        this.type = 'subtitles'; // used within TextSource for l/u_subtitles:\n    }\n    /**\n     * @description Set the textStyle for the subtitles layer\n     * @param {TextStyle} textStyle\n     */\n    textStyle(textStyle) {\n        this._textStyle = textStyle;\n        return this;\n    }\n    /**\n     *\n     * @description Used within getOpenSourceString of TextSource, this function overwrites the default encoding behaviour\n     * Subtitle file names require a different encoding than texts\n     * @param text\n     * @example\n     * encodeText('foo/bar'); // -> foo:bar\n     */\n    encodeText(text) {\n        return text.replace(/\\//g, ':');\n    }\n}\nexport { SubtitlesSource };\n","import { BaseSource } from \"../BaseSource\";\nimport { base64Encode } from \"../../../internal/utils/base64Encode\";\n/**\n * @memberOf Qualifiers.Source\n * @extends {Qualifiers.Source.BaseSource}\n * @description Defines how to manipulate a Fetch layer\n * <div class=\"panel panel-warning\">\n *   <div class=\"panel-heading\">Notice</div>\n *   <div class=\"panel-body\">\n *     This class is used as a Qualifier for the asset.overlay() and asset.underlay() methods.</br>\n *     You can find regular images and videos transformations below:\n *   </div>\n  *   <ul>\n *     <li>{@link SDK.ImageTransformation| Image Transformations}</li>\n *     <li>{@link SDK.VideoTransformation| Video Transformations}</li>\n *   </ul>\n * </div>\n *\n * {@link https://cloudinary.com/documentation/fetch_remote_images|Learn more about fetching from a remote URL}\n */\nclass FetchSource extends BaseSource {\n    constructor(remoteURL) {\n        super();\n        this._remoteURL = remoteURL;\n    }\n    /**\n     * @description\n     * Returns the opening string of the layer,\n     * This method is used internally within {@link SDK.LayerAction|LayerAction}\n     * @returns {string}\n     */\n    getOpenSourceString(layerType) {\n        if (this._format) {\n            return `${layerType}_fetch:${base64Encode(this._remoteURL)}.${this._format.toString()}`;\n        }\n        else {\n            return `${layerType}_fetch:${base64Encode(this._remoteURL)}`;\n        }\n    }\n    /**\n     * @description\n     * Apply a format for the image source of the layer\n     * @param {FormatQualifier} format A to apply to the layered image, see more {@link Qualifiers.Format|here}\n     * @returns {this}\n     */\n    format(format) {\n        this._format = format;\n        return this;\n    }\n}\nexport { FetchSource };\n","import { BaseTextSource } from \"./BaseTextSource\";\n/**\n * @memberOf Qualifiers.Source\n * @extends {Qualifiers.Source.BaseTextSource}\n * @description Defines how to manipulate a text layer\n */\nclass TextSource extends BaseTextSource {\n    constructor(fileName, textStyle) {\n        /* istanbul ignore next */\n        super(fileName, textStyle);\n    }\n}\nexport { TextSource };\n","import { VideoSource } from \"./source/sourceTypes/VideoSource\";\nimport { ImageSource } from \"./source/sourceTypes/ImageSource\";\nimport { SubtitlesSource } from \"./source/sourceTypes/SubtitlesSource\";\nimport { FetchSource } from \"./source/sourceTypes/FetchSource\";\nimport { TextSource } from \"./source/sourceTypes/TextSource\";\n/**\n * @description This namespace contains different sources that can be used in overlays and underlays\n * @memberOf Qualifiers\n * @namespace Source\n */\n/**\n * @summary qualifier\n * @description Returns an instance of an ImageSource\n * @memberOf Qualifiers.Source\n * @param {string} publicID The publicID of the image to be used as a layer\n * @return {Qualifiers.Source.ImageSource}\n */\nfunction image(publicID) {\n    return new ImageSource(publicID);\n}\n/**\n * @summary qualifier\n * @description Returns an instance of a TextSource\n * @memberOf Qualifiers.Source\n * @param {string} text The text to display.\n * @param {TextStyle | string} textStyle The textStyle to use with the text in the layer\n * @return {Qualifiers.Source.TextSource}\n */\nfunction text(text, textStyle) {\n    return new TextSource(text, textStyle);\n}\n/**\n * @summary qualifier\n * @description Returns an instance of a VideoSource\n * @memberOf Qualifiers.Source\n * @param {string} publicID The publicID of the video to be used as a layer\n * @return {Qualifiers.Source.VideoSource}\n */\nfunction video(publicID) {\n    return new VideoSource(publicID);\n}\n/**\n * @summary qualifier\n * @description Returns an instance of an VideoSource\n * @memberOf Qualifiers.Source\n * @param {string} fileName The publicID of the video to be used as a layer\n * @return {Qualifiers.Source.VideoSource}\n */\nfunction subtitles(fileName) {\n    return new SubtitlesSource(fileName);\n}\n/**\n * @summary qualifier\n * @description Returns an instance of a FetchSource\n * @memberOf Qualifiers.Source\n * @param {string} remoteURL The URL of the remote asset to fetch as a layer\n * @return {Qualifiers.Source.FetchSource}\n */\nfunction fetch(remoteURL) {\n    return new FetchSource(remoteURL);\n}\nconst Source = { image, text, video, subtitles, fetch };\nexport { Source, image, text, video, subtitles, fetch };\n","/**\n * @description Defines how the background gradient fade effect is applied.\n * @memberOf Qualifiers\n * @namespace GradientFade\n */\n/**\n * @summary qualifier\n * @description Instructs the gradient fade to be applied symmetrically (to opposite edges of the image).\n * @memberOf Qualifiers.GradientFade\n * @return {string}\n */\nfunction symmetric() {\n    return 'symmetric';\n}\n/**\n * @summary qualifier\n * @description Instructs the gradient fade to be applied symmetrically (to opposite edges of the image) including background padding.\n * @memberOf Qualifiers.GradientFade\n * @return {string}\n */\nfunction symmetricPad() {\n    return 'symmetric_pad';\n}\nconst GradientFade = {\n    symmetric,\n    symmetricPad\n};\nexport { GradientFade, symmetricPad, symmetric };\n","/**\n * @namespace Qualifiers\n */\nimport { AnimatedFormat } from \"./qualifiers/animatedFormat\";\nimport { ArtisticFilter } from \"./qualifiers/artisticFilter\";\nimport { AspectRatio } from \"./qualifiers/aspectRatio\";\nimport { AudioCodec } from \"./qualifiers/audioCodec\";\nimport { AudioFrequency } from \"./qualifiers/audioFrequency\";\nimport { Background } from \"./qualifiers/background\";\nimport { ChromaSubSampling } from \"./qualifiers/chromaSubSampling\";\nimport { Color } from \"./qualifiers/color\";\nimport { ColorSpace } from \"./qualifiers/colorSpace\";\nimport { Dither } from \"./qualifiers/dither\";\nimport { Dpr } from \"./qualifiers/dpr\";\nimport { Expression } from \"./qualifiers/expression\";\nimport { FontHinting } from \"./qualifiers/fontHinting\";\nimport { FontStyle } from \"./qualifiers/fontStyle\";\nimport { FontWeight } from \"./qualifiers/fontWeight\";\nimport { Format } from \"./qualifiers/format\";\nimport { GradientDirection } from \"./qualifiers/gradientDirection\";\nimport { Gravity } from \"./qualifiers/gravity\";\nimport { ImproveMode } from \"./qualifiers/improveMode\";\nimport { OutlineMode } from \"./qualifiers/outlineMode\";\nimport { Position } from \"./qualifiers/position\";\nimport { Quality } from \"./qualifiers/quality\";\nimport { Region } from \"./qualifiers/region\";\nimport { RotationMode } from \"./qualifiers/rotationMode\";\nimport { SimulateColorBlind } from \"./qualifiers/simulateColorBlind\";\nimport { Source } from \"./qualifiers/source\";\nimport { StreamingProfile } from \"./qualifiers/streamingProfile\";\nimport { TextAlignment } from \"./qualifiers/textAlignment\";\nimport { TextDecoration } from \"./qualifiers/textDecoration\";\nimport { GradientFade } from \"./qualifiers/GradientFade\";\nconst Qualifiers = {\n    TextDecoration,\n    TextAlignment,\n    StreamingProfile,\n    SimulateColorBlind,\n    RotationMode,\n    Region,\n    Quality,\n    Position,\n    OutlineMode,\n    ImproveMode,\n    GradientDirection,\n    Format,\n    FontWeight,\n    FontStyle,\n    FontHinting,\n    Expression,\n    Dither,\n    ColorSpace,\n    Color,\n    Background,\n    AudioFrequency,\n    AudioCodec,\n    AspectRatio,\n    ArtisticFilter,\n    AnimatedFormat,\n    Gravity,\n    ChromaSubSampling,\n    Dpr,\n    Sources: Source,\n    GradientFade\n};\nexport { Qualifiers };\n","/**\n * @description Contains functions to select the text decoration to be used with text.\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/image_transformations#adding_text_overlays | Adding text overlays to images}\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#adding_text_captions | Adding text overlays to videos}\n * @memberOf Qualifiers\n * @namespace TextDecoration\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.TextDecoration\n */\nfunction normal() {\n    return '';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.TextDecoration\n */\nfunction underline() {\n    return 'underline';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.TextDecoration\n */\nfunction strikethrough() {\n    return 'strikethrough';\n}\nconst TextDecoration = { normal, underline, strikethrough };\nexport { TextDecoration, normal, underline, strikethrough };\n","/**\n * @description Contains functions to select the alignment of the text.\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/image_transformations#adding_text_overlays | Adding text overlays to images}\n * <b>Learn more</b>: {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#adding_text_captions | Adding text overlays to videos}\n * @memberOf Qualifiers\n * @namespace TextAlignment\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.TextAlignment\n */\nfunction left() {\n    return 'left';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.TextAlignment\n */\nfunction right() {\n    return 'right';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.TextAlignment\n */\nfunction center() {\n    return 'center';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.TextAlignment\n */\nfunction start() {\n    return 'start';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.TextAlignment\n */\nfunction end() {\n    return 'end';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.TextAlignment\n */\nfunction justify() {\n    return 'justify';\n}\nconst TextAlignment = { left, right, center, end, justify, start };\nexport { TextAlignment, left, right, center, end, justify, start };\n","/**\n * @description Qualifiers for applying an ordered dither filter to the image.\n * @namespace StreamingProfile\n * @memberOf Qualifiers\n */\n/**\n * @summary qualifier\n * @memberOf Qualifiers.StreamingProfile\n * @return {string}\n */\nfunction fullHd() {\n    return 'full_hd';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.StreamingProfile\n * @return {string}\n */\nfunction hd() {\n    return 'hd';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.StreamingProfile\n * @return {string}\n */\nfunction sd() {\n    return 'sd';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.StreamingProfile\n * @return {string}\n */\nfunction fullHdWifi() {\n    return 'full_hd_wifi';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.StreamingProfile\n * @return {string}\n */\nfunction fullHdLean() {\n    return 'full_hd_lean';\n}\n/**\n * @summary qualifier\n * @memberOf Qualifiers.StreamingProfile\n * @return {string}\n */\nfunction hdLean() {\n    return 'hd_lean';\n}\nconst StreamingProfile = {\n    hd,\n    sd,\n    hdLean,\n    fullHd,\n    fullHdLean,\n    fullHdWifi\n};\nexport { hd, sd, hdLean, fullHd, fullHdLean, fullHdWifi, StreamingProfile };\n","import { Action } from \"../../internal/Action\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier\";\nimport { tiled } from \"../flag\";\nimport { noOverflow } from \"../flag\";\n/**\n * @description\n * Defines the position of a layer: overlay or underlay.</br>\n * Even though Position is technically an action qualifier, it implements exactly the same functionality as an action.</br>\n * This is true because Position is compounded of multiple qualifiers</br>\n *\n * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#image_and_text_overlays|Applying overlays to images} | {@link https://cloudinary.com/documentation/video_manipulation_and_delivery#adding_image_overlays|Applying overlays to videos}\n *\n * @augments {SDK.Actions}\n */\nclass PositionQualifier extends Action {\n    constructor() {\n        super();\n    }\n    gravity(gravityQualifier) {\n        this.addQualifier(gravityQualifier);\n        return this;\n    }\n    /**\n     * @description Tiles the overlay across your image.\n     * <b>Learn more:</b> {@link https://cloudinary.com/documentation/image_transformations#tiling_overlays | Tiling overlay}\n     */\n    tiled() {\n        this.addFlag(tiled());\n        return this;\n    }\n    /**\n     * TODO - This should accept a boolean value\n     * @description Prevents an image or text overlay from extending a delivered image canvas beyond the dimensions of the base image\n     * <b>Learn more:</b> {@link https://cloudinary.com/documentation/transformation_reference#fl_no_overflow | Overflow in overlays}\n     */\n    allowOverflow(bool = true) {\n        if (bool === false) {\n            this.addFlag(noOverflow());\n        }\n        return this;\n    }\n    /**\n     * @description Set the X Offset\n     * @param {number | string} offsetX\n     * @return {this}\n     */\n    offsetX(offsetX) {\n        this.addQualifier(new Qualifier('x', offsetX));\n        return this;\n    }\n    /**\n     * @description Set the Y Offset\n     * @param {number | string} offsetY\n     * @return {this}\n     */\n    offsetY(offsetY) {\n        this.addQualifier(new Qualifier('y', offsetY));\n        return this;\n    }\n}\nexport { PositionQualifier };\n","/**\n * @memberOf Qualifiers\n * @namespace Color\n */\nconst Color = {\n    SNOW: 'snow',\n    SNOW1: 'snow1',\n    SNOW2: 'snow2',\n    ROSYBROWN1: 'rosybrown1',\n    ROSYBROWN2: 'rosybrown2',\n    SNOW3: 'snow3',\n    LIGHTCORAL: 'lightcoral',\n    INDIANRED1: 'indianred1',\n    ROSYBROWN3: 'rosybrown3',\n    INDIANRED2: 'indianred2',\n    ROSYBROWN: 'rosybrown',\n    BROWN1: 'brown1',\n    FIREBRICK1: 'firebrick1',\n    BROWN2: 'brown2',\n    INDIANRED: 'indianred',\n    INDIANRED3: 'indianred3',\n    FIREBRICK2: 'firebrick2',\n    SNOW4: 'snow4',\n    BROWN3: 'brown3',\n    RED: 'red',\n    RED1: 'red1',\n    ROSYBROWN4: 'rosybrown4',\n    FIREBRICK3: 'firebrick3',\n    RED2: 'red2',\n    FIREBRICK: 'firebrick',\n    BROWN: 'brown',\n    RED3: 'red3',\n    INDIANRED4: 'indianred4',\n    BROWN4: 'brown4',\n    FIREBRICK4: 'firebrick4',\n    DARKRED: 'darkred',\n    RED4: 'red4',\n    LIGHTPINK1: 'lightpink1',\n    LIGHTPINK3: 'lightpink3',\n    LIGHTPINK4: 'lightpink4',\n    LIGHTPINK2: 'lightpink2',\n    LIGHTPINK: 'lightpink',\n    PINK: 'pink',\n    CRIMSON: 'crimson',\n    PINK1: 'pink1',\n    PINK2: 'pink2',\n    PINK3: 'pink3',\n    PINK4: 'pink4',\n    PALEVIOLETRED4: 'palevioletred4',\n    PALEVIOLETRED: 'palevioletred',\n    PALEVIOLETRED2: 'palevioletred2',\n    PALEVIOLETRED1: 'palevioletred1',\n    PALEVIOLETRED3: 'palevioletred3',\n    LAVENDERBLUSH: 'lavenderblush',\n    LAVENDERBLUSH1: 'lavenderblush1',\n    LAVENDERBLUSH3: 'lavenderblush3',\n    LAVENDERBLUSH2: 'lavenderblush2',\n    LAVENDERBLUSH4: 'lavenderblush4',\n    MAROON: 'maroon',\n    HOTPINK3: 'hotpink3',\n    VIOLETRED3: 'violetred3',\n    VIOLETRED1: 'violetred1',\n    VIOLETRED2: 'violetred2',\n    VIOLETRED4: 'violetred4',\n    HOTPINK2: 'hotpink2',\n    HOTPINK1: 'hotpink1',\n    HOTPINK4: 'hotpink4',\n    HOTPINK: 'hotpink',\n    DEEPPINK: 'deeppink',\n    DEEPPINK1: 'deeppink1',\n    DEEPPINK2: 'deeppink2',\n    DEEPPINK3: 'deeppink3',\n    DEEPPINK4: 'deeppink4',\n    MAROON1: 'maroon1',\n    MAROON2: 'maroon2',\n    MAROON3: 'maroon3',\n    MAROON4: 'maroon4',\n    MEDIUMVIOLETRED: 'mediumvioletred',\n    VIOLETRED: 'violetred',\n    ORCHID2: 'orchid2',\n    ORCHID: 'orchid',\n    ORCHID1: 'orchid1',\n    ORCHID3: 'orchid3',\n    ORCHID4: 'orchid4',\n    THISTLE1: 'thistle1',\n    THISTLE2: 'thistle2',\n    PLUM1: 'plum1',\n    PLUM2: 'plum2',\n    THISTLE: 'thistle',\n    THISTLE3: 'thistle3',\n    PLUM: 'plum',\n    VIOLET: 'violet',\n    PLUM3: 'plum3',\n    THISTLE4: 'thistle4',\n    FUCHSIA: 'fuchsia',\n    MAGENTA: 'magenta',\n    MAGENTA1: 'magenta1',\n    PLUM4: 'plum4',\n    MAGENTA2: 'magenta2',\n    MAGENTA3: 'magenta3',\n    DARKMAGENTA: 'darkmagenta',\n    MAGENTA4: 'magenta4',\n    PURPLE: 'purple',\n    MEDIUMORCHID: 'mediumorchid',\n    MEDIUMORCHID1: 'mediumorchid1',\n    MEDIUMORCHID2: 'mediumorchid2',\n    MEDIUMORCHID3: 'mediumorchid3',\n    MEDIUMORCHID4: 'mediumorchid4',\n    DARKVIOLET: 'darkviolet',\n    DARKORCHID: 'darkorchid',\n    DARKORCHID1: 'darkorchid1',\n    DARKORCHID3: 'darkorchid3',\n    DARKORCHID2: 'darkorchid2',\n    DARKORCHID4: 'darkorchid4',\n    INDIGO: 'indigo',\n    BLUEVIOLET: 'blueviolet',\n    PURPLE2: 'purple2',\n    PURPLE3: 'purple3',\n    PURPLE4: 'purple4',\n    PURPLE1: 'purple1',\n    MEDIUMPURPLE: 'mediumpurple',\n    MEDIUMPURPLE1: 'mediumpurple1',\n    MEDIUMPURPLE2: 'mediumpurple2',\n    MEDIUMPURPLE3: 'mediumpurple3',\n    MEDIUMPURPLE4: 'mediumpurple4',\n    DARKSLATEBLUE: 'darkslateblue',\n    LIGHTSLATEBLUE: 'lightslateblue',\n    MEDIUMSLATEBLUE: 'mediumslateblue',\n    SLATEBLUE: 'slateblue',\n    SLATEBLUE1: 'slateblue1',\n    SLATEBLUE2: 'slateblue2',\n    SLATEBLUE3: 'slateblue3',\n    SLATEBLUE4: 'slateblue4',\n    GHOSTWHITE: 'ghostwhite',\n    LAVENDER: 'lavender',\n    BLUE: 'blue',\n    BLUE1: 'blue1',\n    BLUE2: 'blue2',\n    BLUE3: 'blue3',\n    MEDIUMBLUE: 'mediumblue',\n    BLUE4: 'blue4',\n    DARKBLUE: 'darkblue',\n    MIDNIGHTBLUE: 'midnightblue',\n    NAVY: 'navy',\n    NAVYBLUE: 'navyblue',\n    ROYALBLUE: 'royalblue',\n    ROYALBLUE1: 'royalblue1',\n    ROYALBLUE2: 'royalblue2',\n    ROYALBLUE3: 'royalblue3',\n    ROYALBLUE4: 'royalblue4',\n    CORNFLOWERBLUE: 'cornflowerblue',\n    LIGHTSTEELBLUE: 'lightsteelblue',\n    LIGHTSTEELBLUE1: 'lightsteelblue1',\n    LIGHTSTEELBLUE2: 'lightsteelblue2',\n    LIGHTSTEELBLUE3: 'lightsteelblue3',\n    LIGHTSTEELBLUE4: 'lightsteelblue4',\n    SLATEGRAY4: 'slategray4',\n    SLATEGRAY1: 'slategray1',\n    SLATEGRAY2: 'slategray2',\n    SLATEGRAY3: 'slategray3',\n    LIGHTSLATEGRAY: 'lightslategray',\n    LIGHTSLATEGREY: 'lightslategrey',\n    SLATEGRAY: 'slategray',\n    SLATEGREY: 'slategrey',\n    DODGERBLUE: 'dodgerblue',\n    DODGERBLUE1: 'dodgerblue1',\n    DODGERBLUE2: 'dodgerblue2',\n    DODGERBLUE4: 'dodgerblue4',\n    DODGERBLUE3: 'dodgerblue3',\n    ALICEBLUE: 'aliceblue',\n    STEELBLUE4: 'steelblue4',\n    STEELBLUE: 'steelblue',\n    STEELBLUE1: 'steelblue1',\n    STEELBLUE2: 'steelblue2',\n    STEELBLUE3: 'steelblue3',\n    SKYBLUE4: 'skyblue4',\n    SKYBLUE1: 'skyblue1',\n    SKYBLUE2: 'skyblue2',\n    SKYBLUE3: 'skyblue3',\n    LIGHTSKYBLUE: 'lightskyblue',\n    LIGHTSKYBLUE4: 'lightskyblue4',\n    LIGHTSKYBLUE1: 'lightskyblue1',\n    LIGHTSKYBLUE2: 'lightskyblue2',\n    LIGHTSKYBLUE3: 'lightskyblue3',\n    SKYBLUE: 'skyblue',\n    LIGHTBLUE3: 'lightblue3',\n    DEEPSKYBLUE: 'deepskyblue',\n    DEEPSKYBLUE1: 'deepskyblue1',\n    DEEPSKYBLUE2: 'deepskyblue2',\n    DEEPSKYBLUE4: 'deepskyblue4',\n    DEEPSKYBLUE3: 'deepskyblue3',\n    LIGHTBLUE1: 'lightblue1',\n    LIGHTBLUE2: 'lightblue2',\n    LIGHTBLUE: 'lightblue',\n    LIGHTBLUE4: 'lightblue4',\n    POWDERBLUE: 'powderblue',\n    CADETBLUE1: 'cadetblue1',\n    CADETBLUE2: 'cadetblue2',\n    CADETBLUE3: 'cadetblue3',\n    CADETBLUE4: 'cadetblue4',\n    TURQUOISE1: 'turquoise1',\n    TURQUOISE2: 'turquoise2',\n    TURQUOISE3: 'turquoise3',\n    TURQUOISE4: 'turquoise4',\n    CADETBLUE: 'cadetblue',\n    DARKTURQUOISE: 'darkturquoise',\n    AZURE: 'azure',\n    AZURE1: 'azure1',\n    LIGHTCYAN1: 'lightcyan1',\n    LIGHTCYAN: 'lightcyan',\n    AZURE2: 'azure2',\n    LIGHTCYAN2: 'lightcyan2',\n    PALETURQUOISE1: 'paleturquoise1',\n    PALETURQUOISE: 'paleturquoise',\n    PALETURQUOISE2: 'paleturquoise2',\n    DARKSLATEGRAY1: 'darkslategray1',\n    AZURE3: 'azure3',\n    LIGHTCYAN3: 'lightcyan3',\n    DARKSLATEGRAY2: 'darkslategray2',\n    PALETURQUOISE3: 'paleturquoise3',\n    DARKSLATEGRAY3: 'darkslategray3',\n    AZURE4: 'azure4',\n    LIGHTCYAN4: 'lightcyan4',\n    AQUA: 'aqua',\n    CYAN: 'cyan',\n    CYAN1: 'cyan1',\n    PALETURQUOISE4: 'paleturquoise4',\n    CYAN2: 'cyan2',\n    DARKSLATEGRAY4: 'darkslategray4',\n    CYAN3: 'cyan3',\n    CYAN4: 'cyan4',\n    DARKCYAN: 'darkcyan',\n    TEAL: 'teal',\n    DARKSLATEGRAY: 'darkslategray',\n    DARKSLATEGREY: 'darkslategrey',\n    MEDIUMTURQUOISE: 'mediumturquoise',\n    LIGHTSEAGREEN: 'lightseagreen',\n    TURQUOISE: 'turquoise',\n    AQUAMARINE4: 'aquamarine4',\n    AQUAMARINE: 'aquamarine',\n    AQUAMARINE1: 'aquamarine1',\n    AQUAMARINE2: 'aquamarine2',\n    AQUAMARINE3: 'aquamarine3',\n    MEDIUMAQUAMARINE: 'mediumaquamarine',\n    MEDIUMSPRINGGREEN: 'mediumspringgreen',\n    MINTCREAM: 'mintcream',\n    SPRINGGREEN: 'springgreen',\n    SPRINGGREEN1: 'springgreen1',\n    SPRINGGREEN2: 'springgreen2',\n    SPRINGGREEN3: 'springgreen3',\n    SPRINGGREEN4: 'springgreen4',\n    MEDIUMSEAGREEN: 'mediumseagreen',\n    SEAGREEN: 'seagreen',\n    SEAGREEN3: 'seagreen3',\n    SEAGREEN1: 'seagreen1',\n    SEAGREEN4: 'seagreen4',\n    SEAGREEN2: 'seagreen2',\n    MEDIUMFORESTGREEN: 'mediumforestgreen',\n    HONEYDEW: 'honeydew',\n    HONEYDEW1: 'honeydew1',\n    HONEYDEW2: 'honeydew2',\n    DARKSEAGREEN1: 'darkseagreen1',\n    DARKSEAGREEN2: 'darkseagreen2',\n    PALEGREEN1: 'palegreen1',\n    PALEGREEN: 'palegreen',\n    HONEYDEW3: 'honeydew3',\n    LIGHTGREEN: 'lightgreen',\n    PALEGREEN2: 'palegreen2',\n    DARKSEAGREEN3: 'darkseagreen3',\n    DARKSEAGREEN: 'darkseagreen',\n    PALEGREEN3: 'palegreen3',\n    HONEYDEW4: 'honeydew4',\n    GREEN1: 'green1',\n    LIME: 'lime',\n    LIMEGREEN: 'limegreen',\n    DARKSEAGREEN4: 'darkseagreen4',\n    GREEN2: 'green2',\n    PALEGREEN4: 'palegreen4',\n    GREEN3: 'green3',\n    FORESTGREEN: 'forestgreen',\n    GREEN4: 'green4',\n    GREEN: 'green',\n    DARKGREEN: 'darkgreen',\n    LAWNGREEN: 'lawngreen',\n    CHARTREUSE: 'chartreuse',\n    CHARTREUSE1: 'chartreuse1',\n    CHARTREUSE2: 'chartreuse2',\n    CHARTREUSE3: 'chartreuse3',\n    CHARTREUSE4: 'chartreuse4',\n    GREENYELLOW: 'greenyellow',\n    DARKOLIVEGREEN3: 'darkolivegreen3',\n    DARKOLIVEGREEN1: 'darkolivegreen1',\n    DARKOLIVEGREEN2: 'darkolivegreen2',\n    DARKOLIVEGREEN4: 'darkolivegreen4',\n    DARKOLIVEGREEN: 'darkolivegreen',\n    OLIVEDRAB: 'olivedrab',\n    OLIVEDRAB1: 'olivedrab1',\n    OLIVEDRAB2: 'olivedrab2',\n    OLIVEDRAB3: 'olivedrab3',\n    YELLOWGREEN: 'yellowgreen',\n    OLIVEDRAB4: 'olivedrab4',\n    IVORY: 'ivory',\n    IVORY1: 'ivory1',\n    LIGHTYELLOW: 'lightyellow',\n    LIGHTYELLOW1: 'lightyellow1',\n    BEIGE: 'beige',\n    IVORY2: 'ivory2',\n    LIGHTGOLDENRODYELLOW: 'lightgoldenrodyellow',\n    LIGHTYELLOW2: 'lightyellow2',\n    IVORY3: 'ivory3',\n    LIGHTYELLOW3: 'lightyellow3',\n    IVORY4: 'ivory4',\n    LIGHTYELLOW4: 'lightyellow4',\n    YELLOW: 'yellow',\n    YELLOW1: 'yellow1',\n    YELLOW2: 'yellow2',\n    YELLOW3: 'yellow3',\n    YELLOW4: 'yellow4',\n    OLIVE: 'olive',\n    DARKKHAKI: 'darkkhaki',\n    KHAKI2: 'khaki2',\n    LEMONCHIFFON4: 'lemonchiffon4',\n    KHAKI1: 'khaki1',\n    KHAKI3: 'khaki3',\n    KHAKI4: 'khaki4',\n    PALEGOLDENROD: 'palegoldenrod',\n    LEMONCHIFFON: 'lemonchiffon',\n    LEMONCHIFFON1: 'lemonchiffon1',\n    KHAKI: 'khaki',\n    LEMONCHIFFON3: 'lemonchiffon3',\n    LEMONCHIFFON2: 'lemonchiffon2',\n    MEDIUMGOLDENROD: 'mediumgoldenrod',\n    CORNSILK4: 'cornsilk4',\n    GOLD: 'gold',\n    GOLD1: 'gold1',\n    GOLD2: 'gold2',\n    GOLD3: 'gold3',\n    GOLD4: 'gold4',\n    LIGHTGOLDENROD: 'lightgoldenrod',\n    LIGHTGOLDENROD4: 'lightgoldenrod4',\n    LIGHTGOLDENROD1: 'lightgoldenrod1',\n    LIGHTGOLDENROD3: 'lightgoldenrod3',\n    LIGHTGOLDENROD2: 'lightgoldenrod2',\n    CORNSILK3: 'cornsilk3',\n    CORNSILK2: 'cornsilk2',\n    CORNSILK: 'cornsilk',\n    CORNSILK1: 'cornsilk1',\n    GOLDENROD: 'goldenrod',\n    GOLDENROD1: 'goldenrod1',\n    GOLDENROD2: 'goldenrod2',\n    GOLDENROD3: 'goldenrod3',\n    GOLDENROD4: 'goldenrod4',\n    DARKGOLDENROD: 'darkgoldenrod',\n    DARKGOLDENROD1: 'darkgoldenrod1',\n    DARKGOLDENROD2: 'darkgoldenrod2',\n    DARKGOLDENROD3: 'darkgoldenrod3',\n    DARKGOLDENROD4: 'darkgoldenrod4',\n    FLORALWHITE: 'floralwhite',\n    WHEAT2: 'wheat2',\n    OLDLACE: 'oldlace',\n    WHEAT: 'wheat',\n    WHEAT1: 'wheat1',\n    WHEAT3: 'wheat3',\n    ORANGE: 'orange',\n    ORANGE1: 'orange1',\n    ORANGE2: 'orange2',\n    ORANGE3: 'orange3',\n    ORANGE4: 'orange4',\n    WHEAT4: 'wheat4',\n    MOCCASIN: 'moccasin',\n    PAPAYAWHIP: 'papayawhip',\n    NAVAJOWHITE3: 'navajowhite3',\n    BLANCHEDALMOND: 'blanchedalmond',\n    NAVAJOWHITE: 'navajowhite',\n    NAVAJOWHITE1: 'navajowhite1',\n    NAVAJOWHITE2: 'navajowhite2',\n    NAVAJOWHITE4: 'navajowhite4',\n    ANTIQUEWHITE4: 'antiquewhite4',\n    ANTIQUEWHITE: 'antiquewhite',\n    TAN: 'tan',\n    BISQUE4: 'bisque4',\n    BURLYWOOD: 'burlywood',\n    ANTIQUEWHITE2: 'antiquewhite2',\n    BURLYWOOD1: 'burlywood1',\n    BURLYWOOD3: 'burlywood3',\n    BURLYWOOD2: 'burlywood2',\n    ANTIQUEWHITE1: 'antiquewhite1',\n    BURLYWOOD4: 'burlywood4',\n    ANTIQUEWHITE3: 'antiquewhite3',\n    DARKORANGE: 'darkorange',\n    BISQUE2: 'bisque2',\n    BISQUE: 'bisque',\n    BISQUE1: 'bisque1',\n    BISQUE3: 'bisque3',\n    DARKORANGE1: 'darkorange1',\n    LINEN: 'linen',\n    DARKORANGE2: 'darkorange2',\n    DARKORANGE3: 'darkorange3',\n    DARKORANGE4: 'darkorange4',\n    PERU: 'peru',\n    TAN1: 'tan1',\n    TAN2: 'tan2',\n    TAN3: 'tan3',\n    TAN4: 'tan4',\n    PEACHPUFF: 'peachpuff',\n    PEACHPUFF1: 'peachpuff1',\n    PEACHPUFF4: 'peachpuff4',\n    PEACHPUFF2: 'peachpuff2',\n    PEACHPUFF3: 'peachpuff3',\n    SANDYBROWN: 'sandybrown',\n    SEASHELL4: 'seashell4',\n    SEASHELL2: 'seashell2',\n    SEASHELL3: 'seashell3',\n    CHOCOLATE: 'chocolate',\n    CHOCOLATE1: 'chocolate1',\n    CHOCOLATE2: 'chocolate2',\n    CHOCOLATE3: 'chocolate3',\n    CHOCOLATE4: 'chocolate4',\n    SADDLEBROWN: 'saddlebrown',\n    SEASHELL: 'seashell',\n    SEASHELL1: 'seashell1',\n    SIENNA4: 'sienna4',\n    SIENNA: 'sienna',\n    SIENNA1: 'sienna1',\n    SIENNA2: 'sienna2',\n    SIENNA3: 'sienna3',\n    LIGHTSALMON3: 'lightsalmon3',\n    LIGHTSALMON: 'lightsalmon',\n    LIGHTSALMON1: 'lightsalmon1',\n    LIGHTSALMON4: 'lightsalmon4',\n    LIGHTSALMON2: 'lightsalmon2',\n    CORAL: 'coral',\n    ORANGERED: 'orangered',\n    ORANGERED1: 'orangered1',\n    ORANGERED2: 'orangered2',\n    ORANGERED3: 'orangered3',\n    ORANGERED4: 'orangered4',\n    DARKSALMON: 'darksalmon',\n    SALMON1: 'salmon1',\n    SALMON2: 'salmon2',\n    SALMON3: 'salmon3',\n    SALMON4: 'salmon4',\n    CORAL1: 'coral1',\n    CORAL2: 'coral2',\n    CORAL3: 'coral3',\n    CORAL4: 'coral4',\n    TOMATO4: 'tomato4',\n    TOMATO: 'tomato',\n    TOMATO1: 'tomato1',\n    TOMATO2: 'tomato2',\n    TOMATO3: 'tomato3',\n    MISTYROSE4: 'mistyrose4',\n    MISTYROSE2: 'mistyrose2',\n    MISTYROSE: 'mistyrose',\n    MISTYROSE1: 'mistyrose1',\n    SALMON: 'salmon',\n    MISTYROSE3: 'mistyrose3',\n    WHITE: 'white',\n    GRAY100: 'gray100',\n    GREY100: 'grey100',\n    GRAY99: 'gray99',\n    GREY99: 'grey99',\n    GRAY98: 'gray98',\n    GREY98: 'grey98',\n    GRAY97: 'gray97',\n    GREY97: 'grey97',\n    GRAY96: 'gray96',\n    GREY96: 'grey96',\n    WHITESMOKE: 'whitesmoke',\n    GRAY95: 'gray95',\n    GREY95: 'grey95',\n    GRAY94: 'gray94',\n    GREY94: 'grey94',\n    GRAY93: 'gray93',\n    GREY93: 'grey93',\n    GRAY92: 'gray92',\n    GREY92: 'grey92',\n    GRAY91: 'gray91',\n    GREY91: 'grey91',\n    GRAY90: 'gray90',\n    GREY90: 'grey90',\n    GRAY89: 'gray89',\n    GREY89: 'grey89',\n    GRAY88: 'gray88',\n    GREY88: 'grey88',\n    GRAY87: 'gray87',\n    GREY87: 'grey87',\n    GAINSBORO: 'gainsboro',\n    GRAY86: 'gray86',\n    GREY86: 'grey86',\n    GRAY85: 'gray85',\n    GREY85: 'grey85',\n    GRAY84: 'gray84',\n    GREY84: 'grey84',\n    GRAY83: 'gray83',\n    GREY83: 'grey83',\n    LIGHTGRAY: 'lightgray',\n    LIGHTGREY: 'lightgrey',\n    GRAY82: 'gray82',\n    GREY82: 'grey82',\n    GRAY81: 'gray81',\n    GREY81: 'grey81',\n    GRAY80: 'gray80',\n    GREY80: 'grey80',\n    GRAY79: 'gray79',\n    GREY79: 'grey79',\n    GRAY78: 'gray78',\n    GREY78: 'grey78',\n    GRAY77: 'gray77',\n    GREY77: 'grey77',\n    GRAY76: 'gray76',\n    GREY76: 'grey76',\n    SILVER: 'silver',\n    GRAY75: 'gray75',\n    GREY75: 'grey75',\n    GRAY74: 'gray74',\n    GREY74: 'grey74',\n    GRAY73: 'gray73',\n    GREY73: 'grey73',\n    GRAY72: 'gray72',\n    GREY72: 'grey72',\n    GRAY71: 'gray71',\n    GREY71: 'grey71',\n    GRAY70: 'gray70',\n    GREY70: 'grey70',\n    GRAY69: 'gray69',\n    GREY69: 'grey69',\n    GRAY68: 'gray68',\n    GREY68: 'grey68',\n    GRAY67: 'gray67',\n    GREY67: 'grey67',\n    DARKGRAY: 'darkgray',\n    DARKGREY: 'darkgrey',\n    GRAY66: 'gray66',\n    GREY66: 'grey66',\n    GRAY65: 'gray65',\n    GREY65: 'grey65',\n    GRAY64: 'gray64',\n    GREY64: 'grey64',\n    GRAY63: 'gray63',\n    GREY63: 'grey63',\n    GRAY62: 'gray62',\n    GREY62: 'grey62',\n    GRAY61: 'gray61',\n    GREY61: 'grey61',\n    GRAY60: 'gray60',\n    GREY60: 'grey60',\n    GRAY59: 'gray59',\n    GREY59: 'grey59',\n    GRAY58: 'gray58',\n    GREY58: 'grey58',\n    GRAY57: 'gray57',\n    GREY57: 'grey57',\n    GRAY56: 'gray56',\n    GREY56: 'grey56',\n    GRAY55: 'gray55',\n    GREY55: 'grey55',\n    GRAY54: 'gray54',\n    GREY54: 'grey54',\n    GRAY53: 'gray53',\n    GREY53: 'grey53',\n    GRAY52: 'gray52',\n    GREY52: 'grey52',\n    GRAY51: 'gray51',\n    GREY51: 'grey51',\n    FRACTAL: 'fractal',\n    GRAY50: 'gray50',\n    GREY50: 'grey50',\n    GRAY: 'gray',\n    GREY: 'grey',\n    GRAY49: 'gray49',\n    GREY49: 'grey49',\n    GRAY48: 'gray48',\n    GREY48: 'grey48',\n    GRAY47: 'gray47',\n    GREY47: 'grey47',\n    GRAY46: 'gray46',\n    GREY46: 'grey46',\n    GRAY45: 'gray45',\n    GREY45: 'grey45',\n    GRAY44: 'gray44',\n    GREY44: 'grey44',\n    GRAY43: 'gray43',\n    GREY43: 'grey43',\n    GRAY42: 'gray42',\n    GREY42: 'grey42',\n    DIMGRAY: 'dimgray',\n    DIMGREY: 'dimgrey',\n    GRAY41: 'gray41',\n    GREY41: 'grey41',\n    GRAY40: 'gray40',\n    GREY40: 'grey40',\n    GRAY39: 'gray39',\n    GREY39: 'grey39',\n    GRAY38: 'gray38',\n    GREY38: 'grey38',\n    GRAY37: 'gray37',\n    GREY37: 'grey37',\n    GRAY36: 'gray36',\n    GREY36: 'grey36',\n    GRAY35: 'gray35',\n    GREY35: 'grey35',\n    GRAY34: 'gray34',\n    GREY34: 'grey34',\n    GRAY33: 'gray33',\n    GREY33: 'grey33',\n    GRAY32: 'gray32',\n    GREY32: 'grey32',\n    GRAY31: 'gray31',\n    GREY31: 'grey31',\n    GRAY30: 'gray30',\n    GREY30: 'grey30',\n    GRAY29: 'gray29',\n    GREY29: 'grey29',\n    GRAY28: 'gray28',\n    GREY28: 'grey28',\n    GRAY27: 'gray27',\n    GREY27: 'grey27',\n    GRAY26: 'gray26',\n    GREY26: 'grey26',\n    GRAY25: 'gray25',\n    GREY25: 'grey25',\n    GRAY24: 'gray24',\n    GREY24: 'grey24',\n    GRAY23: 'gray23',\n    GREY23: 'grey23',\n    GRAY22: 'gray22',\n    GREY22: 'grey22',\n    GRAY21: 'gray21',\n    GREY21: 'grey21',\n    GRAY20: 'gray20',\n    GREY20: 'grey20',\n    GRAY19: 'gray19',\n    GREY19: 'grey19',\n    GRAY18: 'gray18',\n    GREY18: 'grey18',\n    GRAY17: 'gray17',\n    GREY17: 'grey17',\n    GRAY16: 'gray16',\n    GREY16: 'grey16',\n    GRAY15: 'gray15',\n    GREY15: 'grey15',\n    GRAY14: 'gray14',\n    GREY14: 'grey14',\n    GRAY13: 'gray13',\n    GREY13: 'grey13',\n    GRAY12: 'gray12',\n    GREY12: 'grey12',\n    GRAY11: 'gray11',\n    GREY11: 'grey11',\n    GRAY10: 'gray10',\n    GREY10: 'grey10',\n    GRAY9: 'gray9',\n    GREY9: 'grey9',\n    GRAY8: 'gray8',\n    GREY8: 'grey8',\n    GRAY7: 'gray7',\n    GREY7: 'grey7',\n    GRAY6: 'gray6',\n    GREY6: 'grey6',\n    GRAY5: 'gray5',\n    GREY5: 'grey5',\n    GRAY4: 'gray4',\n    GREY4: 'grey4',\n    GRAY3: 'gray3',\n    GREY3: 'grey3',\n    GRAY2: 'gray2',\n    GREY2: 'grey2',\n    GRAY1: 'gray1',\n    GREY1: 'grey1',\n    BLACK: 'black',\n    GRAY0: 'gray0',\n    GREY0: 'grey0',\n    OPAQUE: 'opaque',\n    NONE: 'none',\n    TRANSPARENT: 'transparent'\n};\nexport { Color };\n","// src/store/list/mixins/remote/cloudy.js\n\nimport _ from 'lodash'\nimport { Cloudinary } from \"@cloudinary/base\"\nimport { Actions } from \"@cloudinary/base\"\nimport { Qualifiers } from \"@cloudinary/base\"\n//import { scale, fill, thumbnail } from \"@cloudinary/base/actions/resize\"\n//import { autoGravity } from \"@cloudinary/base/qualifiers/gravity\"\nimport foreign from \"../../../loading/foreign\"\nconst {Resize} = Actions\nconst { scale, fill, thumbnail } = Resize\nconst {Gravity} = Qualifiers\nconst { autoGravity } = Gravity\n\n// Create your instance\nconst cld = new Cloudinary({\n\tcloud: {\n\t\tcloudName: \"dbezrymmc\",\n\t},\n\turl: {\n\t\tsecure: true, // force https, set to false to force http\n\t},\n})\n\nexport default {\n\tcloudyId(id) {\n\t\tif (!id) return\n\t\tconst img = this.get(id)\n\t\tif (!img) return\n\t\tconst cloudyId = img.url.substring(img.url.indexOf(\"artists/\"))\n\t\treturn cloudyId\n\t},\n\tsrc(id, opts = {}) {\n\t\tif (!id) return\n\t\tconst cloudyId = this.cloudyId(id)\n\t\tconst scaleParam =\n\t\t\topts.scale &&\n\t\t\tscale()\n\t\t\t\t.width(opts.scale.width)\n\t\t\t\t.height(opts.scale.height)\n\t\tconst fillParam =\n\t\t\topts.fill &&\n\t\t\tfill()\n\t\t\t\t.width(opts.fill.width)\n\t\t\t\t.height(opts.fill.height)\n\t\tconst thumbParam =\n\t\t\topts.thumbnail &&\n\t\t\tthumbnail()\n\t\t\t\t.width(opts.thumbnail.width)\n\t\t\t\t.height(opts.thumbnail.height)\n\t\t\t\t.gravity(autoGravity())\n\t\tconst base = cld.image(cloudyId)\n\t\tconst scaled = scaleParam ? base.resize(scaleParam) : base\n\t\tconst filled = fillParam ? scaled.resize(fillParam) : scaled\n\t\tconst thumbed = thumbParam ? filled.resize(thumbParam) : filled\n\n\t\tconst final = thumbed\n\t\tconst url = final.toURL()\n\t\treturn url\n\t},\n}\n","import { CloudinaryImage } from \"../assets/CloudinaryImage\";\nimport { CloudinaryVideo } from \"../assets/CloudinaryVideo\";\nclass Cloudinary {\n    constructor(cloudinaryConfig) {\n        if (cloudinaryConfig) {\n            this.cloudinaryConfig = cloudinaryConfig;\n        }\n    }\n    image(publicID) {\n        return new CloudinaryImage(publicID, this.cloudinaryConfig.cloud, this.cloudinaryConfig.url);\n    }\n    video(publicID) {\n        return new CloudinaryVideo(publicID, this.cloudinaryConfig.cloud, this.cloudinaryConfig.url);\n    }\n    setConfig(cloudinaryConfig) {\n        this.cloudinaryConfig = cloudinaryConfig;\n        return this;\n    }\n    extendConfig() {\n        // Future implementation\n    }\n}\nexport { Cloudinary };\n","// src/store/list/mixins/remote/cost.js\n\nimport _ from 'lodash'\n\nimport provide from '../../../loading/provide'\n\nvar lastUpdate = {}\nvar lastPromise = {}\nvar lastValue = {}\nconst cacheLife = 30 * 1000\nconst totalize = raw => {\n\tconst data = _.isArray(raw) ? raw : raw.data\n\treturn data.reduce((total, row) => total + row.cost, 0)\n\n}\nvar buyInProgress = false\n\nexport default {\n\tcost (id) { \n\t\tif(!id) return Promise.resolve(true)\n\t\tconst end = `/api/${this.fieldName}/cost/${this.fieldName === 'Profiles' ? 'full' :  id}`\n\t\t//console.log('cost ' + end)\n\t\tconst key = end\n\t\tconst updateTimeElapsed = Date.now() - _.get(lastUpdate, key, 0)\n\t\tif((updateTimeElapsed < cacheLife) && _.get(lastPromise, key)) return _.get(lastPromise, key, (() => Promise.reject('cache inconsistent ' + key)()))\n\t\tif(updateTimeElapsed < cacheLife) return new Promise((resolve, reject) => {\n\t\t    setTimeout(() => {\n\t\t        resolve(this.cost(id))\n\t\t    }, 1 * 1000)\n\t\t})\n\t\t_.set(lastUpdate, key, Date.now())\n\n\t\tconst p = provide(undefined, this.fieldName, '', end, 'GET')\n\t\t\t.then(c => {lastValue[key] = _.get(c, 'data', {}); return c})\n\t\t\t//.then(c => {console.log('cost response', c); return c})\n\t\t\n\t\t_.set(lastPromise, key, p)\n\t\treturn p\n\t},\n\tcostCache (id) { \n\t\tif(!id) return Promise.resolve(true)\n\t\tconst end = `/api/${this.fieldName}/cost/${this.fieldName === 'Profiles' ? 'full' :  id}`\n\t\t//console.log('cost ' + end)\n\t\tconst key = end\n\t\tif(_.isUndefined(lastValue[key])) {\n\t\t\tthis.cost(id)\n\t\t}\n\t\treturn lastValue[key]\n\t}\n}","// src/store/list/mixins/remote/buy.js\n\nimport _ from 'lodash'\n\nimport provide from '../../../loading/provide'\n\nvar buyInProgress = false\nexport default {\n\tbuy (buyObject) { \n\t\tconst end = `/api/${this.fieldName}/buy`\n\t\tconst p = provide(buyObject, this.fieldName, '', end, 'POST')\n\t\t\t.catch(console.log)\n\t\t\t.then(c => {console.log('buy response', c); return c})\n\t\t\n\t\treturn p\n\t}\n}\n","// src/store/list/mixins/remote/create.js\n\nimport _ from 'lodash'\n\nimport provide from '../../../loading/provide'\n\nexport default {\n\tcreate (data) { \n\t\tconst end = `/api/${this.fieldName}/`\n\t\t\t//console.log('create ' + this.fieldName)\n\t\t\t//console.log(data)\n\t\t\treturn provide(data, this.fieldName, '', end)\n\t\t\t\t//.then(c => {console.log('create response', c); return c})\n\t\t\t\t.then(created => {this.backfillList(_.isArray(created) ? created : [created]); return created})\n\n\t}  \n}","// src/store/list/mixins/remote/deletion.js\n\nimport provide from '../../../loading/provide'\nimport _ from 'lodash'\n\nexport default {\n\tdelete (dataRaw) {\n\t\tconst data = _.isNumber(dataRaw) ? this.get(dataRaw) : dataRaw\n\t\tconst end = `/api/${this.fieldName}/${data.id}`\n\t\t//console.log('delete ' + this.fieldName)\n\t\t//console.log(data, _.assign({}, data, {deleted: 1}))\n\t\treturn provide(data, this.fieldName, '', end, 'DELETE')\n\t\t\t//.then(el => console.log('delete', end, el, _.assign({}, data, {deleted: 1})) && el || el)\n\t\t\t.then(() => this.backfillList([_.assign({}, data, {deleted: 1})], true))\n\t\t\t.catch(console.error)\n\n\t}\n}","// src/store/list/mixins/remote/getPromise.js\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nexport default {\n\tgetPromise (id) {\n\t\tif(!id) {\n\t\t\treturn Promise.reject('No id for getPromise ' + this.fieldName)\n\t\t}\n\t\tif(!_.isInteger(id)) {\n\t\t\tthrow new Error('Invalid getPromise id', id)\n\t\t}\n\t\t//console.log(this.fieldName, 'getPromise start', id)\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//const get = this.get(id)\n\t\t//if(get) return Promise.resolve(get)\n\t\tconst end = `/api/${this.fieldName}/${id}`\n\t\t//for each subject Type, collect detail information\n\n\t\treturn Promise.resolve(true)\n\t\t\t//.then(() => this.fieldName === 'Profiles' ? console.log('getting Promise', id) : '')\n\t\t\t.then(() => this.acquireListSupplement(`filter=${JSON.stringify({where: {id: id}})}`))\n\t\t\t\n\t\t/*\n\t\t\t.then(upd => {\n\t\t\t\tif(!this.secDataPromise) return upd\n\t\t\t\treturn this.secDataPromise()\n\t\t\t\t\t.then(upd2 => upd && upd2)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err)\n\t\t\t\treturn false\n\t\t\t})\n\t\t\t*/\n\t\t\t.then(upd => {\n\t\t\t\tconst get = this.get(id)\n\t\t\t\t//if(!get && !upd && this.fieldName !== 'Profiles') throw new Error(`no instance found ${this.fieldName} id:${id} ${typeof id}`)\n\t\t\t\t//if(!get && this.fieldName !== 'Profiles') throw new Error(`no instance loaded ${this.fieldName} id:${id} ${typeof id} first:`, this.list[0])\n\t\t\t\t//if(this.fieldName === 'Profiles') console.log(this.fieldName, 'getPromise', upd, id, this.list)\n\t\t\t\treturn get ? get : undefined\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error('getPromise', this.fieldName, id, err)\n\t\t\t\tm.route.set('/launcher')\n\t\t\t})\n\t},\n\tgetLocalPromise (id) {\n\t\tif(!id) {\n\t\t\treturn Promise.reject('No id for getLocalPromise ' + this.fieldName)\n\t\t}\n\t\tif(!_.isInteger(id)) {\n\t\t\tthrow new Error('Invalid getLocalPromise id', id)\n\t\t}\n\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//const get = this.get(id)\n\t\t//if(get) return Promise.resolve(get)\n\t\tconst end = `/api/${this.fieldName}/${id}`\n\t\t//for each subject Type, collect detail information\n\t\tconst current = this.get(id)\n\t\tif(current) return Promise.resolve([current, false])\n\n\t\treturn Promise.all([this.getPromise(id), true])\n\n\t},\n\tgetManyPromise (ids, opt = {}) {\n\t\tif(!_.isArray(ids)) {\n\t\t\treturn Promise.reject('No ids for getManyPromise ' + this.fieldName)\n\t\t}\n\n\t\t//get subjectData from the model, loading from the server if needed\n\t\tconst get = this.getMany(ids)\n\t\tconst getComplete = _.every(ids, id => _.some(get, got => got.id === id))\n\t\tif(getComplete) return Promise.resolve(get)\n\t\tconst missingIds = ids.filter(id => !_.some(get, got => got.id === id))\n\n\n\t\tconst end = `/api/${this.fieldName}`\n\t\tconst idsQuery = `filter=` + JSON.stringify({where: {\n\t\t\tid: {inq: missingIds}\n\t\t}})\n\t\t//for each subject Type, collect detail information\n\n\t\treturn this.acquireListSupplement(idsQuery, end)\n\t\t\t.then(upd => {\n\t\t\t\tif(!this.secDataPromise) return upd\n\t\t\t\treturn this.secDataPromise()\n\t\t\t\t\t.then(upd2 => upd || upd2)\n\t\t\t})\n\t\t\t.then(upd => {\n\t\t\t\tconst get = opt.upd ? upd : this.getMany(ids)\n\t\t\t\treturn get\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err)\n\t\t\t\tm.route.set('/launcher')\n\t\t\t})\n\n\t}\n}","// src/store/list/mixins/remote/nameSearch.js\n\nimport _ from \"lodash\"\nimport fetchT from \"../../../../services/fetchT\"\n\nexport default {\n\tremoteSearch(pattern) {\n\t\treturn (\n\t\t\tfetchT(`/api/${this.fieldName}/search/${pattern}`)\n\t\t\t\t//.then(response => console.log('remoteSearch', pattern, response) || response)\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(response =>\n\t\t\t\t\t_.isArray(response.data) ? response.data : response\n\t\t\t\t)\n\t\t)\n\t},\n}\n","// src/store/list/mixins/remote/dateWithDays.js\n\n\nimport provide from '../../../loading/provide'\n\nexport default {\n\tcreateForDays (daysObject) { \n\t\tconst end = `/api/${this.fieldName}/forDay/`\n\t\t\t//console.log('createWithDays ' + this.fieldName)\n\t\t\t//console.log(data)\n\t\t\tconst dayData = Object.keys(daysObject)\n\t\t\t\t.map(day => { return {\n\t\t\t\t\t\tend: end + day,\n\t\t\t\t\t\tartistIds: daysObject[day]\n\t\t\t\t\t}})\n\t\t\treturn Promise.all(dayData\n\t\t\t\t\t.map(data => provide(\n\t\t\t\t\t\t{artistIds: data.artistIds}, \n\t\t\t\t\t\tthis.fieldName, \n\t\t\t\t\t\t'', \n\t\t\t\t\t\tdata.end)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.then(() => this.remoteCheck(true))\n\t}  \n}","// src/store/list/mixins/remote/update.js\n\nimport provide from '../../../loading/provide'\n\nexport default {\n\tupdate (data, id, simResponse) { \n\t\tconst end = `/api/${this.fieldName}/update?where={\"id\":${id}}`\n\t\t\t//console.log('update artists')\n\t\t\t//console.log(data)\n\t\t\treturn provide(data, this.fieldName, '', end, 'POST', simResponse)\n\t\t\t\t.then(() => simResponse || this.remoteCheck(true))\n\t\t\t\t.then(!simResponse ? x => x : () => end)\n\t}  \n}","// src/store/list/mixins/remote/updateInstance.js\n\nimport _ from \"lodash\"\n\nimport provide from \"../../../loading/provide\"\n\nexport default {\n\tupdateInstance(data, id) {\n\t\tconst end = `/api/${this.fieldName}/${id}`\n\t\tconst currentEl = this.get(id)\n\t\tlet newEl = _.assign({}, currentEl, data)\n\t\t//delete newEl.timestamp\n\t\tnewEl.timestamp = new Date()\n\t\t//console.log('updateInstance ' + this.fieldName, data, id, currentEl, newEl)\n\t\t//console.log(data)\n\t\treturn provide(newEl, this.fieldName, \"\", end, \"PATCH\").then(responseEl =>\n\t\t\tthis.backfillList([responseEl], true)\n\t\t)\n\t}\n}\n","// src/store/list/mixins/remote/upsert.js\n\nimport provide from '../../../loading/provide'\n\nexport default {\n\tupsert (data) { \n\t\tconst end = `/api/${this.fieldName}/`\n\t\t\t//console.log('upsert ' + this.fieldName)\n\t\t\t//console.log(data)\n\t\t\treturn provide(data, this.fieldName, '', end, 'PUT')\n\t\t\t\t//.then(el => console.log('upsert', end, el) && el || el)\n\t\t\t\t.then(responseEl => this.backfillList([responseEl], true))\n\t}\n}","// src/store/data.js\n\nimport _ from \"lodash\"\nimport m from \"mithril\"\n// Services\nimport Auth from \"../services/auth.js\"\nconst auth = Auth\n\nimport { getList } from \"./loading/enlist\"\nimport { coreCheck, coreChecked } from \"./loading/acquire\"\n\nimport ArtistList from \"./list/models/ArtistList\"\nimport ImageList from \"./list/models/ImageList\"\nimport SeriesList from \"./list/models/SeriesList\"\nimport FestivalList from \"./list/models/FestivalList\"\nimport DateList from \"./list/models/DateList\"\nimport DayList from \"./list/models/DayList\"\nimport SetList from \"./list/models/SetList\"\nimport LineupList from \"./list/models/LineupList\"\nimport VenueList from \"./list/models/VenueList\"\nimport OrganizerList from \"./list/models/OrganizerList\"\nimport PlaceList from \"./list/models/PlaceList\"\nimport ArtistPriorityList from \"./list/models/ArtistPriorityList\"\nimport StagePriorityList from \"./list/models/StagePriorityList\"\nimport StageLayoutList from \"./list/models/StageLayoutList\"\nimport PlaceTypeList from \"./list/models/PlaceTypeList\"\nimport ArtistAliasList from \"./list/models/ArtistAliasList\"\nimport ParentGenreList from \"./list/models/ParentGenreList\"\nimport GenreList from \"./list/models/GenreList\"\nimport ArtistGenreList from \"./list/models/ArtistGenreList\"\nimport MessageTypeList from \"./list/models/MessageTypeList\"\nimport SubjectTypeList from \"./list/models/SubjectTypeList\"\nimport MessageList from \"./list/models/MessageList\"\nimport MessagesMonitorList from \"./list/models/MessagesMonitorList\"\nimport IntentionList from \"./list/models/IntentionList\"\nimport InteractionList from \"./list/models/InteractionList\"\nimport ProfileList from \"./list/models/ProfileList\"\nimport FlagList from \"./list/models/FlagList\"\n\nimport appendable from \"./list/mixins/local/appendable\"\nimport img from \"./list/mixins/attributes/img\"\nimport named from \"./list/mixins/attributes/named\"\nimport messageName from \"./list/mixins/attributes/messageName\"\nimport userName from \"./list/mixins/attributes/userName\"\nimport leveled from \"./list/mixins/attributes/leveled\"\nimport pending from \"./list/mixins/attributes/pending\"\nimport rated from \"./list/mixins/attributes/rated\"\nimport virginal from \"./list/mixins/attributes/virginal\"\nimport filterable from \"./list/mixins/attributes/filterable\"\nimport subjective from \"./list/mixins/subjects/subjective\"\nimport messageCheckin from \"./list/mixins/subjects/checkins/message\"\nimport dateCheckin from \"./list/mixins/subjects/checkins/dateCheckin\"\nimport setFilters from \"./list/mixins/event/admin/setFilters\"\nimport dateFilters from \"./list/mixins/event/admin/dateFilters\"\nimport placeAdmin from \"./list/mixins/event/admin/place\"\nimport seriesIds from \"./list/mixins/event/associated/seriesIds\"\nimport festivalIds from \"./list/mixins/event/associated/festivalIds\"\nimport dateIds from \"./list/mixins/event/associated/dateIds\"\nimport dayIds from \"./list/mixins/event/associated/dayIds\"\nimport setIds from \"./list/mixins/event/associated/setIds\"\nimport seriesActive from \"./list/mixins/event/active/series\"\nimport festivalActive from \"./list/mixins/event/active/festival\"\nimport futureDate from \"./list/mixins/event/futureDate\"\nimport futureSet from \"./list/mixins/event/futureSet\"\nimport momentsDate from \"./list/mixins/event/momentsDate\"\nimport momentsDay from \"./list/mixins/event/momentsDay\"\nimport momentsSet from \"./list/mixins/event/momentsSet\"\nimport event from \"./list/mixins/event/event\"\nimport eventSuper from \"./list/mixins/event/eventSuper\"\nimport eventSub from \"./list/mixins/event/eventSub\"\nimport sellAccess from \"./list/mixins/event/sellAccess\"\nimport placeName from \"./list/mixins/subjects/place\"\nimport setName from \"./list/mixins/event/setName\"\nimport research from \"./list/mixins/event/research\"\nimport intended from \"./list/mixins/event/intendedFestival\"\nimport intendedDate from \"./list/mixins/event/intendedDate\"\nimport imgEvent from \"./list/mixins/event/img\"\nimport messageEventConnections from \"./list/mixins/subjects/messageConnections/event\"\nimport messageArtistConnections from \"./list/mixins/subjects/messageConnections/artist\"\nimport messageFestivalConnections from \"./list/mixins/subjects/messageConnections/festival\"\nimport messageFilters from \"./list/mixins/subjects/filters/message\"\nimport forArtist from \"./list/mixins/subjects/filters/forArtist\"\nimport forSubject from \"./list/mixins/subjects/filters/forSubject\"\nimport forDayAndStage from \"./list/mixins/subjects/filters/forDayAndStage\"\nimport monitoredMessageFilters from \"./list/mixins/subjects/filters/monitoredMessage\"\nimport connectionFilter from \"./list/mixins/subjects/messageConnections/filter\"\nimport nameMatch from \"./list/mixins/search/nameMatch\"\nimport artistConnections from \"./list/mixins/relations/artistConnections\"\nimport messageMonitor from \"./list/mixins/relations/messageMonitor\"\nimport intent from \"./list/mixins/relations/intent\"\nimport interact from \"./list/mixins/relations/interact\"\nimport interactOptions from \"./list/mixins/relations/interactOptions\"\nimport recent from \"./list/mixins/relations/recent\"\nimport messageSenders from \"./list/mixins/relations/messageSenders\"\nimport senderPurge from \"./list/mixins/relations/senderPurge\"\nimport merge from \"./list/mixins/remote/merge\"\nimport subjectDetails from \"./list/mixins/remote/details/subject\"\nimport artistDetails from \"./list/mixins/remote/details/artist\"\nimport dateDetails from \"./list/mixins/remote/details/date\"\nimport dayDetails from \"./list/mixins/remote/details/day\"\nimport flagDetails from \"./list/mixins/remote/details/flag\"\nimport setDetails from \"./list/mixins/remote/details/set\"\nimport festivalDetails from \"./list/mixins/remote/details/festival\"\nimport messageDetails from \"./list/mixins/remote/details/message\"\nimport userDetails from \"./list/mixins/remote/details/user\"\nimport wiki from \"./list/mixins/remote/www/getWikiPromise\"\nimport advanceFlag from \"./list/mixins/remote/advanceFlag\"\nimport batchCreate from \"./list/mixins/remote/batchCreate\"\nimport batchDelete from \"./list/mixins/remote/batchDelete\"\nimport batchUpdate from \"./list/mixins/remote/batchUpdate\"\nimport bucks from \"./list/mixins/remote/bucks\"\nimport cloudy from \"./list/mixins/remote/cloudy\"\nimport cost from \"./list/mixins/remote/cost\"\nimport buy from \"./list/mixins/remote/buy\"\nimport create from \"./list/mixins/remote/create\"\nimport deletion from \"./list/mixins/remote/deletion\"\nimport dateWithDays from \"./list/mixins/remote/dateWithDays\"\nimport festivalMessages from \"./list/mixins/remote/festivalMessages\"\nimport getPromise from \"./list/mixins/remote/getPromise\"\nimport nameSearch from \"./list/mixins/remote/nameSearch\"\nimport setsForDay from \"./list/mixins/remote/setsForDay\"\nimport update from \"./list/mixins/remote/update\"\nimport updateInstance from \"./list/mixins/remote/updateInstance\"\nimport uploadLineupArtists from \"./list/mixins/remote/uploadLineupArtists\"\nimport upsert from \"./list/mixins/remote/upsert\"\n\nlet dataLoad = Promise.resolve(false)\n\nlet artists = new ArtistList()\nlet images = new ImageList()\nlet series = new SeriesList()\nlet festivals = new FestivalList()\nlet dates = new DateList()\nlet days = new DayList()\nlet sets = new SetList()\nlet lineups = new LineupList()\nlet venues = new VenueList()\nlet organizers = new OrganizerList()\nlet places = new PlaceList()\nlet artistPriorities = new ArtistPriorityList()\nlet stagePriorities = new StagePriorityList()\nlet stageLayouts = new StageLayoutList()\nlet placeTypes = new PlaceTypeList()\nlet artistAliases = new ArtistAliasList()\nlet parentGenres = new ParentGenreList()\nlet genres = new GenreList()\nlet artistGenres = new ArtistGenreList()\nlet messageTypes = new MessageTypeList()\nlet subjectTypes = new SubjectTypeList()\nlet messages = new MessageList()\nlet messagesMonitors = new MessagesMonitorList()\nlet intentions = new IntentionList()\nlet interactions = new InteractionList()\nlet users = new ProfileList()\nlet flags = new FlagList()\n\nconst subjects = {\n\tseries: series,\n\tfestivals: festivals,\n\tdates: dates,\n\tdays: days,\n\tsets: sets,\n\tartists: artists,\n\tvenues: venues,\n\tplaces: places,\n\tmessages: messages,\n\tprofiles: users,\n\timages: images,\n\tflags: flags\n}\n\nObject.assign(\n\tartists,\n\tfilterable,\n\tappendable,\n\tnamed,\n\trated(messages),\n\tvirginal(messages, festivals, lineups),\n\tsubjective,\n\tnameMatch,\n\tmessageArtistConnections(subjects),\n\tmerge,\n\tupdate,\n\tgetPromise,\n\twiki,\n\tnameSearch,\n\tartistDetails(\n\t\tsubjects,\n\t\tlineups,\n\t\timages,\n\t\tartistAliases,\n\t\tgenres,\n\t\tartistGenres,\n\t\tparentGenres,\n\t\tartistPriorities\n\t)\n)\nObject.assign(\n\timages,\n\tfilterable,\n\timg,\n\tforSubject,\n\tgetPromise,\n\tsubjectDetails,\n\tcreate,\n\tmessageName(subjects),\n\timgEvent(subjects, lineups),\n\tcloudy\n)\nObject.assign(\n\tseries,\n\tfilterable,\n\tsubjective,\n\tevent,\n\teventSub(festivals),\n\tsellAccess(festivals),\n\tmessageEventConnections,\n\tseriesIds(subjects),\n\tnameMatch,\n\tseriesActive(dates),\n\tcreate,\n\tupdateInstance,\n\tgetPromise,\n\twiki,\n\tsubjectDetails\n)\nObject.assign(\n\tfestivals,\n\tfilterable,\n\tsubjective,\n\tevent,\n\teventSub(dates),\n\tsellAccess(dates),\n\teventSuper(series),\n\tmessageFestivalConnections(messages, lineups),\n\tresearch(artists, messages, lineups, artistPriorities),\n\tfestivalActive(dates),\n\tintended(intentions, dates),\n\tcreate,\n\tfestivalIds(subjects),\n\tgetPromise,\n\twiki,\n\tcost,\n\tbuy,\n\tfestivalDetails(\n\t\tsubjects,\n\t\tlineups,\n\t\timages,\n\t\tartistAliases,\n\t\tgenres,\n\t\tartistGenres,\n\t\tparentGenres,\n\t\tartistPriorities,\n\t\tintentions\n\t)\n)\nObject.assign(\n\tdates,\n\tfilterable,\n\tsubjective,\n\tmomentsDate(days, venues),\n\tfutureDate,\n\tevent,\n\teventSub(days),\n\tsellAccess(days),\n\teventSuper(festivals),\n\tmessageEventConnections,\n\tdateIds(subjects, lineups),\n\tdateCheckin(messages),\n\tdateWithDays(days),\n\tdateFilters(festivals),\n\tgetPromise,\n\twiki,\n\tcost,\n\tbuy,\n\tdateDetails(subjects, lineups, intentions),\n\tintendedDate(intentions)\n)\nObject.assign(\n\tdays,\n\tfilterable,\n\tevent,\n\teventSub(sets),\n\tsellAccess(),\n\teventSuper(dates),\n\tmomentsDay(dates),\n\tmessageEventConnections,\n\tfutureDate,\n\tdayIds(subjects),\n\tgetPromise,\n\twiki,\n\tcost,\n\tbuy,\n\tdayDetails(subjects)\n)\nObject.assign(\n\tsets,\n\tfilterable,\n\tsubjective,\n\tevent,\n\tsetName(artists),\n\teventSuper(days),\n\tmomentsSet(days),\n\tmessageEventConnections,\n\tsetIds(subjects),\n\tsetFilters(dates, festivals, lineups),\n\tsetsForDay,\n\tbatchCreate,\n\tbatchDelete,\n\tbatchUpdate,\n\tupsert,\n\tdeletion,\n\tgetPromise,\n\tforDayAndStage,\n\tfutureSet,\n\tsetDetails(subjects)\n)\nObject.assign(\n\tlineups,\n\tfilterable,\n\tappendable,\n\tartistConnections(artistPriorities, artists, festivals),\n\tcreate,\n\tupdateInstance,\n\tdeletion,\n\tuploadLineupArtists(artists),\n\tbatchDelete,\n\tgetPromise,\n\tbatchUpdate\n)\nObject.assign(\n\tvenues,\n\tfilterable,\n\tsubjective,\n\tnamed,\n\tmessageEventConnections,\n\tplaceName,\n\tcreate,\n\tgetPromise,\n\twiki,\n\tsubjectDetails\n)\nObject.assign(organizers, getPromise, filterable)\nObject.assign(\n\tplaces,\n\tfilterable,\n\tsubjective,\n\tnamed,\n\tmessageEventConnections,\n\tbatchCreate,\n\tbatchDelete,\n\tplaceAdmin(series, festivals),\n\tgetPromise,\n\tsubjectDetails\n)\nObject.assign(artistPriorities, filterable, leveled, getPromise, named)\nObject.assign(stagePriorities, getPromise, filterable)\nObject.assign(stageLayouts, getPromise, filterable)\nObject.assign(placeTypes, getPromise, filterable)\nObject.assign(artistAliases, filterable, batchCreate, batchDelete, getPromise, forArtist)\nObject.assign(parentGenres, getPromise, filterable)\nObject.assign(genres, getPromise, filterable)\nObject.assign(artistGenres, getPromise, filterable)\nObject.assign(\n\tmessages,\n\tgetPromise,\n\tfilterable,\n\tsubjective,\n\tmessageName(subjects),\n\tmessageEventConnections,\n\tconnectionFilter(subjects),\n\tmessageFilters,\n\tmonitoredMessageFilters(messagesMonitors),\n\tfestivalMessages(festivals, lineups),\n\tcreate,\n\tupsert,\n\tupdateInstance,\n\tdeletion,\n\tsenderPurge,\n\tmessageDetails(subjects),\n\tmessageCheckin(subjects),\n\tmessageSenders(users)\n)\nObject.assign(\n\tmessagesMonitors,\n\tgetPromise,\n\tfilterable,\n\tmessageMonitor,\n\tcreate,\n\tbatchCreate,\n\tbatchDelete\n)\nObject.assign(\n\tintentions,\n\tgetPromise,\n\tfilterable,\n\tforSubject,\n\tcreate,\n\tbatchCreate,\n\tbatchDelete,\n\tupdateInstance,\n\tdeletion,\n\tintent\n)\nObject.assign(\n\tinteractions,\n\tgetPromise,\n\tfilterable,\n\tcreate,\n\tupdateInstance,\n\tdeletion,\n\tinteract(messages)\n)\nObject.assign(\n\tusers,\n\tgetPromise,\n\tfilterable,\n\tsubjective,\n\tuserName,\n\tnameSearch,\n\tmessageEventConnections,\n\tuserDetails(interactions),\n\tupdateInstance,\n\tinteractOptions(interactions),\n\trecent(messages),\n\tbucks,\n\tbuy,\n\tcost\n)\nObject.assign(\n\tflags,\n\tgetPromise,\n\tfilterable,\n\tsubjective,\n\tcreate,\n\tflagDetails(messages),\n\tpending(messages),\n\tadvanceFlag,\n\tmessageName(subjects)\n)\nconst baseKeys = [\n\t\"Artists\",\n\t\"Images\",\n\t\"Series\",\n\t\"Festivals\",\n\t\"Dates\",\n\t\"Days\",\n\t\"Sets\",\n\t\"Lineups\",\n\t\"Venues\",\n\t\"Organizers\",\n\t\"Places\",\n\t\"ArtistPriorities\",\n\t\"StagePriorities\",\n\t\"StageLayouts\",\n\t\"PlaceTypes\",\n\t\"ArtistAliases\",\n\t\"ParentGenres\",\n\t\"Genres\",\n\t\"ArtistGenres\",\n\t\"MessageTypes\",\n\t\"SubjectTypes\",\n\t\"Intentions\"\n]\nexport const remoteData = {\n\tArtists: artists,\n\tImages: images,\n\tSeries: series,\n\tFestivals: festivals,\n\tDates: dates,\n\tDays: days,\n\tSets: sets,\n\tLineups: lineups,\n\tVenues: venues,\n\tOrganizers: organizers,\n\tPlaces: places,\n\tArtistPriorities: artistPriorities,\n\tStagePriorities: stagePriorities,\n\tStageLayouts: stageLayouts,\n\tPlaceTypes: placeTypes,\n\tArtistAliases: artistAliases,\n\tParentGenres: parentGenres,\n\tGenres: genres,\n\tArtistGenres: artistGenres,\n\tMessageTypes: messageTypes,\n\tSubjectTypes: subjectTypes,\n\tMessages: messages,\n\tMessagesMonitors: messagesMonitors,\n\tIntentions: intentions,\n\tInteractions: interactions,\n\tUsers: users,\n\tFlags: flags\n\t/*\n\tdataLoad: window.mockery\n\t\t? Promise.resolve(true)\n\t\t: Promise.all(\n\t\t\t\t_.map(baseKeys, k =>\n\t\t\t\t\tgetList(k).then(l => remoteData[k].replaceList(l))\n\t\t\t\t)\n\t\t  )\n\t\t\t\t//.then(l => console.log(`list ${k}`, l.length) || l)\n\t\t\t\t//.then(() => console.log('artist list length ' + remoteData.Artists.list.length))\n\t\t\t\t.catch(console.error)\n\t\t\t\t.then(() => true),\n\t*/\n}\n\nglobal.festigram = _.assign({}, remoteData)\nfestigram.auth = auth\nconst coreKeys = _.keys(remoteData).filter(k => remoteData[k].core)\n//console.log(\"coreKeys\", coreKeys)\ncoreChecked\n\t.then(coreData =>\n\t\t//console.log(\"coreData\", coreData) ||\n\t\tPromise.all(\n\t\t\t_.map(coreData, (l, k) => {\n\t\t\t\t//console.log(\"code data list\", k, l)\n\t\t\t\treturn remoteData[k] && remoteData[k].replaceList(l)\n\t\t\t})\n\t\t)\n\t)\n\t.then(() => m.redraw())\n\t.catch(console.error)\n\nexport const clearData = () => {\n\t_.each(remoteData, dataField => dataField.clear && dataField.clear())\n\t//init the lists with core data\n\n\tcoreCheck()\n\t\t.then(coreData =>\n\t\t\tPromise.all(\n\t\t\t\t_.map(coreData, (l, k) => {\n\t\t\t\t\tconsole.log(\"code data list\", k, l)\n\t\t\t\t\treturn remoteData[k].replaceList(l)\n\t\t\t\t})\n\t\t\t)\n\t\t)\n\t\t.then(() => m.redraw())\n\t\t.catch(console.error)\n\n\t//.then(() => console.log('artist list length ' + remoteData.Artists.list.length))\n}\n\nexport const clearCaches = () => {\n\t_.each(remoteData, dataField => dataField.clearCaches && dataField.clearCaches())\n\t//init the lists with core data\n\t//.then(() => console.log('artist list length ' + remoteData.Artists.list.length))\n}\n\nauth.recore(clearData)\nauth.cacheCleaner(clearCaches)\n\nif (!window.mockery) {\n\t//init the lists with core data\n\t//remoteData.dataLoad\n\t//.then(() => console.log('data loaded', remoteData.Artists.list.length))\n\tnew Promise((resolve, reject) => {\n\t\tlet wait = setTimeout(() => {\n\t\t\t//clearTimout(wait)\n\t\t}, 10000)\n\t})\n\t\t.then(() => {\n\t\t\tconst interval = 5000\n\t\t\tconst updateInterval = setTimeout(function run() {\n\t\t\t\t//console.log('update')\n\t\t\t\tPromise.all(\n\t\t\t\t\t_.map(remoteData, v => v.core && v.remoteCheck && v.remoteCheck())\n\t\t\t\t)\n\t\t\t\t\t.catch(console.error)\n\t\t\t\t\t.then(() => setTimeout(run, interval))\n\t\t\t}, interval)\n\t\t})\n\t\t.catch(console.error)\n} else {\n\tdataLoad = Promise.resolve(true)\n}\n","// monitoredMessage.js\n\nexport default (monitors) => { return  {\n\t\trecentDiscussionAll (viewer) {return this\n\t\t\t.getFiltered(m => (!viewer || viewer !== m.fromuser) && (m.messageType === 8 || m.messageType === 1))\n\t\t\t.filter(m => monitors.unread(m.id))\n\t\t},\n\t\tgetUnread (filter, viewer) {\n\t\t\tconst baseMessages = this.getFiltered(filter)\n\t\t\tconst baseIds = baseMessages.map(x => x.id)\n\t\t\tconst discussMessages = this.getFiltered(f => f.baseMessage && baseIds.includes(f.baseMessage))\n\t\t\treturn [...baseMessages, ...discussMessages]\n\t\t\t\t.filter(m => (!viewer || viewer !== m.fromuser))\n\t\t\t\t.filter(m => monitors.unread(m.id))\n\t\t}\n\t\t\n}}","// rated.js\n\nimport {timeStampSort} from '../../../../services/sorts.js'\nimport _ from 'lodash'\n\nexport default (messages) => { return  {\n\tgetRating (id, userId) {\n\t\tconst ratings = messages.getFiltered({subjectType: this.subjectType, subject: id, messageType: 2})\n\t\t\t.filter(m => !userId || m.fromuser === userId)\n\t\t\t.sort(timeStampSort)\n\t\t\t.map(m => m.content)\n\t\t\t.map(c => parseInt(c, 10))\n\t\tconst ratingContent = userId ? _.first(ratings) : Math.floor(ratings.reduce((pv, cv, i, ar) => pv + cv / ar.length, 0))\n\t\t//console.log('data.js remoteData.Artists.getRating ratings.length ' + ratings.length )\n\t\t//console.log('data.js remoteData.Artists.getRating intValue ' + intValue )\n\t\treturn ratingContent\n\t}}  \n}","// virginal.js\nimport _ from 'lodash'\n\nimport {futurePrioritySort} from '../../../../services/sorts.js'\n\nexport default (messages, festivals, lineups) => { return  {\n\tvirgins () {\n\t\tconst futures = festivals.future()\n\t\treturn this.list\n\t\t\t.filter(ar => !messages.getFiltered({subjectType: 2, subject: ar.id}).length)\n\t\t\t.sort(futurePrioritySort(futures, lineups))\n\t}}  \n}","// artist.js\n\nimport _ from 'lodash'\n//a subject and a message are connected if:\n\n//message is about the subject\n\nexport default ({lineups, festivals}) => { return  {\n\tmessageEventConnection (e) { return m => {\n\t\t//an artist object (e) is connected to a message (m) if the message is about the artist\n\t\treturn false\n\t}\n\t\t\n\n\t\t\n\t}  }\n}","// src/store/list/mixins/event/img.js\nimport _ from 'lodash'\nexport default ({dates, sets}, lineups) => { return  {\n\tforDateAll (dateId) {\n\t\tconst scheduledArtistIds = _.uniq(sets.getMany(dates.getSubSetIds(dateId))\n            .map(s => s.band))\n\n        const scheduledImgs = this.getFiltered(i => i.subjectType === ARTIST && scheduledArtistIds.includes(i.subject) )\n    \tif(scheduledImgs.length) return scheduledImgs\n        //need artist id from festival lineup that has an image\n        return this.getFiltered(i => i.subjectType === ARTIST && lineups.find(l => l.band === i.subject && l.festival === _.get(dates.get(dateId), 'festival', 0)))\n   \n\t},\n\tforDateSingle (dateId) {\n\t\tconst scheduledArtistIds = _.uniq(sets.getMany(dates.getSubSetIds(dateId))\n            .map(s => s.band))\n\n        const scheduledImg = this.find(i => i.subjectType === ARTIST && scheduledArtistIds.includes(i.subject) )\n    \tif(scheduledImg) return scheduledImg\n        //need artist id from festival lineup that has an image\n    const festivalId = dates.getFestivalId(dateId)\n    const lineupImage = this.find(i => i.subjectType === ARTIST && lineups.find(l => l.band === i.subject && l.festival === festivalId))\n        //console.log('img forDateSingle lineupImage', dateId, lineupImage, festivalId)\n        return lineupImage\n   \n\t},\n\t\n}}","// seriesIds.js\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\nexport default ({festivals, dates, days, sets}) => { return  {\n\tgetSubFestivalIds (id) { \n\t\treturn festivals.getFiltered(s => s.series === id).map(s => s.id)\n\t},\n\tgetSubDateIds (id, filter = x => x) {\n\t\tconst festivals = this.getSubFestivalIds(id)\n\t\treturn dates.list.filter(s => festivals.indexOf(s.festival) > -1)\n\t\t\t.filter(filter)\n\t\t\t.map(s => s.id)\n\t},\n\tgetSubDayIds (id) {\n\t\tconst dates = this.getSubDateIds(id)\n\t\treturn days.list.filter(s => dates.indexOf(s.date) > -1).map(s => s.id)\n\t},\n\tgetSubSetIds (id) {\n\t\tconst days = this.getSubDayIds(id)\n\t\treturn sets.list.filter(s => days.indexOf(s.day) > -1).map(s => s.id)\n\t},\n\tgetVenueIds (id) {\n\t\treturn dates.getMany(\n\t\t\tthis.getSubDateIds(id)\n\t\t)\n\t\t.sort((a, b) => {\n\t\t\tconst am = moment(a.baseDate).utc()\n\t\t\tconst bm = moment(b.baseDate).utc()\n\t\t\treturn am.diff(bm)\n\t\t})\n\t\t.map(date => date.venue)\n\t}\n}}","// series.js\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\nexport default (dates) => { return  {\n\tnoFutureDates (waitDays = 180) {return  this.list\n\t\t\t.filter(s => !s.hiatus)\n\t\t\t.filter(s => !this.getSubDateIds(s.id, date => {\n\t\t\t\t//baseDate is after waitDays days ago\n\t\t\t\treturn moment(date.basedate).isAfter(moment().subtract(waitDays, 'days'))\n\t\t\t}).length)},\n\t\tactiveDate (id) {return  _.some(\n\t\t\tthis.getSubDateIds(id), \n\t\t\tdates.active\n\t\t)}\n}}","// festival.js\n\n//a set and a message are connected if:\n\n//message is about the set\n//message is sent within 24 hours of the set start\n\nexport default (messages, lineups) => {return {\n\tisEvent (subject) {return subject.subjectType === this.subjectType},\n\tmessageEventConnection (e) { return m => {\n\t\t//console.log('festival messageConnections')\n\t\tif(!this.isEvent(e)) return false\n\t\tconst testMessageId = m.baseMessage ? m.baseMessage : m.id\n\t\tconst testMessage = testMessageId === m.id ? m : messages.get(testMessageId)\n\t\tif(!testMessage) return false\n\t\tif(testMessage.subjectType === e.subjectType && testMessage.subject === e.subject) return true\n\t\tif(testMessage.subjectType !== 2) return false\n\t\treturn Boolean(lineups.find(l => l.festival === e.subject && l.band === testMessage.subject))\n\n\t\t\n\t}}  \n}}","// src/store/list/mixins/event/intended.js\n\nexport default (intentions, dates) => { return  {\n\n\tintended (daysAhead = 0, opts = {skipDetails: false}) {//console.log('' + this.list.length + '-' + remoteData.Dates.list.length)\n\n\t\tconst futures = this.future(daysAhead)\n\t\t//console.log('intended')\n\t\t//console.log(intentions.list)\n\t\tconst intentFestivals = futures.filter(festival => {\n\t\t\tconst direct = intentions.getFiltered(this.getSubjectObject(festival.id)).length\n\t\t\tif(direct) return true\n\t\t\tconst unendedDates = this.getSubDateIds(festival.id).filter(did => !dates.ended(did))\n\t\t\tif(!unendedDates.length) return false\n\t\t\treturn !!intentions.getFiltered(i => i.subjectType === DATE && unendedDates.includes(i.subject)).length\n\t\t}\n\t\t\t\n\t\t)\n\n\t\tif(!opts.skipDetails) intentFestivals.forEach(f => this.subjectDetails({subjectType: FESTIVAL, subject: f.id}))\n\n\t\treturn intentFestivals\n\t}\n\t\n}}","// festivalIds.js\nimport _ from 'lodash'\n\nexport default ({series, dates, days, sets}) => { return  {\n\tgetSeriesId (id) { \n\t\tconst fest = _.find(this.list, p => p.id === id)\n\t\t\tif(!fest) return\n\t\t\treturn fest.series\n\t},\n\tgetSubDateIds (id, filter = x => x) {\n\t\treturn dates.list.filter(s => s.festival === id).map(s => s.id).filter(filter)\n\t},\n\tgetSubDayIds (id) {\n\t\tconst dates = this.getSubDateIds(id)\n\t\t\treturn days.list.filter(s => dates.indexOf(s.date) > -1).map(s => s.id)\n\t},\n\tgetSubSetIds (id) {\n\t\tconst days = this.getSubDayIds(id)\n\t\t\treturn sets.list.filter(s => days.indexOf(s.day) > -1).map(s => s.id)\n\t},\n\tgetPeerIds (id) {\n\t\treturn series.getSubIds(this.getSuperId(id))\n\t\t\t.filter(x => x !== id)\n\t}\n}}","// src/store/list/mixins/remote/details/festival.js\n\nimport _ from \"lodash\"\n\nexport default ({ artists, dates, days, sets, messages }, lineups) => {\n\treturn {\n\t\tsubjectDetails(so) {\n\t\t\tif (!so || !so.subjectType || !so.subject) {\n\t\t\t\treturn Promise.reject(\n\t\t\t\t\t\"No subject object for subjectDetails festival \" +\n\t\t\t\t\t\tJSON.stringify(so)\n\t\t\t\t)\n\t\t\t}\n\t\t\tif (so.subjectType !== this.subjectType)\n\t\t\t\treturn Promise.reject(\n\t\t\t\t\t`No festival subjectType mismatch ${so.subjectType} !== ${\n\t\t\t\t\t\tthis.subjectType\n\t\t\t\t\t}`\n\t\t\t\t)\n\n\t\t\t//get subjectData from the model, loading from the server if needed\n\t\t\t//for each subject Type, collect detail information\n\n\t\t\t//assumes all series loaded from core\n\n\t\t\tvar updated = false\n\t\t\treturn this.getLocalPromise(so.subject)\n\t\t\t\t.then(subjectData => {\n\t\t\t\t\t//lineups\n\t\t\t\t\tconst lineEnd = `/api/Lineups`\n\t\t\t\t\tconst lineQuery =\n\t\t\t\t\t\t`filter=` +\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\tfestival: so.subject,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\n\t\t\t\t\t//dates\n\t\t\t\t\tconst dateEnd = `/api/Dates`\n\t\t\t\t\tconst dateQuery =\n\t\t\t\t\t\t`filter=` +\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\tfestival: so.subject,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\t\treturn Promise.all([\n\t\t\t\t\t\tlineups\n\t\t\t\t\t\t\t.acquireListSupplement(lineQuery, lineEnd)\n\t\t\t\t\t\t\t.then(upd => (updated = updated || upd))\n\t\t\t\t\t\t\t//artists\n\t\t\t\t\t\t\t.then(() =>\n\t\t\t\t\t\t\t\tlineups\n\t\t\t\t\t\t\t\t\t.getFiltered({ festival: so.subject })\n\t\t\t\t\t\t\t\t\t.map(x => x.band)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.then(artistIds =>\n\t\t\t\t\t\t\t\tartists.getManyPromise(artistIds)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\tdates\n\t\t\t\t\t\t\t.acquireListSupplement(dateQuery, dateEnd)\n\t\t\t\t\t\t\t.then(upd => (updated = updated || upd))\n\t\t\t\t\t\t\t.then(upd => {\n\t\t\t\t\t\t\t\tconst dateIds = this.getSubDateIds(so.subject)\n\t\t\t\t\t\t\t\t//dates\n\t\t\t\t\t\t\t\tconst dayEnd = `/api/Days`\n\t\t\t\t\t\t\t\tconst dayQuery =\n\t\t\t\t\t\t\t\t\t`filter=` +\n\t\t\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\t\tand: [\n\t\t\t\t\t\t\t\t\t\t\t\t{ date: { inq: dateIds } },\n\t\t\t\t\t\t\t\t\t\t\t\t{ deleted: false },\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\treturn days\n\t\t\t\t\t\t\t\t\t.acquireListSupplement(dayQuery, dayEnd)\n\t\t\t\t\t\t\t\t\t.then(upd => (updated = updated || upd))\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(upd => {\n\t\t\t\t\t\t\t\tconst dayIds = this.getSubDayIds(so.subject)\n\t\t\t\t\t\t\t\t//dates\n\t\t\t\t\t\t\t\tconst setEnd = `/api/Sets`\n\t\t\t\t\t\t\t\tconst setQuery =\n\t\t\t\t\t\t\t\t\t`filter=` +\n\t\t\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\t\tand: [\n\t\t\t\t\t\t\t\t\t\t\t\t{ day: { inq: dayIds } },\n\t\t\t\t\t\t\t\t\t\t\t\t{ deleted: false },\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\treturn sets\n\t\t\t\t\t\t\t\t\t.acquireListSupplement(setQuery, setEnd)\n\t\t\t\t\t\t\t\t\t.then(upd => (updated = updated || upd))\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t])\n\t\t\t\t\t\t.then(() => messages.loadForFestival(so.subject))\n\t\t\t\t\t\t.then(upd => (updated = updated || upd))\n\t\t\t\t})\n\t\t\t\t.then(() => updated)\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(\"this subjectDetails Promise.all\")\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t},\n\t}\n}\n","// dateIds.js\n\nexport default ({series, festivals, days, sets}, lineups) => { return  {\n\tgetSeriesId (id) { \n\t\tif(!this.getFestivalId(id)) return\n\t\treturn festivals.getSeriesId(this.getFestivalId(id))\n\t},\n\tgetFestivalId (id) {\n\t\tconst date = this.get(id)\n\t\t\tif(!date) return\n\t\t\treturn date.festival\n\t},\n\tgetSubDayIds (id) {\n\t\treturn days.list.filter(s => s.date === id).map(s => s.id)\n\t},\n\tgetSubSetIds (id) {\n\t\tconst days = this.getSubDayIds(id)\n\t\t\treturn sets.list.filter(s => days.indexOf(s.day) > -1).map(s => s.id)\n\t},\n\tgetPeerIds (id) {\n\t\treturn festivals.getSubIds(this.getSuperId(id))\n\t\t\t.filter(x => x !== id)\n\t},\n\tgetLineupArtistIds (id) {\n\t\tif(!this.getFestivalId(id)) return []\n\t\tconst festivalId = this.getFestivalId(id)\n\t\t\tif(!festivalId) return\n\t\t\treturn lineups.getFestivalArtistIds(festivalId)\n\t}\n}}","// dateCheckin.js\n\n\nexport default (messages) => { return {\n\tcheckedIn (userId) {return this.current()\n\t\t\t.filter(date => messages.implicit({subjectType: this.subjectType, subject: date.id}, userId))\n\t\t\n}}}","// src/store/list/mixins/remote/dateWithDays.js\n\n\n\nimport provide from '../../../loading/provide'\n\nexport default (days) => { return  {\n\tcreateWithDays (data) { \n\t\tconst end = `/api/${this.fieldName}/createWithDays/`\n\t\t\t//console.log('createWithDays ' + this.fieldName)\n\t\t\t//console.log(data)\n\t\t\treturn provide(data, this.fieldName, '', end)\n\t\t\t\t.then(() => Promise.all[days.remoteCheck(true), this.remoteCheck(true)])\n\t\t\t\t.then(() => this.getFiltered(data))\n\t}  \n}}","// dateFilters.js\n\nexport default (festivals) => { return  {\n\tdatedFestivals ()  {\n\t\t\t//console.log('' + festivals.list.length + '-' + this.list.length)\n\t\t\tconst futureDates = this.future()\n\t\t\t//console.log(futureDates.length)\n\t\t\treturn festivals.getMany(futureDates\n\t\t\t\t.map(d => d.festival))\n\t\t},\n\t\tupcomingDatedFestivals (daysAhead = 14) {\n\t\t\t//console.log('' + festivals.list.length + '-' + this.list.length)\n\t\t\tconst futureDates = this.soon(daysAhead)\n\t\t\t//console.log('this.upcomingDatedFestivals')\n\t\t\t//console.log(daysAhead)\n\t\t\t//console.log(futureDates.length)\n\t\t\treturn festivals.getMany(futureDates\n\t\t\t\t.map(d => d.festival))\n\t\t}\n}}","// src/store/list/mixins/event/intendedDate.js\n\nexport default (intentions) => { return  {\n\tintended () {//console.log('' + this.list.length + '-' + remoteData.Dates.list.length)\n\n\t\t//console.log('intended')\n\t\t//console.log(intentions.list)\n\t\tconst intentDates = this.current()\n\t\t\t.filter(date => intentions.some(i => i.subjectType === DATE && i.subject === date.id || i.subjectType === FESTIVAL && i.subject === date.id))\n\t\t\n\t\tintentDates.forEach(f => this.subjectDetails({subjectType: DATE, subject: f.id}))\n\t\treturn intentDates\n\t}\n\t\n}}","// dayIds.js\n\nexport default ({series, festivals, dates, sets}) => { return  {\n\tgetSeriesId (id) { \n\t\t//console.log('dayIds getSeriesId', id , this)\n\t\tif(!this.getDateId(id)) return\n\t\treturn festivals.getSeriesId(dates.getFestivalId(this.getDateId(id)))\n\t},\n\tgetFestivalId (id) {\n\t\t//console.log('dayIds getFestivalId', id , this)\n\t\tif(!this.getDateId(id)) return\n\t\treturn dates.getFestivalId(this.getDateId(id))\n\t},\n\tgetDateId (id) {\n\t\tconst day = this.get(id)\n\t\t\t//console.log('this.getDateId', id, day)\n\t\t\t//console.log('this.getDateId list length', this.list.length)\n\t\t\tif(!day) return\n\t\t\treturn day.date\n\t},\n\tgetSubSetIds (id) {\n\t\treturn sets.list.filter(s => s.day === id).map(s => s.id)\n\t},\n\tgetPeerIds (id) {\n\t\treturn dates.getSubIds(this.getSuperId(id))\n\t\t\t.filter(x => x !== id)\n\t}\n}}","// src/store/list/mixins/event/setName.js\n\nexport default (artists) => { return  {\n\tgetArtistId (id) {\n\t\t//console.log('remoteData.Sets.getArtistId ' + id)\n\t\t//console.log('remoteData.Sets.list ' + remoteData.Sets.list.length)\n\t\tconst set = this.get(id)\n\t\tif(!set) return\n\t\treturn set.band\n\t},\n\tgetArtistName (id) {\n\t\t//console.log('remoteData.Sets.getArtistName ' + id)\n\t\treturn artists.getName(this.getArtistId(id))\n\t\t\n\t},\n\tgetEventName (id) { \n\t\tconst superNames = this.getEventNameArray(id)\n\t\t//console.log('setName getEventName', id, superNames)\n\t\treturn `${this.getArtistName(id)}`\n\t}  \n}}","// src/store/list/mixins/event/momentsSet.js\nexport default (days) => { return  {\n\tgetStartMoment (id) {\n\t\tconst set = this.get(id)\n\t\tif(!set) throw new Error('set.getBaseMoment nonexistent set ' + id)\n\t\tconst superDay = this.getSuperId(id)\n\t\t//console.log('set.getStartMoment', id, superDay)\n\t\tconst superMoment = days.getBaseMoment(superDay)\n\t\treturn superMoment.add(this.get(id).start, 'minutes')\n\t\t},\n\tgetEndMoment (id) {\n\t\tconst superMoment = days.getBaseMoment(this.getSuperId(id))\n\t\treturn superMoment.add(this.get(id).end, 'minutes')\n\t},\n\tgetSetTimeText (id)  {\n\t\t//console.log('this.getSetTimeText ' + id)\n\t\tconst startMoment = this.getStartMoment(id)\n\t\tconst endMoment = this.getEndMoment(id)\n\t\treturn startMoment.format('h:mm') + ' ' + endMoment.format('h:mm')\n\t},\n\tgetTimeString (id) {\n\t\ttry {\n\t\treturn this.getSetTimeText(id) \n\t}\n\t\tcatch {\n\t\t\treturn ''\n\t\t}\n\t}\n\n}}","// dayIds.js\n\nexport default ({series, festivals, dates, days, artists}) => { return  {\n\tgetSeriesId (id) { \n\t\tif(!this.getDayId(id)) return\n\t\treturn festivals.getSeriesId(dates.getFestivalId(days.getDateId(this.getDayId(id))))\n\t},\n\tgetFestivalId (id) {\n\t\tif(!this.getDayId(id)) return\n\t\treturn dates.getFestivalId(days.getDateId(this.getDayId(id)))\n\t\t},\n\tgetDateId (id) {\n\t\tif(!this.getDayId(id)) return\n\t\treturn days.getDateId(this.getDayId(id))\n\t},\n\tgetDayId (id) {\n\t\tconst set = this.get(id)\n\t\t\tif(!set) return\n\t\t\treturn set.day\n\t},\n\tgetPeerIds (id) {\n\t\treturn days.getSubIds(this.getSuperId(id))\n\t\t\t.filter(x => x !== id)\n\t},\n\tgetArtistId (id) {\n\t\t//console.log('this.getArtistId ' + id)\n\t\t//console.log('this.list ' + this.list.length)\n\t\tconst set = this.get(id)\n\t\tif(!set) return\n\t\treturn set.band\n\t},\n\tgetArtistName (id) {\n\t\t//console.log('this.getArtistName ' + id)\n\t\treturn artists.getName(this.getArtistId(id))\n\t\t\n\t},\n}}","// setFilters.js\nimport _ from 'lodash'\n\nexport default (dates, festivals, lineups) => { return  {\n\tdatedLinedFestivals (daysAhead = 14) { return dates.upcomingDatedFestivals(daysAhead)\n\t\t\t//that have a lineup\n\t\t\t.filter(festival => lineups.festHasLineup(festival.id))},\n\n\t\t\t//find festivals that have a date\n\t\tunscheduledLineupFestivals (daysAhead = 14) { return this\n\t\t\t.datedLinedFestivals(daysAhead)\n\t\t\t//and at least one artist in lineup that does not have a set with a start time\n\t\t\t.filter(festival => {\n\t\t\t\tconst festivalSetIds = festivals.getSubSetIds(festival.id)\n\t\t\t\tconst festivalSets = this.getMany(festivalSetIds)\n\t\t\t\tconst scheduledSets = festivalSets.filter(s => s.start)\n\n\t\t\t\treturn _.some(\n\t\t\t\t\tlineups.getFestivalArtistIds(festival.id),\n\t\t\t\t\tartistId => !_.some(scheduledSets, s => s.band === artistId)\n\t\t\t)})}\n\t\t,\n\t\tartistMissingDayFestivals (daysAhead = 14) { return this\n\t\t\t.datedLinedFestivals(daysAhead)\n\t\t\t//and at least one artist in lineup that does not have a set with a start time\n\t\t\t.filter(festival => {\n\t\t\t\tconst festivalSetIds = festivals.getSubSetIds(festival.id)\n\t\t\t\tconst festivalSets = this.getMany(festivalSetIds)\n\t\t\t\tconst daySets = festivalSets.filter(s => s.day)\n\t\t\t\tconst artistIds = lineups.getFestivalArtistIds(festival.id, l => !l.unscheduled)\n\t\t\t\tif(false && festival.id === 68) {\n\t\t\t\tconsole.log('artistMissingDayFestivals')\n\t\t\t\tconsole.log(daySets)\n\t\t\t\tconsole.log(artistIds)\n\n\t\t\t\t}\n\n\t\t\t\treturn _.some(\n\t\t\t\t\tartistIds,\n\t\t\t\t\tartistId => !_.some(daySets, s => s.band === artistId)\n\t\t\t\t)\n\t\t\t})}\n\t\t,\n\t\tartistMissingStageFestivals (daysAhead = 14) { return this\n\t\t\t.datedLinedFestivals(daysAhead)\n\t\t\t//and at least one artist in lineup that does not have a set with a start time\n\t\t\t.filter(festival => {\n\t\t\t\tconst festivalSetIds = festivals.getSubSetIds(festival.id)\n\t\t\t\tconst festivalSets = this.getMany(festivalSetIds)\n\t\t\t\tconst stageSets = festivalSets.filter(s => s.stage)\n\n\t\t\t\treturn _.some(\n\t\t\t\t\tlineups.getFestivalArtistIds(festival.id, l => !l.unscheduled),\n\t\t\t\t\tartistId => !_.some(stageSets, s => s.band === artistId)\n\t\t\t\t)\n\t\t\t})}\n}}","// src/store/list/mixins/remote/uploadLineupArtists.js\n\nimport provide from '../../../loading/provide'\n\nexport default (artists) => {return {\n\tupload (data, festivalId) { \n\t\tconst end = `/api/Artists/festivalLineup/${festivalId}`\n\t\tconsole.log('upload artists', data, ...data.keys(), ...data.values())\n\t\t\n\t\treturn provide(data, this.fieldName, '', end, undefined, undefined, {form: true})\n\t\t\t//.then(c => {console.log('upload response', c); return c})\n\t\t\t.catch(console.error)\n\t\t\t.then(() => this.acquireListSupplement('filter=' + JSON.stringify({where: {festival: festivalId}})))\n\t\t\t.then(() => Promise.all(this.getFiltered({festival: festivalId}).map(x => x.band).map(id => artists.getLocalPromise(id))))\n\t},\n\taddArtist (data, festivalId) {\n\t\tconst end = '/api/Artists/addToLineup/' + festivalId\n\t\t//((assume data was validated in form))\n\t\t//((assume server will add user field))\n\t\t//submit to server\n\t\t//set last remote load to 0\n\t\treturn provide(data, this.fieldName, '', end)\n\t\t\t.then(artistData => {\n\t\t\t\t//console.log('artistData')\n\t\t\t\t//console.log(artistData)\n\t\t\t\tartists.append(artistData.id.artist)\n\t\t\t\tthis.append(artistData.id.lineup)\n\t\t\t\t//m.redraw()\n\t\t\t\treturn artistData\n\t\t\t})\n\t\t\t//.then(logResult)\n\t\t\t.then(() => artists.remoteCheck(true))\n\t\t\t.then(() => this.remoteCheck(true))\n\t}\n}}","// place.js\nimport _ from 'lodash'\n\nexport default (series, festivals) => { return  {\n\tgetFestivalId (id)  {\n\t\tconst place = this.get(id)\n\t\tif(!place) return\n\t\treturn place.festival\n\t},\n\tforFestival (festivalId) {return _.uniqBy(this.list\n\t\t.filter(d => d.festival === festivalId), x => x.name)\n\t\t.sort((a, b) => a.priority - b.priority)\n\t},\n\tforSeries (seriesId) {return _.uniqBy(_.flatMap(\n\t\tseries.getSubIds(seriesId),\n\t\tthis.forFestival\n\t), x => x.name)\n\t},\n\tprevPlaces (festivalId) {return this.forFestival(\n\t\t_.max(festivals.getPeerIds(festivalId))\n\t)},\n\tmissingStageFestivals (daysAhead = 14) {return festivals.future(daysAhead)\n\t\t.filter(festival => !this.forFestival(festival.id).length)\n\t}\n\n}}","// src/store/list/mixins/remote/festivalMessages.js\n\nimport _ from \"lodash\"\nvar bulkUpdateSubjectCache = {}\n\nexport default (festivals, lineups) => {\n\treturn {\n\t\tloadForFestival(festivalId) {\n\t\t\t//console.log(\"loadForFestival\", festivalId)\n\t\t\tif (!festivalId) {\n\t\t\t\treturn Promise.reject(\"No festivalId\")\n\t\t\t}\n\t\t\tconst fest = festivals.get(festivalId)\n\t\t\tif (!fest || !fest.series) {\n\t\t\t\treturn Promise.reject(\"No fest\")\n\t\t\t}\n\t\t\tconst setIds = festivals.getSubSetIds(festivalId)\n\t\t\tconst dayIds = festivals.getSubDayIds(festivalId)\n\t\t\tconst dateIds = festivals.getSubDateIds(festivalId)\n\t\t\tconst artistIds = lineups\n\t\t\t\t.getFiltered(l => l.festival === festivalId)\n\t\t\t\t.map(l => l.band)\n\t\t\tconst subjects = [\n\t\t\t\t{ subjectType: SET, subject: { inq: setIds } },\n\t\t\t\t{ subjectType: DAY, subject: { inq: dayIds } },\n\t\t\t\t{ subjectType: DATE, subject: { inq: dateIds } },\n\t\t\t\t{ subjectType: FESTIVAL, subject: festivalId },\n\t\t\t\t{ subjectType: SERIES, subject: fest.series },\n\t\t\t\t{ subjectType: ARTIST, subject: { inq: artistIds } }\n\t\t\t]\n\t\t\tconst filters = subjects.map(s => {\n\t\t\t\treturn {\n\t\t\t\t\twhere: { and: [s, { deleted: false }] },\n\t\t\t\t\torder: \"id DESC\",\n\t\t\t\t\tlimit: 500\n\t\t\t\t}\n\t\t\t})\n\t\t\tconst ends = filters.map(\n\t\t\t\tfilter => `/api/Messages/?filter=${JSON.stringify(filter)}`\n\t\t\t)\n\t\t\treturn Promise.all(ends.map(end => this.acquireListSupplement(\"\", end)))\n\t\t\t\t.then(() =>\n\t\t\t\t\tthis.getFiltered(m => {\n\t\t\t\t\t\tconst okSet = m.subjectType !== SET || setIds.includes(m.subject)\n\t\t\t\t\t\tconst okDay = m.subjectType !== DAY || dayIds.includes(m.subject)\n\t\t\t\t\t\tconst okDate =\n\t\t\t\t\t\t\tm.subjectType !== DATE || dateIds.includes(m.subject)\n\t\t\t\t\t\tconst okFestival =\n\t\t\t\t\t\t\tm.subjectType !== FESTIVAL || m.subject === festivalId\n\t\t\t\t\t\tconst okSeries =\n\t\t\t\t\t\t\tm.subjectType !== SERIES || m.subject === fest.series\n\t\t\t\t\t\tconst okArtist =\n\t\t\t\t\t\t\tm.subjectType !== ARTIST || artistIds.includes(m.subject)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tokSeries &&\n\t\t\t\t\t\t\tokDay &&\n\t\t\t\t\t\t\tokDate &&\n\t\t\t\t\t\t\tokFestival &&\n\t\t\t\t\t\t\tokSeries &&\n\t\t\t\t\t\t\tokArtist\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.then(baseMessages => {\n\t\t\t\t\tconst baseFilter = {\n\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\tand: [\n\t\t\t\t\t\t\t\t{ baseMessage: { inq: baseMessages.map(x => x.id) } },\n\t\t\t\t\t\t\t\t{ deleted: false }\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst baseEnd = `/api/Messages/?filter=${JSON.stringify(baseFilter)}`\n\t\t\t\t\treturn this.acquireListSupplement(\"\", baseEnd)\n\t\t\t\t})\n\t\t\t\t.then(x => this.messageSenders())\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(\"this loadForFestival Promise.all\")\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t},\n\t\tloadForArtist(artistId) {\n\t\t\tif (!artistId) {\n\t\t\t\treturn Promise.reject(\"No artistId\")\n\t\t\t}\n\t\t\t//console.log('loadForFestival')\n\t\t\t//console.log(artistId)\n\t\t\tconst eventSubjectObject = { subjectType: ARTIST, subject: artistId }\n\t\t\t//check if the festival has already been loaded\n\t\t\tconst dataFieldName = \"Messages\"\n\t\t\tconst end = \"/api/\" + dataFieldName + \"/forArtist/\"\n\n\t\t\treturn (\n\t\t\t\tthis.acquireListSupplement(\"\", end + artistId)\n\t\t\t\t\t.then(x => this.messageSenders())\n\t\t\t\t\t//.then(() => false)\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.log(\"this loadForArtist Promise.all\")\n\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n}\n","// src/store/list/mixins/remote/details/message.js\n\n\n\nimport _ from 'lodash'\n\nimport {subjectDataField} from '../../../../../services/subjectFunctions'\n\nexport default (subjects) => {return {\n\tsubjectDetails (so) {\n\t\tif(!so || !so.subjectType || !so.subject) {\n\t\t\treturn Promise.reject('No subject object for subjectDetails')\n\t\t}\n\t\tif(so.subjectType !== this.subjectType) return Promise.reject(`No flag subjectType mismatch ${so.subjectType} !== ${this.subjectType}` )\n\n\t\t//console.log('subjectDetails', so)\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//for each subject Type, collect detail information\n\n\t\t//assumes all series loaded from core\n\t\t//assumes all festivals are loaded from core\n\n\t\tvar updated = false\n\n\t\treturn this.getLocalPromise(so.subject)\n\t\t\t.then(([subjectData, upd]) => {\n\t\t\t\tupdated = updated || upd\n\t\t\t\treturn subjectData\n\t\t\t})\n\t\t\t.then(subjectData => {\n\t\t\t\t//get to the baseMessage\n\t\t\t\t//console.log('message subjectDetails', so, subjectData)\n\t\t\t\tconst userP = subjects.profiles.getLocalPromise(subjectData.fromuser)\n\t\t\t\tif(subjectData.subjectType !== MESSAGE) return subjectData\n\t\t\t\t\tif(!subjectData.baseMessage) throw new Error(`expected baseMessage: ${subjectData}`)\n\t\t\t\treturn this.getLocalPromise(subjectData.baseMessage)\n\t\t\t\t.then(([subjectData, upd]) => subjectData)\n\t\t\t})\n\t\t\t.then(baseMessage => {\n\t\t\t\tconst typeString = subjectDataField(baseMessage.subjectType).toLowerCase()\n\t\t\t\t//console.log('subjects.Messages.eventConnectedFilter cachePath')\n\t\t\t\t//console.log(typeString)\n\t\t\t\t//console.log(cachePath)\n\t\t\t\tconst discuss = this.getFiltered({baseMessage: baseMessage.id})\n\t\t\t\t\t.map(x => x.id)\n\n\t\t\t\tconst messQuery = `filter=` + JSON.stringify({where: {and: [\n\t\t\t\t\t{baseMessage: baseMessage.id},\n\t\t\t\t\t{id: {nin: discuss}}\n\t\t\t\t]}})\n\t\t\t\t//console.log('subjectDetails typeString', typeString)\n\t\t\t\treturn Promise.all([\n\t\t\t\t\tsubjects[typeString].subjectDetails(baseMessage),\n\t\t\t\t\tthis.acquireListSupplement(messQuery)\n\t\t\t\t\t\t.then(upd => updated = updated || upd)\n\t\t\t\t])\n\t\t\t})\n\t\t\t.then(() => updated)\n\t\t\t\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('this subjectDetails flag')\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\n\t\t\n\t}\n}}","// message.js\n\n\nexport default ({sets, days, dates, festivals}) => { return  {\n\timplicit (so, userId) {\n\t\t//festival: any sub event\n\t\t//date: any sub event or the assoc festival if there is only one date\n\t\t//day: any sub event or the assoc date or the assoc festival\n\t\tconst lastCheckin = this.lastCheckin(userId)\n\t\tif(!lastCheckin) return false\n\t\tconst directCheckin = so.subjectType === lastCheckin.subjectType && so.subject === lastCheckin.subject || this.some(m => m.subjectType === DATE && m.messageType === CHECKIN && so.subject === m.subject)\n\t\tconst peerCheckin = !directCheckin && so.subjectType === lastCheckin.subjectType\n\t\tconst implicitCheckinPossible = !directCheckin && !peerCheckin && \n\t\t\t[8, 9, 3].includes(lastCheckin.subjectType) &&\n\t\t\t[7, 8, 9].includes(so.subjectType)\n\t\tconst eventActive = (\n\t\t\tso.subjectType === 3 && sets.active(so.subject) ||\n\t\t\tso.subjectType === 7 && festivals.activeDate(so.subject) ||\n\t\t\tso.subjectType === 8 && dates.active(so.subject) ||\n\t\t\tso.subjectType === 9 && days.active(so.subject)\n\t\t)\n\t\tif(!implicitCheckinPossible || !eventActive) return directCheckin && eventActive\n\t\t//date\n\t\tconst date = lastCheckin.subjectType === 8 && so.subjectType === 7 && dates.getFestivalId(lastCheckin.subject) === so.subject\n\t\t//day\n\t\tconst day = lastCheckin.subjectType === 9 && (\n\t\t\tso.subjectType === 7 && sets.getFestivalId(lastCheckin.subject) === so.subject ||\n\t\t\tso.subjectType === 8 && sets.getDateId(lastCheckin.subject) === so.subject\n\t\t\t\n\t\t)\n\t\t//set\n\t\tconst set = lastCheckin.subjectType === 3 && (\n\t\t\tso.subjectType === 7 && sets.getFestivalId(lastCheckin.subject) === so.subject ||\n\t\t\tso.subjectType === 8 && sets.getDateId(lastCheckin.subject) === so.subject ||\n\t\t\tso.subjectType === 9 && sets.getDayId(lastCheckin.subject) === so.subject\n\t\t)\n\t\t\n\t\treturn Boolean(date || day || set)\n\t}\n}}","// interact.js\n\nimport _ from \"lodash\"\n\nimport archive from \"../../../loading/archive\"\nimport { loadModel } from \"../../../loading/enlist\"\n\nconst clearBlockedMessages = blockUserId => {}\n\nexport default messages => {\n\treturn {\n\t\tclearInteract(subjectObject, type) {\n\t\t\tconst deletions = this.getFiltered(\n\t\t\t\ti =>\n\t\t\t\t\ti.subject === subjectObject.subject &&\n\t\t\t\t\ti.subjectType === subjectObject.subjectType\n\t\t\t)\n\t\t\t\t.map(x => _.set(x, \"deleted\", true))\n\t\t\t\t.filter(x => x.id)\n\t\t\tconst interactIds = deletions.map(i => i.id)\n\n\t\t\t//mark in memory\n\t\t\tthis.backfillList(deletions, true)\n\n\t\t\t//mark locally\n\t\t\tarchive(this.fieldName, this.list)\n\n\t\t\t//send to server\n\t\t\tconsole.log(\"this.clearInteract\", deletions)\n\t\t\t//console.log(subjectObject)\n\t\t\t//console.log(interactIds)\n\t\t\t//console.log(this.list)\n\t\t\tinteractIds.map(id => this.delete({ id: id }))\n\t\t},\n\t\tsetInteract(subjectObject, type) {\n\t\t\tconst data = _.assign({}, subjectObject, { type: type })\n\t\t\t//mark locally\n\t\t\tthis.list.push(data)\n\t\t\tloadModel(this.fieldName)\n\t\t\t\t.then(archived => _.filter(archived, data)[0])\n\t\t\t\t.then(current => {\n\t\t\t\t\tconsole.log(\"setInteract \")\n\t\t\t\t\t//send to server\n\t\t\t\t\tif (current && current.deleted) {\n\t\t\t\t\t\treturn this.updateInstance(\n\t\t\t\t\t\t\t_.assign({}, current, { deleted: 0, timestamp: undefined }),\n\t\t\t\t\t\t\tcurrent.id\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\treturn this.create(data)\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (type === BLOCK && subjectObject.subjectType === USER)\n\t\t\t\t\t\tmessages.senderPurge(subjectObject.subject)\n\t\t\t\t})\n\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(\"setInteract\", err)\n\t\t\t\t})\n\t\t}\n\t}\n}\n","// src/store/list/mixins/remote/details/user.js\n\nimport _ from \"lodash\"\nvar bulkUpdateSubjectCache = {}\n\nexport default interactions => {\n\treturn {\n\t\tsubjectDetails(so) {\n\t\t\tif (!so || !so.subjectType || !so.subject) {\n\t\t\t\treturn Promise.reject(\"No subject object for subjectDetails\")\n\t\t\t}\n\t\t\tif (so.subjectType !== this.subjectType)\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`No subjectType mismatch ${so.subjectType} !== ${this.subjectType}`\n\t\t\t\t)\n\n\t\t\t//get subjectData from the model, loading from the server if needed\n\t\t\t//for each subject Type, collect detail information\n\n\t\t\tvar updated = false\n\t\t\treturn this.getLocalPromise(so.subject)\n\t\t\t\t.then(([data, s]) => (updated = updated || Boolean(s)))\n\t\t\t\t.then(() => {\n\t\t\t\t\t//console.log('user subjectDetails interactions')\n\t\t\t\t\tconst interEnd = interactions.baseEndpoint\n\t\t\t\t\tconst localIds = interactions\n\t\t\t\t\t\t.getFiltered({ user: so.subject })\n\t\t\t\t\t\t.map(x => x.id)\n\t\t\t\t\tconst interQuery = `filter=${JSON.stringify({\n\t\t\t\t\t\twhere: { and: [{ id: { nin: localIds } }] }\n\t\t\t\t\t})}`\n\t\t\t\t\treturn interactions\n\t\t\t\t\t\t.acquireListSupplement(interQuery, interEnd)\n\t\t\t\t\t\t.then(upd => (updated = updated || upd))\n\t\t\t\t\t\t.then(() => interactions.list.flatMap(x => [x.subject, x.user]))\n\t\t\t\t\t\t.then(x => _.uniq(x))\n\t\t\t\t\t\t.then(userIds => this.getManyPromise(userIds, { upd: true }))\n\t\t\t\t\t\t.then(upd => (updated = updated || upd))\n\t\t\t\t})\n\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(\"this subjectDetails Promise.all\")\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t}\n\t}\n}\n","// interactOptions.js\n\nimport _ from 'lodash'\nimport m from 'mithril'\n\nimport archive from '../../../loading/archive'\nimport {loadModel} from '../../../loading/enlist'\nimport {subjectData} from '../../../subjectData'\n\nconst followItem = interactions => (so) => { return {\n\tname: `Follow ${subjectData.name(so)}`,\n\ticon: m('i', {class: \"fas fa-user-plus\" ,\n\t\t\t\t\"data-fa-transform\":\"grow-15\"}),\n\titemClicked: e => interactions.setInteract(so, FOLLOW),\n\tdata: subjectData.get(so)\n}}\nconst unfollowItem = interactions => (so) => { return {\n\tname: `Stop following ${subjectData.name(so)}`,\n\ticon: m('i', {class: \"fas fa-user-minus\" ,\n\t\t\t\t\"data-fa-transform\":\"grow-15\"}),\n\titemClicked: e => interactions.clearInteract(so, FOLLOW),\n\tdata: subjectData.get(so)\n}}\nconst blockItem = interactions => (so) => { return {\n\tname: `Block ${subjectData.name(so)}`,\n\ticon: m('i', {class: \"fas fa-user-shield\" ,\n\t\t\t\t\"data-fa-transform\":\"grow-15\"}),\n\titemClicked: e => interactions.setInteract(so, BLOCK),\n\tdata: subjectData.get(so)\n}}\nconst unblockItem = interactions => (so) => { return {\n\tname: `Stop blocking ${subjectData.name(so)}`,\n\ticon: m('i', {class: \"fas fa-user-circle\" ,\n\t\t\t\t\"data-fa-transform\":\"grow-15\"}),\n\titemClicked: e => interactions.clearInteract(so, BLOCK),\n\tdata: subjectData.get(so)\n}}\nexport default (interactions) => { return {\n\tinteractOptions (id) { \n\t\tconst so = {subjectType: this.subjectType, subject: id }\n\t\tconst currentInteractions = interactions.getFiltered(so)\n\t\tconst currentlyFollowing = currentInteractions.some(i => i.type === FOLLOW)\n\t\tconst currentlyBlocking = currentInteractions.some(i => i.type === BLOCK)\n\n\t\t//available options\n\t\t//view profile\n\t\t//send a message\n\n\t\t//follow\n\t\t//unfollow\n\t\tconst follow = currentlyFollowing ? unfollowItem(interactions) : followItem(interactions)\n\t\t//block\n\t\t//unblock\n\t\tconst block = currentlyBlocking ? unblockItem(interactions) : blockItem(interactions)\n\t\treturn [follow(so), block(so)]\n\t}\n}}","// src/store/list/mixins/relations/recent.js\n\nimport _ from 'lodash'\n\n\nexport default (messages) => { return {\n\trecent (count) { \n\t\treturn messages\n\t\t\t.lbfilter({fields:{fromuser: true, id: true}, \"limit\":500, \"order\":\"id DESC\"})\n\t\t\t.then(ms => _.take(_.uniqBy(ms, 'fromuser'), count ? count : 10).map(ms => ms.fromuser))\n\t} \n}}","// src/store/list/mixins/remote/details/flag.js\n\n\n\nimport _ from 'lodash'\n\nexport default (messages) => { return {\n\tsubjectDetails (so) {\n\t\tif(!so || !so.subjectType || !so.subject) {\n\t\t\treturn Promise.reject('No subject object for subjectDetails')\n\t\t}\n\t\tif(so.subjectType !== this.subjectType) return Promise.reject(`No flag subjectType mismatch ${so.subjectType} !== ${this.subjectType}` )\n\n\t\t//console.log('subjectDetails', so)\n\t\t//get subjectData from the model, loading from the server if needed\n\t\t//for each subject Type, collect detail information\n\n\t\t//assumes all series loaded from core\n\t\t//assumes all festivals are loaded from core\n\n\t\tvar updated = false\n\n\t\treturn this.getLocalPromise(so.subject)\n\t\t\t.then(([subjectData, upd]) => {\n\t\t\t\tupdated = updated || upd\n\t\t\t\treturn subjectData\n\t\t\t})\n\t\t\t.then(subjectData => {\n\t\t\t\t//direct messages\n\t\t\t\tconst skipIds = messages\n\t\t\t\t\t.getFiltered({subjectType: FLAG, subject: subjectData.id})\n\t\t\t\t\t.map(x => x.id)\n\t\t\t\tconst messEnd = `/api/Messages`\n\t\t\t\tconst messQuery = `filter=` + JSON.stringify({where: {and: [\n\t\t\t\t\t{subject: so.subject},\n\t\t\t\t\t{subjectType: so.subjectType},\n\t\t\t\t\t{id: {nin: skipIds}}\n\t\t\t\t]}})\n\t\t\t\treturn messages.acquireListSupplement(messQuery, messEnd)\n\t\t\t\t\t.then(upd => updated = updated || upd)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconst bases = messages.getFiltered({subjectType: FLAG, subject: subjectData.id})\n\t\t\t\t\t\t\t.map(x => x.id)\n\t\t\t\t\t\tconst discuss = messages.getFiltered({baseMessage: {inq: bases}})\n\t\t\t\t\t\t\t.map(x => x.id)\n\n\t\t\t\t\t\tconst messQuery = `filter=` + JSON.stringify({where: {and: [\n\t\t\t\t\t\t\t{baseMessage: {inq: bases}},\n\t\t\t\t\t\t\t{id: {nin: discuss}}\n\t\t\t\t\t\t]}})\n\t\t\t\t\t\treturn messages.acquireListSupplement(messQuery, messEnd)\n\t\t\t\t\t\t\t.then(upd => updated = updated || upd)\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t})\n\t\t\t.then(() => updated)\n\t\t\t\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('this subjectDetails flag')\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\n\t}\n}}","// src/store/list/mixins/attributes/pending.js\nimport _ from 'lodash'\n\nexport default (messages) => {return {\n\tpending ([userId, userRoles]) { \n\t\t//for users, pending flags have states of: 3 (Responded) or 5 (Discussion) if they have an unread reply\n\t\t//for admin, pending flags have a state of 1 (Opened) or 2 (Review) or 5 (Discussion)  if they have an unread reply\n\t\tconst userPending = userId && userRoles.includes(`user`) ? this.getFiltered(f => f.fromuser === userId && [3, 5].includes(f.status)) : []\n\t\tconst userPendingAction = userPending.filter(f => f.status === 3 || messages.getUnread({subjectType: FLAG, subject: f.id}, userId).length)\n\t\tconst adminPending = userId && userRoles.includes(`admin`) ? this.getFiltered(f => [1, 2, 5].includes(f.status)) : []\n\t\tconst adminPendingAction = adminPending.filter(f => [1, 2].includes(f.status) || messages.getUnread({subjectType: FLAG, subject: f.id}, userId).length)\n\t\t//console.log('pending userPending, adminPending', userPending, adminPending)\n\t\t//console.log('pending userId, userRoles', userId, userRoles)\n\t\treturn [...userPendingAction, ...adminPendingAction]\n\t},\n\twaiting ([userId, userRoles]) { \n\t\t//for users, pending flags have states of: 3 (Responded) or 5 (Discussion) if they have an unread reply\n\t\t//for admin, pending flags have a state of 1 (Opened) or 2 (Review) or 5 (Discussion)  if they have an unread reply\n\t\tconst userWating = userId && userRoles.includes(`user`) ? this.getFiltered(f => f.fromuser === userId && [1, 2, 4, 5, 6].includes(f.status)) : []\n\t\tconst userWatingAction = userWating.filter(f => f.status !== 5 || !messages.getUnread({subjectType: FLAG, subject: f.id}, userId).length)\n\t\tconst adminWating = userId && userRoles.includes(`admin`) ? this.getFiltered(f => [3, 4, 5, 6].includes(f.status)) : []\n\t\tconst adminWatingAction = adminWating.filter(f => f.status !== 5 || !messages.getUnread({subjectType: FLAG, subject: f.id}, userId).length)\n\t\t//console.log('pending userWating, adminWating', userWating, adminWating)\n\t\t//console.log('pending userId, userRoles', userId, userRoles)\n\t\treturn [...userWatingAction, ...adminWatingAction]\n\t}  \n}}","// src/components/layout/MainStage.jsx\n\nimport m from 'mithril'\n\nconst MainStage = {\n\tview: (vnode) =>\n\t\t<div class=\"main-stage\">\n\t\t\t{vnode.children}\n\t\t</div>\n};\n\nexport default MainStage;","// src/components/fields/MenuField.jsx\n\nimport m from 'mithril'\nconst classes = attrs => 'ft-menu-field ' + (attrs.selected ? 'ft-menu-item-selected' : '')\nconst MenuField = {\n\tview: ({ attrs }) =>\n\t\t<span class={classes(attrs)}>\n\t\t\t{attrs.display}\n\t\t</span >\n};\n\nexport default MenuField;","// src/components/ui/MenuItem.jsx\n\nimport m from \"mithril\"\n\nimport MenuField from \"../fields/MenuField.jsx\"\n\nconst hide = el => el.classList.add(\"hidden\")\nconst show = el => el.classList.remove(\"hidden\")\n\nconst MenuItem = {\n\tview: ({ attrs }) => (\n\t\t<div\n\t\t\tclass={\n\t\t\t\t//the item is disabled if theres is not a valid path or\n\t\t\t\tm.route.get() &&\n\t\t\t\tnew RegExp(\n\t\t\t\t\tm.route.get().replace(/[-[\\]/{}()*+?.\\\\^$|]/g, \"\\\\$&\")\n\t\t\t\t).test(attrs.data.path)\n\t\t\t\t\t? `ft-menu-item-selected`\n\t\t\t\t\t: attrs.data.header\n\t\t\t\t\t? `ft-menu-item-header`\n\t\t\t\t\t: attrs.data.path || attrs.clickFunction\n\t\t\t\t\t? \"ft-menu-item\"\n\t\t\t\t\t: \"ft-menu-item-disabled\"\n\t\t\t}\n\t\t\tonclick={() => {\n\t\t\t\t//console.log('MenuItem click', attrs)\n\t\t\t\tif (attrs.data.header) {\n\t\t\t\t\tconst groupSelector = `[data-group=\"${attrs.data.name}\"]`\n\t\t\t\t\tconst items = Array.from(\n\t\t\t\t\t\tdocument.querySelectorAll(groupSelector)\n\t\t\t\t\t)\n\t\t\t\t\tif (!items || !items.length) return\n\t\t\t\t\tconst itemsHidden = items[0].classList.contains(\"hidden\")\n\t\t\t\t\tconst toggle = itemsHidden ? show : hide\n\t\t\t\t\treturn items.forEach(toggle)\n\t\t\t\t}\n\t\t\t\tif (attrs.data.path && attrs.data.params)\n\t\t\t\t\tm.route.set(attrs.data.path, attrs.data.params())\n\t\t\t\tif (attrs.data.path) m.route.set(attrs.data.path)\n\t\t\t\tif (attrs.clickFunction) attrs.clickFunction()\n\t\t\t}}\n\t\t\tdata-group={attrs.data.group}\n\t\t>\n\t\t\t<div class=\"ft-menu-item-fields\">\n\t\t\t\t{attrs.data.icon ? attrs.data.icon : \"\"}\n\t\t\t\t<MenuField display={attrs.data.name} />\n\t\t\t</div>\n\t\t</div>\n\t),\n}\n\nexport default MenuItem\n","// src/components/ui/CollapsibleMenu.jsx\n// attrs:\n//  selected\n//  stateChange\n//  collapsed\n//  menu\n//  bannerMenu\n//  subMenu\n//  menuName\n//  idFields\n//  preLoad\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n\nimport MenuItem from \"./MenuItem.jsx\"\nconst classes = attrs =>\n\t\"ft-banner-menu-content \" + (attrs.left ? \" ft-l-0\" : \" ft-r-0\")\nconst CollapsibleMenu = {\n\tview: ({ attrs }) => (\n\t\t<div\n\t\t\tclass={\"ft-banner-menu ft-pr\" + (attrs.collapsed ? \" hidden\" : \"\")}\n\t\t>\n\t\t\t{attrs.header && !attrs.collapsed ? attrs.header : \"\"}\n\t\t\t<div class={classes(attrs)}>\n\t\t\t\t{attrs.menu.map(i => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tdata={i}\n\t\t\t\t\t\tclickFunction={attrs.itemClicked}\n\t\t\t\t\t\tkey={i.name}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t),\n}\n\nexport default CollapsibleMenu\n","// src/components/fields/buttons/FortyButton.jsx\n\nimport m from 'mithril'\n\n\nconst FortyButton = vnode => { \n\treturn {\n\t  view: ({ attrs, children }) =>\n\t    <div class=\"ft-button-forty\" >\n\t      {children}\n\t    </div>\n}}\n\nexport default FortyButton","// src/componenets/fields/Icon.jsx\n\nimport m from 'mithril'\n\nconst Icon = {\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-icon-div\" >\n\t\t\t{m.trust(`\n\t\t\t\t<svg \n\t\t\t\t\tclass=\"ft-icon icon icon-${attrs.name} ${attrs.classes ? attrs.classes : ''}\"\n\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\tpreserveAspectRatio=\"none\"\n\t\t\t\t>\n\t\t\t\t<use xlink:href=\"img/symbol-defs.svg#icon-${attrs.name}\"></use></svg>`\n\t\t\t)}\n\t\t</div>\n}\n\nexport default Icon","// src/components/ui/DisplayButton.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport CollapsibleMenu from './CollapsibleMenu.jsx';\nimport FortyButton from '../fields/buttons/FortyButton.jsx'\nimport Icon from '../fields/Icon.jsx'\n\n// Services\nconst validUserItem = {\n\t\t\tname: 'Logout',\n\t\t\tpath: '/confirm/logout',\n\t\t\ticon: <FortyButton><Icon name=\"exit\" /></FortyButton>\n\t\t}\n\tconst invalidUserItem = {\n\t\t\tname: 'Login',\n\t\t\tpath: '/auth',\n\t\t\tparams: () => {return{prev: m.route.get()}},\n\t\t\ticon: <FortyButton><Icon name=\"enter\" /></FortyButton>\n\t\t\n\t\t}\nconst menuList = (userRoles) => {\n\treturn [\n\t\t(userRoles.includes('user') ? {\n\t\t\tname: 'Account',\n\t\t\tpath: '/users/account',\n\t\t\ticon: <FortyButton><Icon name=\"user\" /></FortyButton>\n\t\t} : ''),\n\t\t(userRoles.includes('admin') ? {\n\t\t\tname: 'Admin',\n\t\t\tpath: '/admin',\n\t\t\ticon: <FortyButton><Icon name=\"hammer\" /></FortyButton>\n\t\t} : ''),\n\t\t{\n\t\t\tname: 'Launcher',\n\t\t\tpath: '/launcher',\n\t\t\ticon: <FortyButton><img src=\"/favicon.ico\" /></FortyButton>\n\t\t},\n\t\t{\n\t\t\tname: 'Festivals',\n\t\t\tpath: '/series/pregame',\n\t\t\ticon: <FortyButton><Icon name=\"music\" /></FortyButton>\n\t\t},\n\t\t(userRoles.includes('user') ? {\n\t\t\tname: 'Research',\n\t\t\tpath: '/research',\n\t\t\ticon: <FortyButton><Icon name=\"science\" /></FortyButton>\n\t\t} : ''),\n\t\t(userRoles.includes('user') ? {\n\t\t\tname: 'Theme',\n\t\t\tpath: '/themer/schedule',\n\t\t\ticon: <FortyButton><Icon name=\"paint-format\" /></FortyButton>\n\t\t} : ''),\n\t].filter(x => x)\n\t\n} \nconst DisplayButton = vnode => {\n\tvar menuHidden = true\n\tconst hideMenu = dom => (e) => {\n\t\t//console.log('DisplayButton dom e', dom.contains(e.target))\n\t\tif(!dom.contains(e.target)) menuHidden = true\n\t\t\tm.redraw()\n\n\t}\n\treturn {\n\t\toncreate: ({attrs, dom}) => {\n\t\t\tdocument.body.addEventListener('click', hideMenu(dom))\n\t\t},\n\t\tonremove: ({attrs, dom}) => {\n\t\t\tdocument.body.removeEventListener('click', hideMenu(dom))\n\t\t},\n\t\tview: ({ attrs }) => <div>\n\t\t\t<div class=\"ft-nav-button ft-nav-menu-button\" onclick={() => menuHidden = !menuHidden}>\n\t\t\t\t{attrs.icon}\n\t\t\t</div>\n\t\t\t<CollapsibleMenu \n\t\t\t\tmenu={menuList(attrs.userRoles).concat([attrs.userRoles.includes('user') ? validUserItem : invalidUserItem])} \n\t\t\t\tcollapsed={menuHidden}\n\t\t\t\titemClicked={() => menuHidden = true}\n\t\t\t/>\n\t\t</div>\n\t};\n\n}\n\nexport default DisplayButton;","// src/components/layout/WidgetContainer.jsx\n\nimport m from 'mithril'\n\nconst WidgetContainer = {\n  view: ({ children }) => {\n    return (\n      <div class=\"ft-widget-container\">\n        {children}\n      </div>\n    )\n  }\n};\n\nexport default WidgetContainer;","// FiftyButton.jsx\n\nimport m from 'mithril'\n\n\nconst FiftyButton = vnode => { \n\treturn {\n\t  view: ({ attrs, children }) =>\n\t    <div class=\"ft-fifty-button\" onclick={attrs.clickFunction} >\n\t      {children}\n\t    </div>\n}}\n\nexport default FiftyButton","// src/components/widgets/FixedCard.jsx\n\n\nimport m from 'mithril'\n\nimport FiftyButton from '../cardOverlays/fifty/FiftyButton.jsx'\n\nconst classes = attrs => {\n\treturn (attrs.quarter ? 'ft-quarter ' : '') + \n\t(attrs.display ? '' : 'hidden ') + \n  (attrs.tall ? 'ft-widget-tall ' : '')\n}\n\nconst FixedCardWidget = {\n  view: (vnode) => {\n    return (\n<section class={`ft-widget-fixed-card ${classes(vnode.attrs)}`}>\n  {vnode.attrs.header ? <header class=\"ft-widget-header\"><div class=\"ft-widget-header-text\">{vnode.attrs.header}</div>{vnode.attrs.button ? <FiftyButton>{vnode.attrs.button}</FiftyButton> : ''}</header> : ''}\n  <div class={\"ft-card-container \" + (vnode.attrs.containerClasses ? vnode.attrs.containerClasses : '')}>  \n    { vnode.children }\n  </div>\n  <footer>{vnode.attrs.footer}</footer>\n</section>\n    )\n  }\n};\n\nexport default FixedCardWidget;","// src/components/fields/ComposedNameField.jsx\n\nimport m from 'mithril'\n\nconst ComposedNameField = {\n\tview: ({ attrs }) =>\n\t\t<span class=\"ft-field\">\n\t\t\t{attrs.fieldValue}\n\t\t</span >\n};\n\nexport default ComposedNameField;","// src/components/cards/SearchCard.jsx\n\nimport m from 'mithril'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx';\n\nconst SearchCard = {\n  view: ({ attrs }) =>\n    <div class={\"ft-card ft-card-search \" + (attrs.uiClass ? attrs.uiClass : '')}>\n    \t<label class=\"hidden\" for=\"artist-search-input\">Search for artist</label>\n      \t<input type=\"text\" oninput={attrs.patternChange} name=\"artist-search-input\" placeholder=\"Search\" />\n    </div>\n};\n\nexport default SearchCard;","// src/components/cards/SeriesCard.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx';\nimport {remoteData} from '../../store/data';\n\n\nconst SeriesCard = {\n  view: ({ attrs }) =>\n    <div class={\"ft-card ft-card-series \" + (attrs.uiClass ? attrs.uiClass : '')} onclick={() => m.route.set(\"/series\" + \"/pregame\" + '/' + attrs.eventId)}>\n      <div class=\"ft-fields\">\n        {_.isInteger(attrs.eventId) && attrs.eventId ? <ComposedNameField fieldValue={remoteData.Series.getEventName(attrs.eventId)} /> : <ComposedNameField fieldValue={'New Series'} />}\n      </div>\n    </div>\n};\n\nexport default SeriesCard;\n","// src/components/fields/CircleNail.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n//import jQuery from 'jquery'\n//import cloudinary from 'cloudinary'\n\nimport {remoteData} from '../../store/data.js'\n\nconst {Images: images} = remoteData\n\n\n\nconst CircleNail = {\n    view: ({attrs}) => {\n        const mapping = {\n            img: images.find(i => i.url && i.subjectType === attrs.subjectType && i.subject === attrs.subject)\n        }\n        return m({\n            view: ({attrs}) => <div \n                class=\"ft-card-thumbnail\" \n                onclick={e => {\n                    //console.log('CircleNail click', `/pregame/subjects/${attrs.img.subjectType}/${attrs.img.subject}`, attrs.img )\n                    if(!attrs.img) return\n                    e.preventDefault();\n                    e.stopPropagation();\n                    m.route.set(`/pregame/subject/${attrs.img.subjectType}/${attrs.img.subject}`, {imageId: attrs.img.id});\n                }} \n                >\n                {\n                    //console.log(`CircleNail init`, vnode.attrs.subjectType, vnode.attrs.subject)\n                }\n                {attrs.img ? \n                    <img \n                        alt=\"artist image\" \n                        src={images.src(attrs.img.id, {thumbnail: {width: 50, height: 50}})} \n                /> : ''}\n            </div>\n        }, mapping)\n    }\n        \n}\n\nexport default CircleNail;","// src/components/fields/DateNail.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport CircleNail from './CircleNail.jsx'\n\nimport {remoteData} from '../../store/data.js'\n\nconst images = remoteData.Images\n\n\nconst DateNail = {\n        view: ({attrs}) => <CircleNail \n        subjectType={ARTIST} \n        subject={_.get(images.forDateSingle(attrs.eventId), 'subject', 0)}\n      />\n}\n\nexport default DateNail;","// src/components/cards/DateCard.jsx\n\nimport m from 'mithril'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx';\nimport DateNail from '../fields/DateNail.jsx'\nimport {remoteData} from '../../store/data'\n\nconst DateCard = {\n  view: ({ attrs }) =>\n    <div class={\"ft-card ft-card-date \" + (attrs.uiClass ? attrs.uiClass : '')} onclick={() => m.route.set(\"/dates\" + \"/pregame\" + '/' + attrs.eventId + (attrs.eventId === 'new' && attrs.festivalId ? '/' + attrs.festivalId : ''))}>\n      <div class=\"ft-fields-with-thumbnail\">\n      {attrs.eventId ? <DateNail \n        eventId={attrs.eventId}\n      /> : ''}\n        <div class=\"ft-fields\">\n        {attrs.eventId !== 'new' ? \n        <ComposedNameField fieldValue={remoteData.Dates.getEventName(attrs.eventId)} /> : \n        <ComposedNameField fieldValue={'New Date'} />}\n        </div>\n    </div>\n    </div>\n};\n\nexport default DateCard;\n\n","// src/components/fields/FestivalYearField.jsx\n//attrs: festivalId\n\nimport m from 'mithril'\n////import _ from 'lodash'\n\nimport {remoteData} from '../../store/data';\n\nconst getFestivalYear = id => {\n\tconst festival = remoteData.Festivals.get(id)\n\tif(!festival) return ''\n\treturn festival.year\n}\n\nconst FestivalYearField = {\n\tview: ({ attrs }) =>\n\t\t<span class=\"ft-name-field\">\n\t\t\t{(getFestivalYear(attrs.festivalId))}\n\t\t</span >\n};\n\nexport default FestivalYearField;","// src/components/fields/SeriesNameField.jsx\n//attrs: seriesId\n\nimport m from 'mithril'\n////import _ from 'lodash'\n\nimport {remoteData} from '../../store/data';\n\nconst getSeriesName = id => {\n\tconst series = remoteData.Series.get(id)\n\tif(!series) return ''\n\treturn series.name\n}\n\nconst SeriesNameField = {\n\tview: ({ attrs }) =>\n\t\t<span class=\"ft-name-field\">\n\t\t\t{(getSeriesName(attrs.seriesId))}\n\t\t\t\n\t\t\n\t\t\n\t\t</span >\n};\n\nexport default SeriesNameField;","// src/components/fields/MainEventField.jsx\n//attrs: \tseriesId\n//\t\t\tfestivalId\n\nimport m from 'mithril'\n\nimport  FestivalYearField from './FestivalYearField.jsx';\nimport  SeriesNameField from './SeriesNameField.jsx';\n\nconst MainEventField = {\n  view: ({ attrs }) =>\n    <div class=\"ft-name-fields\">\n        <SeriesNameField seriesId={attrs.seriesId} /> \n        <div class=\"ft-name-field ft-spacer\" /> \n        <FestivalYearField festivalId={attrs.festivalId} />\n      </div>\n};\n\nexport default MainEventField;","// src/componenets/fields/NameField.jsx\n\nimport m from 'mithril'\n\nconst NameField = {\n\tview: ({ attrs }) =>\n\t\t<span class=\"ft-name-field\">\n\t\t\t{attrs.fieldValue}\n\t\t</span >\n};\n\nexport default NameField;","// src/components/fields/FestNail.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport CircleNail from './CircleNail.jsx'\n\nimport {remoteData} from '../../store/data.js'\n\nconst images = remoteData.Images\nconst lineups = remoteData.Lineups\n\n\nconst FestNail = {\n        view: ({attrs}) => <CircleNail \n        subjectType={ARTIST} \n        subject={\n\n            //need artist id from festival lineup that has an image\n            _.get(images.find(i => i.subjectType === ARTIST && lineups.find(l => l.band === i.subject && l.festival === attrs.festivalId)), 'subject', 0)\n        }\n      />\n}\n\nexport default FestNail;","// src/components/cards/FestivalCard.jsx\n\nimport m from \"mithril\"\n\nimport MainEventField from \"../fields/MainEventField.jsx\"\nimport ComposedNameField from \"../fields/ComposedNameField.jsx\"\nimport NameField from \"../fields/NameField.jsx\"\nimport FestNail from \"../fields/FestNail.jsx\"\n\nimport { remoteData } from \"../../store/data\"\n\nconst FestivalCard = {\n\tview: ({ attrs }) => (\n\t\t<div\n\t\t\tclass={\"ft-card ft-card-festival \" + (attrs.uiClass ? attrs.uiClass : \"\")}\n\t\t\tonclick={() => {\n\t\t\t\tm.route.set(\n\t\t\t\t\tattrs.route\n\t\t\t\t\t\t? attrs.route\n\t\t\t\t\t\t: \"/fests/pregame/\" +\n\t\t\t\t\t\t\t\tattrs.eventId +\n\t\t\t\t\t\t\t\t(attrs.eventId === \"new\" && attrs.eventId\n\t\t\t\t\t\t\t\t\t? \"/\" + attrs.eventId\n\t\t\t\t\t\t\t\t\t: \"\")\n\t\t\t\t)\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\"ft-fields-with-thumbnail\">\n\t\t\t\t{attrs.eventId ? <FestNail festivalId={attrs.eventId} /> : \"\"}\n\t\t\t\t{attrs.eventId !== \"new\" ? (\n\t\t\t\t\t<MainEventField\n\t\t\t\t\t\tseriesId={remoteData.Festivals.getSeriesId(attrs.eventId)}\n\t\t\t\t\t\tfestivalId={attrs.eventId}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ComposedNameField fieldValue={\"New Festival Year\"} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{attrs.artistId ? (\n\t\t\t\t<div class=\"ft-set-diff-fields\">\n\t\t\t\t\t{remoteData.ArtistPriorities.getName(\n\t\t\t\t\t\tremoteData.Lineups.getPriFromArtistFest(\n\t\t\t\t\t\t\tattrs.artistId,\n\t\t\t\t\t\t\tattrs.eventId\n\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default FestivalCard\n","// ReviewButton.jsx\n\nimport m from 'mithril'\nimport Icon from '../../fields/Icon.jsx'\n// Services\n\nimport  ComposedNameField from '../../fields/ComposedNameField.jsx';\n\nconst getSubject = attrs => {\n\t//console.log('ReviewButton subject ' + attrs.subject )\n\treturn {\n\t\tsubject: attrs.subject,\n\t\tsubjectType: attrs.subjectType ? attrs.subjectType : 2\n\t}\n}\n\nconst ReviewButton = vnode => { \n\treturn {\n\t  view: ({ attrs }) =>\n\t    <div class=\"ft-fifty-button\" onclick={e => {\n\t    \tconst sub = getSubject(attrs)\n\t    \tattrs.reviewSubject(sub)\n\t    \te.stopPropagation()\n\t    }} >\n\t      \n\t      <Icon name=\"bubble2\"/>\n\t      <Icon name=\"star-full\"/>\n\t    </div>\n}};\n\nexport default ReviewButton;","// ListenButton.jsx\n\nimport m from 'mithril'\n// Services\n\nimport {subjectData} from '../../../store/subjectData.js'\nimport Icon from '../../fields/Icon.jsx'\n\nconst getSubject = attrs => {\n\tconsole.log('ListenButton subject ' + attrs.subject )\n\treturn {\n\t\t\t\tsub: attrs.subject,\n\t\t\t\ttype: attrs.subjectType ? attrs.subjectType : 2\n\n\t}\n}\n\nconst ListenButton = vnode => { \n\treturn {\n\t  view: ({ attrs }) =>\n\t    <div class=\"ft-fifty-button\" onclick={e => {\n\t    \tconst name = subjectData.name(attrs.subject, attrs.subjectType)\n\t    \twindow.open('https://open.spotify.com/search/' + name)\n\t    \te.stopPropagation()\n\t    }} >\n\t      \n\t      <Icon name=\"spotify\"/>\n\t    </div>\n}};\n\nexport default ListenButton;","// src/componenets/cardOverlays/ResearchOverlay.jsx\n\nimport m from 'mithril'\n\nimport {remoteData} from '../../store/data';\nimport ReviewButton from './fifty/ReviewButton.jsx'\nimport ListenButton from './fifty/ListenButton.jsx'\n\n\nconst ResearchOverlay = {\n  view: ({ attrs }) => <div class=\"ft-card-overlay\">\n    <ReviewButton \n      subjectType={2} \n      subject={attrs.artistId}\n      reviewSubject={attrs.reviewSubject}\n    />\n    <ListenButton \n      subjectType={2} \n      subject={attrs.artistId}\n    />\n  </div>\n    \n};\n\nexport default ResearchOverlay;","// src/components/cards/ArtistCard.jsx\n\nimport m from 'mithril'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx';\nimport  NameField from '../fields/NameField.jsx';\nimport  CircleNail from '../fields/CircleNail.jsx';\nimport  ResearchOverlay from '../cardOverlays/ResearchOverlay.jsx'\nimport {remoteData} from '../../store/data';\n\n\nconst {Artists: artists} = remoteData\n\n\nconst defaultClick = attrs => () => m.route.set(\"/artists\" + \"/pregame\" + '/' + attrs.data.id)\n\nconst jsx = {\n  //oninit: ({attrs}) => remoteData.Artists.getLocakPromise(attrs.data.id).catch(console.error),\n  view: ({ attrs }) => <div \n    class={\"ft-card ft-card-artist \" + (attrs.uiClass ? attrs.uiClass : '')} \n    key={attrs.data ? 'artist-' + attrs.data.id : ''} \n    onclick={attrs.clickFunction ? attrs.clickFunction : defaultClick(attrs)}\n  >\n    <div class=\"ft-fields-with-thumbnail\">\n      {attrs.overlay === 'research' && attrs.data ? <ResearchOverlay \n        artistId={attrs.data.id}\n        reviewSubject={attrs.reviewSubject}\n      /> : ''}\n      {attrs.data ? <CircleNail \n        subjectType={2} \n        subject={attrs.data.id}\n      /> : ''}\n      <div class=\"ft-vertical-fields\">\n        <div class=\"ft-fields\">\n          {attrs.data ? <ComposedNameField fieldValue={`${ attrs.data.name}`} /> : ''}\n        </div>\n        {attrs.festivalId ? <div class=\"ft-set-diff-fields\">\n          <NameField fieldValue={remoteData.ArtistPriorities.getName(remoteData.Lineups.getPriFromArtistFest(attrs.data.id, attrs.festivalId))} />\n        </div> : ''}\n      </div>\n    </div>\n  </div>\n    \n};\nconst ArtistCard = {\n  oninit: (vnode) => {\n    return vnode.attrs.subjectObject && artists.subjectDetails(vnode.attrs.subjectObject)\n  },\n  view: ({ attrs }) => {\n    //console.log('ArtistCard attrs', attrs)\n    const mapping = {\n      uiClass: attrs.uiClass,\n      subjectObject: attrs.subjectObject,\n      data: artists.get(attrs.subjectObject ? attrs.subjectObject.subject : attrs.data ? attrs.data.id : {}),\n      festivalId: attrs.festivalId,\n      reviewSubject: attrs.reviewSubject,\n      overlay: attrs.overlay,\n      clickFunction: attrs.clickFunction\n    }\n    return m(jsx, mapping)\n  }\n}\n\n\nexport default ArtistCard;\n","// src/components/cards/NavCard.jsx\n\nimport m from 'mithril'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx';\n\nconst NavCard = {\n  view: ({ attrs }) =>\n    <div class={\"ft-card \" + (attrs.uiClass ? attrs.uiClass : '')} onclick={attrs.action} data-id={attrs.key} key={attrs.key}>\n      <div class=\"ft-fields\">\n        <ComposedNameField fieldValue={attrs.fieldValue} />\n      </div>\n    </div>\n};\n\nexport default NavCard;","// src/components/layout/Launcher.jsx\n// Services\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport smartSearch from \"smart-search\"\n\nimport WidgetContainer from \"../../components/layout/WidgetContainer.jsx\"\nimport FixedCardWidget from \"../../components/widgets/FixedCard.jsx\"\nimport SearchCard from \"../../components/cards/SearchCard.jsx\"\nimport SeriesCard from \"../../components/cards/SeriesCard.jsx\"\nimport DateCard from \"../../components/cards/DateCard.jsx\"\nimport FestivalCard from \"../../components/cards/FestivalCard.jsx\"\nimport ArtistCard from \"../../components/cards/ArtistCard.jsx\"\nimport NavCard from \"../../components/cards/NavCard.jsx\"\n\nimport { remoteData } from \"../../store/data\"\nimport { artistSorter } from \"../../services/sorts\"\n\nconst artistData = ({\n\tdataField,\n\tfallback,\n\tfestivalId,\n\tuserId,\n\tsearch,\n\trecordCount,\n\tprefilter = x => x\n}) => {\n\tconst searchMatches = search\n\t\t? smartSearch(\n\t\t\t\tdataField.list.filter(prefilter),\n\t\t\t\tsearch.pattern,\n\t\t\t\tsearch.fields\n\t\t  ).map(x => x.entry)\n\t\t: dataField.list.sort(fallback)\n\t/*\n\t Promise.all(_.take(searchMatches, 2 * recordCount).map(a => remoteData.Messages.loadForArtist.call(remoteData.Messages, a.id)))\n\t \t.then(ar => {\n\t \t\tif(!_.take(ar, 5).reduce((pv, cv) => pv && cv, true)) {\n\t \t\t\tconsole.log('artistData redraw trigger')\n\t \t\t\tm.redraw()\n\t \t\t} \n\t \t\treturn ar\n\t \t})\n\t \t.catch(console.error)\n\t \t*/\n\treturn _.take(searchMatches, recordCount)\n}\n//console.log('Launcher read')\n\nlet pattern\nconst patternChange = e => {\n\tpattern = e.target.value\n\t//console.log('ArtistSearchWidget pattern ' + pattern)\n}\n\n//console.log('Launcher running')\nlet discoveryArtists = []\nconst Launcher = {\n\tname: \"Launcher\",\n\tpreload: params => {\n\t\tif (params.titleSet) params.titleSet(`FestiGram Launcher`, m.route.get())\n\t\t//console.log('Launcher init')\n\t},\n\tview: ({ attrs }) => (\n\t\t<div class=\"main-stage\">\n\t\t\t<WidgetContainer>\n\t\t\t\t<FixedCardWidget header=\"My Festivals\">\n\t\t\t\t\t{remoteData.Dates.checkedIn(attrs.userId).map(data => (\n\t\t\t\t\t\t<DateCard eventId={data.id} />\n\t\t\t\t\t))}\n\t\t\t\t\t{attrs.userId\n\t\t\t\t\t\t? remoteData.Festivals.intended().map(data => (\n\t\t\t\t\t\t\t\t<FestivalCard eventId={data.id} />\n\t\t\t\t\t\t  ))\n\t\t\t\t\t\t: \"\"}\n\t\t\t\t</FixedCardWidget>\n\t\t\t\t<FixedCardWidget header=\"Current Festival Dates\">\n\t\t\t\t\t{remoteData.Dates.current().map(data => (\n\t\t\t\t\t\t<DateCard eventId={data.id} />\n\t\t\t\t\t))}\n\t\t\t\t</FixedCardWidget>\n\t\t\t\t<FixedCardWidget header=\"Upcoming Festival Dates\">\n\t\t\t\t\t{remoteData.Dates.soon().map(data => (\n\t\t\t\t\t\t<DateCard eventId={data.id} />\n\t\t\t\t\t))}\n\t\t\t\t</FixedCardWidget>\n\t\t\t\t<FixedCardWidget header=\"Upcoming Festivals\">\n\t\t\t\t\t{remoteData.Festivals.future()\n\t\t\t\t\t\t.filter(f => remoteData.Lineups.find(l => l.festival === f.id))\n\t\t\t\t\t\t//.filter(x => console.log('Launcher Upcoming Festivals', x) || true)\n\t\t\t\t\t\t.map(data => (\n\t\t\t\t\t\t\t<FestivalCard\n\t\t\t\t\t\t\t\teventId={data.id}\n\t\t\t\t\t\t\t\tuiClass=\"ft-festivals-upcoming\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t</FixedCardWidget>\n\t\t\t\t<FixedCardWidget header=\"Artists\">\n\t\t\t\t\t<SearchCard patternChange={patternChange} />\n\t\t\t\t\t{//three from next event\n\t\t\t\t\t//one ft chosen\n\t\t\t\t\t//one from fav event (future if possible, past if not)\n\t\t\t\t\t//balance (up to 5 total) from highest uncommented priority\n\t\t\t\t\tartistData({\n\t\t\t\t\t\tdataField: remoteData.Artists,\n\t\t\t\t\t\tsearch: pattern\n\t\t\t\t\t\t\t? { pattern: [pattern], fields: { name: true } }\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\trecordCount: 5,\n\t\t\t\t\t\tfallback: artistSorter(remoteData)(\n\t\t\t\t\t\t\t[\"future\", \"siteActivity\", \"peakPriority\"],\n\t\t\t\t\t\t\t[\"siteActivity\"]\n\t\t\t\t\t\t)\n\t\t\t\t\t}).map(data => (\n\t\t\t\t\t\t<ArtistCard data={data} />\n\t\t\t\t\t))}\n\t\t\t\t</FixedCardWidget>\n\t\t\t</WidgetContainer>\n\t\t</div>\n\t)\n}\nexport default Launcher\n","// src/components/cards/DayCard.jsx\n\nimport m from 'mithril'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx';\nimport {remoteData} from '../../store/data'\n\n\nconst DayCard = {\n  view: ({ attrs }) =>\n    <div class={\"ft-card ft-card-day \" + (attrs.uiClass ? attrs.uiClass : '')} onclick={() => m.route.set(\"/days\" + \"/pregame\" + '/' + attrs.eventId)}>\n      <div class=\"ft-fields\">\n        <ComposedNameField fieldValue={ remoteData.Days[attrs.useShort ? 'getPartName' : 'getEventName'](attrs.eventId)} />\n    </div>\n    </div>\n};\n\nexport default DayCard;\n","// src/components/detailViewPregame/fields/event/DaySelectBar.jsx\nimport m from 'mithril'\n\n\nimport DayCard from '../../../../components/cards/DayCard.jsx'\nimport {remoteData} from '../../../../store/data'\n\n\nconst DaySelectBar = vnode => { \n\n\treturn {\n\t\tview: ({attrs}) => <div class=\"ft-card-container-horizontal\">\n\n\t\t\t{\n\t\t\t\t/*\n\t\t\t\t\thorizontal card container for peer events\n\t\t\t\t*/\n\t\t\t\tremoteData.Days.getFiltered(d => d.date === attrs.dateId)\n\t\t\t\t\t.sort((a, b) => a.daysOffset - b.daysOffset)\n\t\t\t\t\t//.filter(x => console.log('days DaySelectBar', x) || true)\n\t\t\t\t\t.map(data => <DayCard \n\t\t\t\t\t\teventId={data.id}\n\t\t\t\t\t\tuseShort={true}\n\t\t\t\t\t\tuiClass={data.id === attrs.currentId ? 'ft-card-selected' : ''}\n\t\t\t\t\t\tclickFunction={e => attrs.dayChange(e.target.value)}\n\t\t\t\t\t/>)\n\t\t\t}\n\t    </div>\n}};\n\nexport default DaySelectBar;\n","// src/components/fields/ArtistNameField.jsx\n//attrs: artistId\n\nimport m from 'mithril'\n////import _ from 'lodash'\n\nimport {remoteData} from '../../store/data';\n\nconst getArtistName = id => {\n\tconst artist = remoteData.Artists.get(id)\n\tif(!artist) return ''\n\treturn artist.name\n}\n\nconst ArtistNameField = {\n\tview: ({ attrs }) =>\n\t\t<span class=\"ft-name-field\">\n\t\t\t{(getArtistName(attrs.artistId))}\n\t\t</span >\n};\n\nexport default ArtistNameField;","// src/components/fields/ScheduleSet.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n\nimport  ArtistNameField from './ArtistNameField.jsx';\nimport moment from 'dayjs'\n\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData';\n\nconst getRating = (subjectObject, author) => _.toInteger(_.get(messages.getFiltered(_.assign({fromuser: author, messageType: RATING}, subjectObject))\n      .sort((a, b) => b.id - a.id), `[0].content`, 0))\n\nconst {Sets: sets, Messages: messages, Artists: artists} = remoteData\nconst ratingObject = (subjectObject, user) => {\n    const author = user ? user : 0\n    const {subject, subjectType} = subjectObject\n    //the gold rating is the user's most recent rating for the subject\n    const message = !author ? undefined : (getRating(subjectObject, author))\n    const goldRating = message && message.content && parseInt(message.content, 10)\n    //if(subject === 5102)console.log('ratingsObject gold', goldRating)\n    if(goldRating) return _.assign({}, {author: author, rating: goldRating, color: 'gold'}, subjectObject)\n    //the green rating is the average of the users relatedRatings\n    const set = sets.get(subjectObject.subject)\n    const artist = artists.get(_.get(set, 'band'))\n    const otherSets = sets.getFiltered(s => s.band === set.band && s.id !== set.id)\n    const relatedSubjects = [\n      artist && artist.id ? {subject: artist.id, subjectType: ARTIST} : undefined,\n      ...otherSets.map(s => {return {subject: s.id, subjectType: SET}})\n    ].filter(x => x)\n    //if(subject === 5102)console.log('ratingsObject relatedSubjects', relatedSubjects)\n    const relatedRatings = relatedSubjects\n      .map((so) => getRating(so, author))\n      .filter(_.isInteger)\n    const greenRating = relatedRatings.reduce((avg, r, i, arr) => avg + r / arr.length, 0)\n    //if(subject === 5102)console.log('ratingsObject green', greenRating)\n    if(greenRating) return _.assign({}, {author: author, rating: goldRating, color: 'forestgreen'}, subjectObject)\n    //the black rating is the average of all avable ratings for the primary, or if none, the secondarties\n    const primaryRatings = remoteData.Messages.getFiltered({messageType: RATING, subject: subject, subjectType: subjectType})\n      .map(m => m && m.content && parseInt(m.content, 10))\n      .filter(x => x)\n    const secondaryRatings = _.uniqBy((primaryRatings.length ? [] : relatedSubjects)\n      .map(sub => remoteData.Messages.getFiltered(_.assign({}, sub, {messageType: RATING})))\n      .reduce((pv, cv) => [...pv, ...cv], []),\n      r => `${r.fromuser}.${r.subject}.${r.subjectType}`)\n      .map(m => m && m.content && parseInt(m.content, 10))\n      .filter(x => x)\n    const allRatings = [...primaryRatings, ...secondaryRatings].filter(x => x)\n    const blackRating = allRatings.length ? allRatings.reduce((avg, r, i, arr) => avg + r / arr.length, 0) : 0\n//if(subject === 5102)console.log('ratingsObject black', blackRating)\n    \n    return blackRating ? _.assign({}, {author: author, rating: blackRating, color: 'black'}, subjectObject) : _.assign({}, {author: author, rating: 0, color: 'black'}, subjectObject)\n  }\nconst fClass = (subjectObject, userId) => {\n    const rating = ratingObject(subjectObject, userId)\n    const strength = rating.color === 'black' ? 'weak' : 'strong'\n    const feeling = !rating.rating ? '' :\n      rating.rating < 3 ? 'hate' :\n      rating.rating < 4 ? 'like' :\n      'love'\n    return feeling && `gt-feeling-${strength}-${feeling}` || 'gt-feeling-unsure'\n  }\n\nconst ScheduleSet = (vnode) => {\n  //const elId = \"schedule-set-\" + (vnode.attrs.artistId ? 'artist-' + vnode.attrs.artistId : vnode.attrs.set.id)\nlet baseMoment, startMoment, endMoment\n\n  const initDom = vnode => {\n    //console.log('ScheduleSet', vnode.attrs.set)\n    //console.log(vnode.dom.style.bottom)\n    const reference = !vnode.attrs.bottom ? 'top' : 'bottom'\n    vnode.dom.style[reference] = '' + (vnode.attrs.set.start - (vnode.attrs.startOffset ? vnode.attrs.startOffset: 0)) +'px'\n    vnode.dom.style.height = '' + (vnode.attrs.set.end - vnode.attrs.set.start) +'px'\n    const feelingClass = fClass({subject: vnode.attrs.set.id, subjectType: SET}, vnode.attrs.userId)\n    if(feelingClass) vnode.dom.classList.add(feelingClass)\n    //console.log(vnode.dom.style.bottom)\n  }\n\n  return {\n    oncreate: initDom,\n    onupdate: initDom,\n    view: ({attrs}) => <div \n        class=\"schedule-set\" \n        data-stage={attrs.set.stage}\n        onclick={attrs.clickFunction ? attrs.clickFunction : () => 0}\n        key={'_' + (attrs.set.id ? attrs.set.id : '' + attrs.set.band + '.' + attrs.set.start)}\n      >\n    \t<ArtistNameField artistId={attrs.set.band} />{(attrs.set.end - attrs.set.start) < 40 ? ` ${sets.getSetTimeText(attrs.set.id)}` : ''}\n    \t<div>\n        <span>\n          {(attrs.set.end - attrs.set.start) >= 40 ? sets.getSetTimeText(attrs.set.id) : ''}\n        </span>\n      </div>\n    </div>\n}};\n\nexport default ScheduleSet;","// src/components/fields/ScheduleLabel.jsx\n\nimport m from 'mithril'\n\n\n\nconst ScheduleLabel = {\n\tview: ({ attrs }) =>\n\t\t<div class=\"schedule-label\">\n\t\t\t{attrs.label}\n\t\t</div >\n};\n\nexport default ScheduleLabel;","// src/components/layout/ScheduleLadder.jsx\n\nimport m from 'mithril'\nimport  ScheduleLabel from '../fields/ScheduleLabel.jsx';\n\nconst labelDefault = [\n\t'10:00', '11:00 AM', \n\t'12:00', '1:00 PM', '2:00', '3:00 PM', '4:00', '5:00 PM', '6:00', '7:00 PM', '8:00', '9:00 PM', '10:00', '11:00 PM',\n\t'12:00', '1:00 AM', '2:00', '3:00 AM', '4:00', '5:00 AM', '6:00', '7:00 AM', '8:00', '9:00 AM'\n]\n\nconst labels = attrs => (\n\t\t      \t\t\t\tattrs.startOffset && attrs.endOffset ? labelDefault.slice(Math.floor(attrs.startOffset / 60), Math.ceil((attrs.startOffset + attrs.endOffset) / 60)) : \n\t\t      \t\t\t\tattrs.labels ? attrs.labels : \n\t\t      \t\t\t\tlabelDefault\n\t\t      \t\t\t\t)\nconst ScheduleLadder = (vnode) => {\n\treturn {\n\t\toncreate: ({attrs, dom}) => {\n\t\t\tdom.style.width = attrs.stageIds ? `calc(${attrs.stageIds.length * 300}px + 12em)` : `calc(300px + 12em)`\n\t\t},\n\t\tonupdate: ({attrs, dom}) => {\n\t\t\tdom.style.width = attrs.stageIds ? `calc(${attrs.stageIds.length * 300}px + 12em)` : `calc(300px + 12em)`\n\t\t},\n\t\tview: ({attrs, children}) => {\n\t\t    return <div class=\"schedule-ladder\">\n\t\t    \t{children.find(x => x.attrs && x.attrs.display)}\n\t\t      \t<div class=\"schedule-labels\">\n\t\t      \t\t{\n\t\t      \t\t\tlabels(attrs)\n\t\t      \t\t\t\t.map(l => <ScheduleLabel \n\t\t      \t\t\t\t\tlabel={l} \n\t\t      \t\t\t\t/>)\n\t\t      \t\t}\n\t\t      \t</div>\n\t\t      \t{\n\t\t      \t\t//if stageIds is passed, make a setbox for each stageId.\n\t\t      \t\t//if not, make one setbox for all sets\n\t\t      \t}\n\t\t      \t{ attrs.stageIds ?\n\t\t      \t\tattrs.stageIds.map(stageId => <div class=\"schedule-setbox\">\n\t\t        \t{\n\t\t        \t\tchildren\n\t\t        \t\t\t//.filter(x => console.log(`ScheduleLadder`, stageId, x) || true)\n\t\t        \t\t\t.filter(x => x.attrs && x.attrs.stage === stageId)\n\n\t\t        \t}\n\t\t      \t\t</div>)\n\t\t      \t: <div class=\"schedule-setbox\">\n\t\t        \t{\n\t\t        \t\tchildren\n\t\t        \t\t\t//.filter(x => console.log(`ScheduleLadder`, x) || true)\n\t\t        \t\t\t.filter(x => x.attrs && x.attrs.set)\n\n\t\t        \t}\n\t\t      \t\t</div> }\n\t\t      \t<div class=\"schedule-labels\">\n\t\t      \t\t{\n\t\t      \t\t\tlabels(attrs)\n\t\t      \t\t\t\t.map(l => <ScheduleLabel \n\t\t      \t\t\t\t\tlabel={l} \n\t\t      \t\t\t\t/>)\n\t\t      \t\t}\n\t\t      \t</div>\n\n\t\t     </div>}\n}};\n\nexport default ScheduleLadder;","// src/store/action/event.js\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nexport const seriesChange = (e, onchange) => {\n\tif(!onchange) return \tm.route.set(m.route.get().split(`?`)[0], {seriesId: _.isInteger(e) ? e : e.target.value})\n\t\treturn onchange(e)\n\t\n\t//resetSelector('#date')\n}\nexport const festivalChange = seriesId => (e, onchange) => {\n\tif(!onchange) return m.route.set(m.route.get().split(`?`)[0], {seriesId: seriesId, festivalId: _.isInteger(e) ? e : e.target.value})\n\t\treturn onchange(e)\n\t//resetSelector('#date')\n}\nexport const dateChange = (seriesId, festivalId) => (e, onchange) => {\n\tif(!onchange) return m.route.set(m.route.get().split(`?`)[0], {seriesId: seriesId, festivalId: festivalId, dateId: _.isInteger(e) ? e : e.target.value})\n\t\treturn onchange(e)\n\t//resetSelector('#date')\n}\nexport const dayChange = (seriesId, festivalId, dateId) => (e, onchange) => {\n\tif(!onchange) return m.route.set(m.route.get().split(`?`)[0], {seriesId: seriesId, festivalId: festivalId, dateId: dateId, dayId: _.isInteger(e) ? e : e.target.value})\n\t\treturn onchange(e)\n\t//resetSelector('#date')\n}\nexport const stageChange = (seriesId, festivalId, dateId, dayId) => (e, onchange) => {\n\tif(!onchange) return m.route.set(m.route.get().split(`?`)[0], {seriesId: seriesId, festivalId: festivalId, dateId: dateId, dayId: dayId, stageId: _.isInteger(e) ? e : e.target.value})\n\t\treturn onchange(e)\n\t//resetSelector('#date')\n}","// src/components/layout/DaySchedule.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport DaySelectBar from '../detailViewsPregame/fields/event/DaySelectBar.jsx'\nimport ScheduleSet from '../fields/ScheduleSet.jsx'\nimport ScheduleLadder from './ScheduleLadder.jsx'\nimport {dayChange} from '../../store/action/event'\n\nconst startOffset = sets => {\n\tconst earliest = _.min(sets.map(x => x.start))\n\tconst so = Math.ceil(earliest / 60) <= 2 ? 0 : (Math.ceil(earliest / 60) - 2) * 60\n\t//console.dir('startOffset', so, earliest, sets.map(x => x.start))\n\treturn so\n}\nconst endOffset = sets => {\n\tconst latest = _.max(sets.map(x => x.end))\n\tconst eo = Math.ceil(latest / 60) * 60 + 60 - startOffset(sets)\n\t//console.dir('startOffset', eo)\n\treturn eo\n}\n\nconst DaySchedule = (vnode) => {\n\t//how many minutes at the beginning can be left off\n\t//how long to make the schedule, starting from start offset\n\treturn {\n\t\toncreate: ({attrs, dom}) => {\n\t\t\tdom.querySelector('.ft-schedule-header').style.width = `calc(${attrs.stages.length * 300}px + 12em)`\n\t\t},\n\t\tonupdate: ({attrs, dom}) => {\n\t\t\tdom.querySelector('.ft-schedule-header').style.width = `calc(${attrs.stages.length * 300}px + 12em)`\n\t\t},\n\tview: ({attrs}) =>\n\t\t<div class=\"ft-schedule-container\">\n\t\t{!attrs.hideDayBar ? <DaySelectBar dateId={attrs.dateId} dayChange={dayChange} currentId={attrs.dayId} /> : ''}\n\n\t\t<div class=\"ft-schedule\">\n\t\t{\n\t\t\t//console.log(`DaySchedule set length`, attrs.sets.length, attrs.dateId, attrs.stages)\n\t\t}\t<div class=\"ft-schedule-header\">\n\t\t\t\t{attrs.stages.map(stage => <h2 class=\"ft-schedule-header-field\">{stage.name}</h2>)}\n\t\t\t</div>\n\n\t\t\t{attrs.dayId && attrs.sets.length ? <ScheduleLadder \n\t\t\t\tstageIds={attrs.stages.map(x => x.id)}\n\t\t\t\tstartOffset={startOffset(attrs.sets)}\n\t\t\t\tendOffset={endOffset(attrs.sets)}\n\t\t\t>\n\t\t\t\t{/*sets[0] && sets[0].day ? <ScheduleNowBar attrs.dayId={sets[0].day} />: ''*/}\n\t\t\t\t{attrs.sets\n\t\t\t\t\t.filter(data => data.day === attrs.dayId)\n\t\t\t\t\t//.filter(x => console.log('Schedule Ladder ', attrs.dayId, attrs.dayId, x) || true)\n\t\t\t\t\t.filter(data => data.end)\n\t\t\t\t\t//.filter(data => data.stage === 159)\n\t\t\t\t\t.map(data => <ScheduleSet \n\t\t\t\t\t\tuserId={attrs.userId} \n\t\t\t\t\t\tset={data}\n\t\t\t\t\t\tstartOffset={startOffset(attrs.sets)}\n\t\t\t\t\t\ttop={true}\n\t\t\t\t\t\tstage={data.stage}\n\t\t\t\t\t\tclickFunction={() => {\n\t\t\t\t\t\t\t//console.log('Schedule Ladder Set click')\n\t\t\t\t\t\t\t//console.dir(data)\n\t\t\t\t\t\t\tm.route.set(`/artists/pregame/${data.band}`)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>)\n\t\t\t\t}\n\t\t\t</ScheduleLadder> : ''}\n\t\t</div>\n\t\t</div>\n}}\n\nexport default DaySchedule;\n","// src/components/ui/RatingStar.jsx\n\nimport m from 'mithril'\n\nconst RatingStar = {\n\tview: ({ attrs }) =>\n\t\t<span class=\"ft-rating-star\" onclick={attrs.action ? attrs.action : () => 0}>\n\n\t\t\t{attrs.filled ? '\\u2605' : '\\u2606'}\n\t\t</span>\n};\n\nexport default RatingStar;","// src/components/fields/AverageRatingField.jsx\n// attrs:\n//\taverageRating\n//\tpretext\n\nimport m from 'mithril'\n\nimport RatingStar from '../ui/RatingStar.jsx';\n//import './vendor/SimpleStarRating/SimpleStarRating.css'\n/*\n\n\t\t<div class=\"ft-name-field ft-average-rating-field\">\n\t\t\t<span>{attrs.pretext}: {attrs.averageRating}</span>\n\t\t\t<span class={(attrs.averageRating >= 0.95 ? 'fas' : 'far') + ' fa-star'} />\n\t\t\t<span class={(attrs.averageRating >= 1.95 ? 'fas' : 'far') + ' fa-star'} />\n\t\t\t<span class={(attrs.averageRating >= 2.95 ? 'fas' : 'far') + ' fa-star'} />\n\t\t\t<span class={(attrs.averageRating >= 3.95 ? 'fas' : 'far') + ' fa-star'} />\n\t\t\t<span class={(attrs.averageRating >= 4.95 ? 'fas' : 'far') + ' fa-star'} />\n\t\t</div >\n\t\t*/\nconst updateColor = ({dom, attrs}) => {if(attrs.ratingObject) dom.style.color = attrs.ratingObject.color}\n\nconst AverageRatingField = {\n\toncreate: updateColor,\n\tonupdate: updateColor,\n\tview: ({ attrs }) =>\n\t<span>\n\t\t<RatingStar filled={(attrs.ratingObject ? attrs.ratingObject.rating : attrs.averageRating) >= 0.95} />\n\t\t<RatingStar filled={(attrs.ratingObject ? attrs.ratingObject.rating : attrs.averageRating) >= 1.95} />\n\t\t<RatingStar filled={(attrs.ratingObject ? attrs.ratingObject.rating : attrs.averageRating) >= 2.95} />\n\t\t<RatingStar filled={(attrs.ratingObject ? attrs.ratingObject.rating : attrs.averageRating) >= 3.95} />\n\t\t<RatingStar filled={(attrs.ratingObject ? attrs.ratingObject.rating : attrs.averageRating) >= 4.95} />\n\t</span>\n    //<!-- Results in a set of 15 stars, 10.5 of them selected -->\n};\n\nexport default AverageRatingField;\n","// src/components/fields/UserAvatarField.jsx\n//attrs: userId\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport {remoteData} from '../../store/data'\n\nconst { Users: users,\n\t\tInteractions: interactions\n\t\t} = remoteData\n\nconst UserAvatarField = vnode => {\n\treturn {\n\t\toninit: ({attrs}) => attrs.data && users.getLocalPromise(attrs.data)\n\t\t\t.catch(err=> {\n\t\t\t\tconsole.error('UserAvatarField data grab error', err)\n\t\t\t}),\n\t\tview: ({ attrs }) => <div \n\t\t\tclass=\"ft-horizontal-fields\" \n\t\t\tonclick={attrs.itemClicked ? attrs.itemClicked : () => m.route.set(`/users/pregame/${attrs.data}`)\n\t\t}>\n\t\t{\n\t\t\t//console.log('UserAvatarField unknown userid ' + attrs.userId, attrs)\n\t}\n\t\t{ attrs.data ? <div>\n\t\t\t{interactions.some(i => i.user === attrs.userId && i.type === FOLLOW && i.subjectType === USER && i.subject === attrs.data) ? <i \n\t\t\t\tclass=\"fas fa-user-plus\" \n\t\t\t\tstyle=\"color:orange;position:absolute;right:0;top:0;\" \n\t\t\t\tdata-fa-transform=\"shrink-4 up-3.8 left-4\"\n\t\t\t/> : ''}\n\t\t\t<img class=\"ft-user-avatar-image\" src={users.getPic(attrs.data)} />\n\t\t\t<div class=\"ft-vertical-fields\">\n\t            <span>{users.getName(attrs.data)}</span>\n\t            \n\t        </div>\n\t        </div>\n\t        : ''}\n        </div>\n}}\n\nexport default UserAvatarField;","// src/components/ui/UIButton.jsx\n\nimport m from 'mithril'\n\nconst UIButton = {\n  view: ({ attrs }) =>\n    <div onclick={attrs.action ? e => {e.preventDefault(); attrs.action(e)}: ''} class=\"ft-ui-button c44-hov-cp\">\n      <span>{attrs.buttonName}</span>\n    </div>\n};\n\nexport default UIButton;","// src/components/fields/AverageRatingField.jsx\n// attrs:\n//\taverageRating\n//\tpretext\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport RatingStar from '../ui/RatingStar.jsx';\n\nconst MyRatingField = vnode => {\n\tvar showRating = _.clone(vnode.attrs.currentRating)\n\tvar lastFlag = _.clone(vnode.attrs.changeFlag)\n\treturn {\n\t\tonbeforeupdate: vnode => {\n\t\t\t//console.log(' updating MyRatingField changeFlag ' + lastFlag + '=>' + vnode.attrs.changeFlag)\n\t\t\t//console.log('pre MyRatingField showRating ' + showRating)\n\t\t\tif(!vnode.attrs.changeFlag || vnode.attrs.changeFlag <= lastFlag) return\n\t\t\tlastFlag = _.clone(vnode.attrs.changeFlag)\n\t\t\tshowRating = _.clone(vnode.attrs.currentRating)\n\t\t\t//console.log('MyRatingField showRating ' + showRating)\n\t\t\t//console.log('MyRatingField vnode.attrs.currentRating ' + vnode.attrs.currentRating)\n\t\t},\n\t\tview: ({ attrs }) =>\n\t\t<span class=\"ft-rating-field\">{attrs.pretext}\n\t\t\t<RatingStar filled={showRating >= 0.95} action={e => {showRating = 1; if(attrs.action) attrs.action(showRating);}}/>\n\t\t\t<RatingStar filled={showRating >= 1.95} action={e => {showRating = 2; if(attrs.action) attrs.action(showRating);}}/>\n\t\t\t<RatingStar filled={showRating >= 2.95} action={e => {showRating = 3; if(attrs.action) attrs.action(showRating);}}/>\n\t\t\t<RatingStar filled={showRating >= 3.95} action={e => {showRating = 4; if(attrs.action) attrs.action(showRating);}}/>\n\t\t\t<RatingStar filled={showRating >= 4.95} action={e => {showRating = 5; if(attrs.action) attrs.action(showRating);}}/>\n\t\t</span>\n}};\n\nexport default MyRatingField;\n","// src/components/modals/ReviewModal.jsx\n//review modals combine rating and comment messages into one modal\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\n// change selections\nimport UIButton from '../../components/ui/UIButton.jsx';\n\nimport ComposedNameField from '../../components/fields/ComposedNameField.jsx';\nimport MyRatingField from '../../components/fields/MyRatingField.jsx';\n\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData'\n\nvar selectedId = 0\nconst ReviewModal = vnode => {\n    var changeFlag = 1\n    var name = vnode.attrs.subjectObject.subject ? subjectData.name(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType) : ''\n    var rating = vnode.attrs.subjectObject.subject ? subjectData.ratingBy(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType, vnode.attrs.user) : 0\n    var comment = vnode.attrs.subjectObject.subject ? subjectData.commentBy(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType, vnode.attrs.user) : ''\n    //console.log('new ReviewModal  for ' + name + '@' + rating)\n    var baselineRating = rating + 0\n    var baselineComment = comment + '' \n    var ratingId = subjectData.ratingId(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType, vnode.attrs.user)\n    var commentId = subjectData.commentId(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType, vnode.attrs.user)\n    var localRating = 0\n    var localComment = ''\n    var sub = ''\n\n    const submit = attrs => e => {\n        //console.log('ReviewModal', attrs, e)\n        //console.log(textValue)\n        //console.log(selectedId)\n        //if there is a selected id, return it\n        //if not, create the artist, then return that id\n        e.stopPropagation()\n        attrs.hide(attrs.subjectObject)\n        //console.log('Save')\n        //console.log('localRating ' + localRating)\n        //console.log('localComment ' + localComment)\n        const newRatingMessage = localRating && localRating !== baselineRating\n        const newCommentMessage = localComment && localComment !== baselineComment\n        return Promise.all([\n            newRatingMessage ? remoteData.Messages.create({\n                //fromuser: attrs.user,\n                subject: attrs.subjectObject.subject,\n                subjectType: attrs.subjectObject.subjectType,\n                messageType: 2,\n                content: '' + localRating\n            }) : true,\n            !newRatingMessage && baselineRating ? remoteData.Messages.updateInstance(\n            {timestamp: moment().format('YYYY-MM-DD HH:mm:ss'),\n            ratingId\n        }\n        ) : true,\n            newCommentMessage ? remoteData.Messages.create({\n            //fromuser: attrs.user,\n            subject: attrs.subjectObject.subject,\n            subjectType: attrs.subjectObject.subjectType,\n            messageType: 1,\n            content: localComment\n\n        }) : true,\n            !newCommentMessage && baselineComment ? remoteData.Messages.updateInstance(\n            {timestamp: moment().format('YYYY-MM-DD HH:mm:ss'),\n            commentId\n        }\n        ) : true\n        ])\n            .then(() => m.redraw()) \n    }\n    const init = vnode => {\n        if(!vnode.attrs.subjectObject) throw new Error('No subject for ReviewModal')\n            //console.log('consider updating ReviewModal  for ', vnode.attrs.subjectObject)\n            //console.log('consider updating ReviewModal  for user ' + vnode.attrs.user)\n            const newSub = '' + vnode.attrs.subjectObject.subject + '-' + vnode.attrs.subjectObject.subjectType + '-' + vnode.attrs.user\n            if(sub === newSub) return\n            name = subjectData.name(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType)\n            rating = subjectData.ratingBy(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType, vnode.attrs.user),\n            comment = subjectData.commentBy(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType, vnode.attrs.user)\n            sub = '' + newSub\n            baselineRating = rating + 0\n            baselineComment = comment + '' \n            ratingId = subjectData.ratingId(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType, vnode.attrs.user)\n            commentId = subjectData.commentId(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType, vnode.attrs.user)\n            localRating = rating + 0\n            changeFlag = changeFlag + 1\n            if(changeFlag > 1000000) changeFlag = 1\n            //m.redraw()\n            //console.log('ReviewModal updated  for ' + name + '@' + rating)\n            //console.log('localRating ' + localRating)\n            //console.log('changeFlag ' + changeFlag)\n    }\nconst classes = vnode => {init(vnode);return 'ft-modal ' + (vnode.attrs.display ? '' : 'hidden');}\n    return {\n        onupdate: init,\n        oninit: init,\n    \tview: (vnode) => <div class={classes(vnode)}>\n            <div class=\"ft-modal-content\">\n                <ComposedNameField fieldValue={name} />\n                <MyRatingField \n                    currentRating={rating} \n                    changeFlag={changeFlag}\n                    action={newRating => {\n                        //console.log('ReviewModal MyRatingField action newRating ' + newRating)\n                        if(!newRating) return\n                        localRating = newRating; \n                        rating = localRating;\n                    }} \n                />\n                <label for=\"review-comment\">Comment</label>\n                <textarea \n                    id=\"review-comment\" name=\"review-comment\"\n                    oninput={e => {\n        //console.log('comment ' + comment)\n        //console.log('e.target.value ' + e.target.value)\n        //console.log('localComment ' + localComment)\n                        localComment = e.target.value; \n                        comment = localComment\n                    }} \n                    class=\"ft-modal-textarea\"\n                    \n                    onkeypress={e => {\n                        if(e.keyCode === 13) return submit(vnode.attrs)(e)\n                    }}\n\n                \n                >{comment}</textarea>\n\n                <UIButton action={e => {\n                    vnode.attrs.hide()\n                    e.stopPropagation()\n                    //console.log('pre rating ' + rating)\n                    //console.log('pre baselineRating ' + baselineRating)\n                    rating = baselineRating + 0\n                    comment = baselineComment + ''\n                    //console.log('post rating ' + rating)\n                    //console.log('post baselineRating ' + baselineRating)\n                    //console.log('cancel')\n                    m.redraw()\n\n                }} buttonName=\"Cancel\" />\n                <UIButton action={submit(vnode.attrs)} \n                buttonName=\"Save\" />\n            </div>\n        </div>\n}};\n\nexport default ReviewModal;","// DiscussButton.jsx\n\nimport m from 'mithril'\n// Services\n\nimport  ComposedNameField from '../../fields/ComposedNameField.jsx';\nimport Icon from '../../fields/Icon.jsx'\nimport  ReviewModal from '../../modals/ReviewModal.jsx';\n\nconst getSubject = attrs => {\n\t//console.log('DiscussButton subject ' + attrs.subject )\n\treturn {\n\t\t\t\tsubject: attrs.subject,\n\t\t\t\tsubjectType: attrs.subjectType ? attrs.subjectType : 10\n\n\t}\n}\n\nconst DiscussButton = vnode => { \n\treturn {\n\t  view: ({ attrs }) =>\n\t    <div class=\"ft-fifty-button\" onclick={e => {\n\t    \tconst so = getSubject(attrs)\n\t    \tattrs.discussSubject(so, attrs.messageArray)\n\t    \te.stopPropagation()\n\t    }} >\n\t      \n\t      <Icon name=\"reply\"/>\n\t    </div>\n}};\n\nexport default DiscussButton;","// src/componenets/cardOverlays/DiscussOverlay.jsx\n\nimport m from 'mithril'\n\nimport {remoteData} from '../../store/data';\nimport DiscussButton from './fifty/DiscussButton.jsx'\n\n\nconst DiscussOverlay = {\n\t//oninit: ({attrs}) => console.log('DiscussOverlay init', attrs),\n  view: ({ attrs }) => <div class=\"ft-card-overlay\" onclick={attrs.fallbackClick}>\n    <DiscussButton \n      subjectType={MESSAGE} \n      subject={attrs.messageArray[0].id}\n      discussSubject={attrs.discussSubject}\n      messageArray={attrs.messageArray}\n      rating={attrs.rating}\n    />\n  </div>\n    \n};\n\nexport default DiscussOverlay;","// src/components/cards/UserCard.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport  UserAvatarField from '../fields/UserAvatarField.jsx';\nimport  NameField from '../fields/NameField.jsx';\nimport {subjectData} from '../../store/subjectData';\n\nconst defaultClick = ({contextObject, gametime, data}) => evt => {\n  const baseRoute = contextObject && gametime ? `/gametime/${contextObject.subjectType}/` : '/users/pregame/'\n  const targetId = contextObject && contextObject.subject ? contextObject.subject :\n    data && data.id ? data.id : 0\n  if(!targetId) return false\n  evt.stopPropagation()\n  return m.route.set(baseRoute + targetId)\n} \n\n\nconst UserCard = {\n    view: ({ attrs }) =>\n    \t<div class={attrs.small ? \"ft-card\" : \"ft-card-large\"} onclick={attrs.clickFunction ? attrs.clickFunction : defaultClick(attrs)}>\n    \t{\n      \t\t//console.log('UserCard attrs.contextObject', attrs.contextObject)\n  \t\t}\n        <div class=\"ft-vertical-fields\">\n          {attrs.data ? <UserAvatarField data={attrs.data.id} /> : ''}\n        </div>\n          {attrs.contextObject && (attrs.contextObject.subject !== attrs.data.id || attrs.contextObject.subjectType !== USER) ? <NameField fieldValue={subjectData.name(attrs.contextObject)} /> : ''}\n      </div>\n    \n}\n\nexport default UserCard;","// src/components/cards/ActivityCard.jsx\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport moment from \"dayjs\"\nvar relativeTime = require(\"dayjs/plugin/relativeTime\")\nmoment.extend(relativeTime)\n\nimport ComposedNameField from \"../fields/ComposedNameField.jsx\"\nimport NameField from \"../fields/NameField.jsx\"\nimport AverageRatingField from \"../fields/AverageRatingField.jsx\"\nimport UserAvatarField from \"../fields/UserAvatarField.jsx\"\nimport Icon from \"../fields/Icon.jsx\"\nimport DiscussOverlay from \"../cardOverlays/DiscussOverlay.jsx\"\nimport UserCard from \"../cards/UserCard.jsx\"\nimport { remoteData } from \"../../store/data\"\n\nconst displayComment = me => me.filter(m => m.messageType === 1 || m.messageType === 8)[0]\n\nconst id = ({ messageArray }) => {\n\tconst cm = displayComment(messageArray)\n\tconst c = cm ? cm.id : \"\"\n\treturn c\n}\n\nconst year = ({ messageArray }) => {\n\tconst cm = displayComment(messageArray)\n\t\t? displayComment(messageArray)\n\t\t: messageArray[0]\n\tconst mYear = moment(cm.timestamp)\n\t\t.utc()\n\t\t.fromNow()\n\treturn mYear\n}\n\nconst comment = ({ messageArray }) => {\n\tconst cm = displayComment(messageArray)\n\tconst c = cm ? cm.content : \"\"\n\treturn c\n}\n\nconst classes = ({ messageArray, userId, discusser }) => {\n\tconst reviewMessage = messageArray.find(m => m.messageType !== 2)\n\tconst reviewId = _.get(reviewMessage, \"id\")\n\tconst ownReview = userId && discusser === userId\n\tconst reviewUnread =\n\t\treviewId && !ownReview && remoteData.MessagesMonitors.unread(reviewId)\n\t//console.log('ActivityCard classes', userId, ownReview, reviewUnread, reviewMessage)\n\treturn `ft-card-large ft-activity-card ${\n\t\townReview ? \"ft-own-content\" : !reviewUnread ? \"ft-already-read\" : \"\"\n\t}`\n}\nconst ActivityCard = vnode => {\n\tvar showLong = false\n\n\tconst defaultClick = msg => e => {\n\t\t//console.log('span click');\n\t\te.stopPropagation()\n\t\tif (showLong) m.route.set(\"/messages/related\", { messageId: msg.id })\n\t\tshowLong = true\n\t}\n\treturn {\n\t\tview: ({ attrs }) => (\n\t\t\t<div\n\t\t\t\tclass={classes(attrs)}\n\t\t\t\tonclick={attrs.clickFunction ? attrs.clickFunction : defaultClick}\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\t//console.log('ActivityCard discusser user', attrs.discusser, attrs.userId)\n\t\t\t\t}\n\t\t\t\t{attrs.overlay === \"discuss\" &&\n\t\t\t\tattrs.discussSubject &&\n\t\t\t\tattrs.messageArray ? (\n\t\t\t\t\t<DiscussOverlay\n\t\t\t\t\t\tdiscussSubject={attrs.discussSubject}\n\t\t\t\t\t\tmessageArray={attrs.messageArray}\n\t\t\t\t\t\theadline={attrs.headline}\n\t\t\t\t\t\trating={attrs.rating}\n\t\t\t\t\t\tfallbackClick={defaultClick(attrs.messageArray[0])}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t<div class=\"ft-vertical-fields ft-flex-grow\">\n\t\t\t\t\t<div class=\"ft-horizontal-fields ft-card-above-overlay\">\n\t\t\t\t\t\t{attrs.headline ? (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass=\"ft-card-title\"\n\t\t\t\t\t\t\t\tonclick={attrs.headact ? attrs.headact : () => 0}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{attrs.headline}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{attrs.discusser === attrs.userId ||\n\t\t\t\t\t\t!remoteData.MessagesMonitors.unread(id(attrs)) ? (\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"ft-quarter ft-close-click\"\n\t\t\t\t\t\t\t\tonclick={e => {\n\t\t\t\t\t\t\t\t\t//console.log('ft-quarter click')\n\t\t\t\t\t\t\t\t\t//console.log('MessagesMonitors length ' + remoteData.MessagesMonitors.list.length)\n\t\t\t\t\t\t\t\t\tif (attrs.discusser !== attrs.userId)\n\t\t\t\t\t\t\t\t\t\tremoteData.MessagesMonitors.markRead(id(attrs))\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon name=\"cancel-circle\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ft-horizontal-fields ft-flex-grow\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"ft-vertical-fields ft-card-above-overlay\"\n\t\t\t\t\t\t\tonclick={e => {\n\t\t\t\t\t\t\t\t//console.log('span click', attrs.discusser);\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\tm.route.set(`/users/pregame/${attrs.discusser}`)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<UserAvatarField\n\t\t\t\t\t\t\t\tdata={attrs.discusser}\n\t\t\t\t\t\t\t\titemClicked={e => {}}\n\t\t\t\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{attrs.rating ? (\n\t\t\t\t\t\t\t\t<AverageRatingField averageRating={attrs.rating} />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<span>{year(attrs)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclass=\"ft-flex-grow\"\n\t\t\t\t\t\t\tonclick={defaultClick(attrs.messageArray[0])}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!attrs.shortDefault || showLong || !comment(attrs)\n\t\t\t\t\t\t\t\t? comment(attrs)\n\t\t\t\t\t\t\t\t: comment(attrs).substring(0, 50) + \"...(+expand)\"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ActivityCard\n","// StageSelector.jsx\nimport m from 'mithril'\n\nimport {remoteData} from '../../../../store/data'\n\nconst StageSelector = {\n\toninit: ({attrs}) => {\n\t},\n\tview: ({ attrs }) => <div class=\"ft-name-field\">\n\t\t<label for=\"ft-stage-selector\">\n\t        {`Festival Stage`}\n\t    </label>\n\t\t    <select id=\"ft-stage-selector\" name=\"stage\" class={attrs.festivalId ? '' : 'hidden'} onchange={attrs.stageChange}>\n\t\t    \t<option value={0} selected={attrs.stageId ? `` : \"selected\"}>{`Select a stage`}</option>\n\t      \t\t{remoteData.Places.forFestival(attrs.festivalId)\n\t      \t\t\t.filter(p => p.type === 1)\n\t\t      \t\t.map(s => <option value={s.id} selected={ attrs.stageId === s.id ? 'selected' : ''}>{s.name}</option>)\n\t\t      \t}\n\t\t    </select>\n\t</div >\n};\n\nexport default StageSelector;\n","// DaySelector.jsx\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport {remoteData} from '../../../../store/data'\n\nconst DaySelector = {\n\toninit: ({attrs}) => {\n\t},\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-name-field\">\n\t\t\t<label for=\"ft-day-selector\">\n\t\t        {`Festival Day`}\n\t\t    </label>\n\t\t\t    <select id=\"ft-day-selector\" name=\"day\" class={attrs.dateId ? '' : 'hidden'} onchange={attrs.dayChange}>\n\t\t\t    \t<option value={0} selected={ attrs.dayId ? '' : \"selected\"}>{`Select a day`}</option>\n\t\t      \t\t{remoteData.Days.getMany(\n\t\t\t\t\t\t\tremoteData.Dates.getSubIds(attrs.dateId))\n\t      \t\t\t.filter(s => !attrs.scheduled || remoteData.Days.getSubSetIds(s.id).length)\n\t\t      \t\t\t.sort((a, b) => a.daysOffset - b.daysOffset)\n\t\t\t      \t\t.map(s => <option value={s.id} selected={ parseInt(attrs.dayId, 10) === s.id ? 'selected' : ''}>{s.name}</option>)\n\t\t\t      \t}\n\t\t    </select>\n\t\t</div>\n};\n\nexport default DaySelector;\n","// DateSelector.jsx\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport {remoteData} from '../../../../store/data'\n\nconst DateSelector = {\n\toninit: ({attrs}) => {\n\t},\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-name-field\">\n\t\t\t\t\t<label for=\"ft-date-selector\">\n\t\t\t\t        {`Festival Date`}\n\t\t\t\t    </label>\n\t\t\t\t\t    <select id=\"ft-date-selector\" class={attrs.festivalId ? '' : 'hidden'} onchange={attrs.dateChange}>\n\t\t\t\t\t    \t<option value={0} selected={ attrs.dateId ? '' : \"selected\"}>{`Select a date`}</option>\n\t\t\t\t      \t\t{(remoteData.Dates.getMany(\n\t\t\t\t\t\t\tremoteData.Festivals.getSubIds(attrs.festivalId))\n\t\t\t\t\t\t)\n\t      \t\t\t.filter(s => !attrs.scheduled || remoteData.Dates.getSubSetIds(s.id).length)\n\t\t\t\t\t      \t\t.map(s => <option value={s.id} selected={ parseInt(attrs.dateId, 10) === s.id}>{s.name}</option>)\n\t\t\t\t\t      \t}\n\t\t\t\t    </select></div >\n};\n\nexport default DateSelector;\n","// FestivalSelector.jsx\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport {remoteData} from '../../../../store/data'\n\nconst FestivalSelector = {\n\toninit: ({attrs}) => {\n\t},\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-name-field\">\n\t\t\t<label for=\"ft-festival-selector\">\n\t\t        {`Festival Year`}\n\t\t    </label>\n\t\t    <select id=\"ft-festival-selector\" name=\"festival\" class={attrs.seriesId ? '' : 'hidden'} onchange={attrs.festivalChange}>\n\t\t    \t<option value={0} selected={ attrs.festivalId ? '' : \"selected\"}>{`Select a date`}</option>\n\t      \t\t{remoteData.Festivals.getMany(remoteData.Series.getSubIds(attrs.seriesId))\n\n\t      \t\t\t.filter(s => !attrs.scheduled || remoteData.Festivals.getSubSetIds(s.id).length)\n\t      \t\t\t.sort((a, b) => b.year.localeCompare(a.year))\n\t\t      \t\t.map(s => <option value={s.id} selected={ parseInt(attrs.festivalId, 10) === s.id ? 'selected' : ''}>{s.year}</option>)\n\t\t      \t}\n\t\t    </select>\n\t\t</div>\n};\n\nexport default FestivalSelector;\n","// SeriesSelector.jsx\nimport m from 'mithril'\n\nimport {remoteData} from '../../../../store/data'\n\nconst SeriesSelector = {\n\tview: ({ attrs }) => <div class=\"ft-name-field\">\n\t\t\t<label for=\"ft-series-selector\">\n\t\t        {`Festival Name`}\n\t\t    </label>\n\t\t    <select id=\"ft-series-selector\" name=\"series\" onchange={attrs.seriesChange}>\n\t\t    \t<option value={0} selected={ attrs.seriesId ? '' : \"selected\"}>{`Select a festival`}</option>\n\t      \t\t{remoteData.Series.getEventNamesWithIds()\n\t      \t\t\t.filter(se => !attrs.scheduled || remoteData.Series.getSubSetIds(se[1]).length)\n\t\t      \t\t.map(s => <option value={s[1]} selected={ attrs.seriesId === s[1]}>{s[0]}</option>)\n\t\t      \t}\n\t    \t</select>\n\t\t</div>\n};\n\nexport default SeriesSelector;\n","// EventSelector.jsx\nimport m from 'mithril'\n\nimport StageSelector from '../place/StageSelector.jsx'\nimport DaySelector from '../day/DaySelector.jsx'\nimport DateSelector from '../date/DateSelector.jsx'\nimport FestivalSelector from '../festival/FestivalSelector.jsx'\nimport SeriesSelector from '../series/SeriesSelector.jsx'\n\n\nimport {remoteData} from '../../../../store/data'\n\n\nconst EventSelector = vnode => { \n\n\treturn {\n\t\tview: ({attrs}) => <div class=\"ft-event-selector\" id=\"ft-event-selector\">\n\t\t\t{!attrs.seriesChange ? '' : <SeriesSelector \n\t\t\t\tseriesId={attrs.seriesId}\n\t\t\t\tseriesChange={attrs.seriesChange}\n\t\t\t\tscheduled={attrs.scheduled}\n\t\t\t/>}\n\t\t\t{!attrs.festivalChange ? '' : <FestivalSelector \n\t\t\t\tseriesId={attrs.seriesId}\n\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\tfestivalChange={attrs.festivalChange}\n\t\t\t\tscheduled={attrs.scheduled}\n\t\t\t/>}\n\t\t\t{!attrs.dateChange ? '' : <DateSelector \n\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\tdateId={attrs.dateId}\n\t\t\t\tdateChange={attrs.dateChange}\n\t\t\t\tscheduled={attrs.scheduled}\n\t\t\t/>}\n\t\t\t{!attrs.dayChange ? '' : <DaySelector \n\t\t\t\tdateId={attrs.dateId}\n\t\t\t\tdayId={attrs.dayId}\n\t\t\t\tdayChange={attrs.dayChange}\n\t\t\t\tscheduled={attrs.scheduled}\n\t\t\t/>}\n\t\t\t{!attrs.stageChange ? '' : <StageSelector \n\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\tstageChange={attrs.stageChange}\n\t\t\t\tstageId={attrs.stageId}\n\t\t\t\tscheduled={attrs.scheduled}\n\t\t\t/>}\n\t    </div>\n}};\n\nexport default EventSelector;\n","// src/components/layout/ScheduleThemer.jsx\n\nconst dragula = require(\"dragula\");\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport DaySchedule from './DaySchedule.jsx';\nimport FestivalCard from '../../components/cards/FestivalCard.jsx';\nimport WidgetContainer from '../../components/layout/WidgetContainer.jsx'\nimport ActivityCard from '../../components/cards/ActivityCard.jsx'\nimport FixedCardWidget from '../../components/widgets/FixedCard.jsx'\nimport EventSelector from '../detailViewsPregame/fields/event/EventSelector.jsx'\n\n\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData'\nimport {seriesChange, festivalChange, dateChange, dayChange} from '../../store/action/event'\n\nconst {Sets: sets, Places: places, Days: days, Dates: dates, Festivals: festivals} = remoteData\n\nvar drake = {}\n\nconst ScheduleThemer = {\n\tname: 'ScheduleThemer',\n\tpreload: (rParams) => {\n\t\t\t//console.log('dayDetails preload')\n\t\t\t//if a promise returned, instantiation of component held for completion\n\t\t\t//route may not be resolved; use rParams and not m.route.param\n\t\t\tconst seriesId = parseInt(rParams.seriesId, 10)\n\t\t\tconst festivalId = parseInt(rParams.festivalId, 10)\n\t\t\tconst dateId = parseInt(rParams.dateId, 10)\n\t\t\t//messages.forArtist(dateId)\n\t\t\t//console.log('Research preload', seriesId, festivalId, rParams)\n\t\t\treturn Promise.all([\n\t\t\t\t\t!seriesId ? series.remoteCheck(true) : true,\n\t\t\t\t\tseriesId && !festivalId ? Promise.all([\n\t\t\t\t\t\tseries.subjectDetails({subject: seriesId, subjectType: SERIES}),\n\t\t\t\t\t\tfestivals.remoteCheck(true)\n\t\t\t\t\t\t]) : true,\n\t\t\t\t\tfestivalId && !dateId ? Promise.all([\n\t\t\t\t\t\tfestivals.subjectDetails({subject: festivalId, subjectType: FESTIVAL}),\n\t\t\t\t\t\tdates.remoteCheck(true)\n\t\t\t\t\t\t]) : true,\n\t\t\t\t\tdateId ? dates.subjectDetails({subject: dateId, subjectType: DATE}) : true\n\t\t\t])\n\t\t},\n\toninit: ({attrs}) => {\n\t\tif (attrs.titleSet) attrs.titleSet(`Schedule Themer`)\n\t},\n\tview: ({attrs}) => {\n\n\t\tconst mapping = {\n\t\t\tseriesId: attrs.seriesId ? parseInt(attrs.seriesId, 10) : 0,\n\t\t\tfestivalId: attrs.festivalId ? parseInt(attrs.festivalId, 10) : 0,\n\t\t\tdateId: attrs.dateId ? parseInt(attrs.dateId, 10) : 0,\n\t\t\tdayId: attrs.dayId ? parseInt(attrs.dayId, 10) : 0,\n\t\t\tsets: sets.getMany(days.getSubSetIds(attrs.dayId ? parseInt(attrs.dayId, 10) : 0)),\n\t\t\tstages: places.getFiltered(s => s.festival === attrs.festivalId ? parseInt(attrs.festivalId, 10) : 0)\n\t\t}\n\t\t\t//console.log(`ScheduleThemer mapping`, mapping)\n\t\treturn m({\n\t\t\toncreate: vnode => {\n\t\t\t\tdrake = dragula([].slice.call(vnode.dom.querySelectorAll(`.ft-widget-dragula`)))\n\t\t\t},\n\t\t\tview: ({attrs}) => <div class=\"main-stage\">\n\t\t\t{\n\t\t\t\t//console.log(`ScheduleThemer attrs`, attrs)\n\t\t\t}\n\t\t\t\t<EventSelector \n\t\t\t\t\tseriesId={attrs.seriesId}\n\t\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\t\tdateId={attrs.dateId}\n\t\t\t\t\tdayId={attrs.dayId}\n\t\t\t\t\tseriesChange={seriesChange}\n\t\t\t\t\tfestivalChange={festivalChange(attrs.seriesId)}\n\t\t\t\t\tdateChange={dateChange(attrs.seriesId, attrs.festivalId)}\n\t\t\t\t\tdayChange={dayChange(attrs.seriesId, attrs.festivalId, attrs.dateId)}\n\t\t\t\t/>\n\n\t\t\t\t<div class=\"main-stage-content-scroll\">\n\t\t\t\t<WidgetContainer>\n\t\t\t\t\t<FixedCardWidget header=\"Score Types\" containerClasses={'ft-widget-dragula'}>\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t\t<FixedCardWidget header=\"Applied Scores\" containerClasses={'ft-widget-dragula'}>\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t\t<FixedCardWidget header=\"Palettes\" containerClasses={'ft-widget-dragula'}>\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t</WidgetContainer>\n\t\t\t\t</div>\n\t\t\t\t<DaySchedule\n\t\t\t\t\t\tdateId={attrs.dateId}\n\t\t\t\t\t\tdayId={attrs.dayId}\n\t\t\t\t\t\tsets={attrs.sets}\n\t\t\t\t\t\tstages={attrs.stages}\n\t\t\t\t\t\thideDayBar={true}\n\t\t\t\t/>\n\n\t\t\t</div>\n\t\t}, mapping)\n\t}\n}\nexport default ScheduleThemer;\n","// src/components/detailViewsPregame/profiles/ContentItem.js\n// components: user-profile/components\n\n/*\nname | String | No | populates item display\nvalue | String | No | populates item display\n*/\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n\nconst ContentItem = {\n\t//oncreate: console.log('Launched'),\n\t//onupdate: () => console.log('ContentItem update'),\n\tview: ({ attrs }) =>\n\t\tm(\n\t\t\t\".c44-up-content-item.c44-df.c44-fjcsb\",\n\t\t\t{},\n\t\t\tm(\n\t\t\t\t`span${\n\t\t\t\t\tattrs.extractable\n\t\t\t\t\t\t? attrs.extracted\n\t\t\t\t\t\t\t? \".c44-ca.c44-bca\"\n\t\t\t\t\t\t\t: \".c44-coc.c44-bcoc\"\n\t\t\t\t\t\t: \"\"\n\t\t\t\t}`,\n\t\t\t\t{ onclick: attrs.extractToggle },\n\t\t\t\tattrs.name\n\t\t\t),\n\t\t\tm(`span${attrs.flex ? \".c44-fg1\" : \"\"}`, {}, attrs.value)\n\t\t)\n}\nexport default ContentItem\n","// src/services/bites/user/account/profile/bucksLedger.js\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport ContentItem from '../../../../../components/detailViewsPregame/profiles/ContentItem.js'\n\nconst biteCache = {}\nconst biteTimes = {}\nconst cacheLife = 10\n\n\nconst dataPromise = (remoteDataField) => remoteDataField\n\t.bucks()\n\t.then(fav => {\n\t\t_.set(biteTimes, `dataPromise[${0}]`, Date.now())\n\t\t_.set(biteCache, `dataPromise[${0}]`, fav)\n\t\treturn fav\n\t})\nconst cachedBite = (remoteDataField) => {\n\tconst cacheTime = _.get(biteTimes, `dataPromise[${0}]`, 0)\n\tconst cacheOk = cacheTime + cacheLife > Date.now()\n\tif (!cacheOk) dataPromise(remoteDataField)\n\t\t.catch(console.log)\n\treturn _.get(biteCache, `dataPromise[${0}]`, [])\n}\n\nvar extracted = false\n\nconst extractToggle = () => {\n\textracted = !extracted\n\t//console.log('extractToggle', extracted)\n}\nexport default  (remoteDataField) => {\n\tconst raw = cachedBite(remoteDataField)\n\tconst data = _.isArray(raw) ? raw : raw.data\n\t//console.log('bucksLedger data', data)\n\tconst title = 'FestiBucks Ledger'\n\tif(!data || !data.sort) return {\n\t\tvalue: 'Loading',\n\t\ttitle: title,\n\t\tpublic: false,\n\t\tname: title\n\t}\n\n\tconst ledgerItems = l => _.map(l, (v, k) => m(ContentItem, {name: k, value: v}))\n\n\tlet runningBalance = 0\n\tconst bucksLedger = m(`table${extracted ? '' : '.c44-dn'}`, {}, \n\t\tm('tr', {}, \n\t\t\tm('th', {}, 'Time'), \n\t\t\tm('th', {}, 'Category'), \n\t\t\t//m('th', {}, 'Details'), \n\t\t\tm('th', {}, 'Amount'), \n\t\t\tm('th', {}, 'Running Balance')\n\t\t),\n\t\tdata\n\t\t\t.sort((a, b) => a.id - b.id)\n\t\t\t.map(row => {\n\t\t\t\trow.rb = runningBalance = runningBalance + row.bucks\n\t\t\t\treturn row\n\t\t\t})\n\t\t\t.sort((a, b) => b.id - a.id)\n\t\t\t.map(row => m('tr', {}, \n\t\t\t\tm('td', {}, row.timestamp), \n\t\t\t\tm('td', {}, row.category), \n\t\t\n\t\t\t\t//m('td', {}, ledgerItems(JSON.parse(row.description))), \n\n\t\t\t\tm('td', {}, row.bucks), \n\t\t\t\tm('td', {}, row.rb)\n\t\t\t)),\n\t\tm('tr', {}, \n\t\t\tm('td', {}, ''), \n\t\t\tm('td', {}, 'Initial'), \n\t\t\t//m('td', {}, ''), \n\t\t\tm('td', {}, 0), \n\t\t\tm('td', {}, 0)\n\t\t),\n\t)\n\treturn {\n\t\tvalue: bucksLedger,\n\t\ttitle: title,\n\t\tpublic: false,\n\t\tname: title,\n\t\textractable: true,\n\t\textractToggle: extractToggle,\n\t\textracted: extracted\n\t}\n}","// src/componenets/fields/IconText.jsx\n\nimport m from 'mithril'\n\nconst IconText = {\n\tview: ({ attrs }) =>\n\t\t<span class=\"ft-icon-span\" >\n\t\t\t{m.trust(`<svg class=\"ft-icon icon icon-${attrs.name} ${attrs.classes ? attrs.classes : ''}\"><use xlink:href=\"img/symbol-defs.svg#icon-${attrs.name}\"></use></svg>`)}\n\t\t</span>\n}\n\nexport default IconText","// src/services/bites/user/account/profile/bucksForm.js\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n\nimport ContentItem from \"../../../../../components/detailViewsPregame/profiles/ContentItem.js\"\nimport IconText from \"../../../../../components/fields/IconText.jsx\"\n\nvar biteCache = {}\nvar biteTimes = {}\nconst cacheLife = 10\n\nconst dataPromise = remoteDataField =>\n\tremoteDataField.bucks({ total: true }).then(fav => {\n\t\t_.set(biteTimes, `dataPromise[${0}]`, Date.now())\n\t\t_.set(biteCache, `dataPromise[${0}]`, fav)\n\t\treturn fav\n\t})\nconst cachedBite = remoteDataField => {\n\tconst cacheTime = _.get(biteTimes, `dataPromise[${0}]`, 0)\n\tconst cacheOk = cacheTime + cacheLife > Date.now()\n\tif (!cacheOk) dataPromise(remoteDataField).catch(console.log)\n\treturn _.get(biteCache, `dataPromise[${0}]`, [])\n}\n\nvar extracted = false\nvar buySmall = false\nvar buyCount = 10\n\nconst extractToggle = () => {\n\textracted = !extracted\n\t//console.log('extractToggle', extracted)\n}\n// Create our number formatter.\nvar formatter = new Intl.NumberFormat(\"en-US\", {\n\tstyle: \"currency\",\n\tcurrency: \"USD\"\n\n\t// These options are needed to round to whole numbers if that's what you want.\n\t//minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n\t//maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n})\nexport default (remoteDataField, eventObject = {}) => {\n\tconst STRIPE_PK = typeof STRIPE_PUBLIC === \"undefined\" ? {} : STRIPE_PUBLIC\n\t//console.log('bucksForm PK', STRIPE_PK)\n\tvar stripe =\n\t\ttypeof Stripe !== \"undefined\" ? Stripe(STRIPE_PK[\"STRIPE_PUBLIC\"]) : undefined\n\n\tif (!stripe) return \"\"\n\tconst currentBucks = cachedBite(remoteDataField)\n\t//console.log(\"bucksForm currentBucks\", currentBucks)\n\tconst title = \"Order FestiBucks\"\n\tif (!_.isNumber(currentBucks))\n\t\treturn {\n\t\t\tvalue: \"Loading\",\n\t\t\ttitle: title,\n\t\t\tpublic: false,\n\t\t\tname: title\n\t\t}\n\n\tconst ledgerItems = l => _.map(l, (v, k) => m(ContentItem, { name: k, value: v }))\n\n\tlet runningBalance = 0\n\tconst bucksForm = m(\n\t\t`form.c44-bcca${extracted ? \"\" : \".c44-dn\"}`,\n\t\t{},\n\t\t//form title\n\t\tm(\"h2\", {}, \"Buy FestiBucks\"),\n\t\t//current bucks\n\t\tm(\n\t\t\t\"\",\n\t\t\t{},\n\t\t\t`Current FestiBucks: `,\n\t\t\tm(IconText, { name: \"festibucks\" }),\n\t\t\tcurrentBucks\n\t\t),\n\t\t//selector: <10 or 10+\n\t\tm(\n\t\t\t\"select\",\n\t\t\t{\n\t\t\t\tonchange: e => {\n\t\t\t\t\tbuySmall = e.target.value === \"small\"\n\t\t\t\t\tif (buySmall && buyCount > 6) buyCount = 6\n\t\t\t\t\tif (!buySmall && buyCount < 10) buyCount = 10\n\t\t\t\t}\n\t\t\t},\n\t\t\tm(\"option\", { value: \"small\", selected: buySmall }, `Buy 1-6 @ $1.50 ea`),\n\t\t\tm(\"option\", { value: \"large\", selected: !buySmall }, `Buy 10+ @ $1.00 ea`)\n\t\t),\n\t\t//count input\n\t\tm(\n\t\t\t`input.c44-w-ma90[type=number][min=${buySmall ? 1 : 10}]${\n\t\t\t\tbuySmall ? \"[max=6]\" : \"\"\n\t\t\t}[value=${buyCount}]`,\n\t\t\t{\n\t\t\t\tonchange: e => (buyCount = parseInt(e.target.value, 10))\n\t\t\t}\n\t\t),\n\t\tm(\n\t\t\t`table`,\n\t\t\t{},\n\t\t\tm(\n\t\t\t\t\"tr\",\n\t\t\t\t{},\n\t\t\t\tm(\"th\", {}, \"FestiBucks\"),\n\t\t\t\tm(\"th\", {}, \"Price\"),\n\t\t\t\tm(\"th\", {}, \"Balance After Transaction\")\n\t\t\t),\n\t\t\tm(\n\t\t\t\t\"tr\",\n\t\t\t\t{},\n\t\t\t\tm(\"td\", {}, m(IconText, { name: \"festibucks\" }), buyCount),\n\t\t\t\tm(\"td\", {}, formatter.format(buyCount * (buySmall ? 1.5 : 1))),\n\t\t\t\tm(\"td\", {}, m(IconText, { name: \"festibucks\" }), buyCount + currentBucks)\n\t\t\t)\n\t\t),\n\t\t//alpha warning\n\t\tm(\n\t\t\t\"\",\n\t\t\t{},\n\t\t\t\"This is alpha software under active development and there could be issues.\"\n\t\t),\n\t\t//redirection warning\n\t\tm(\n\t\t\t\"\",\n\t\t\t{},\n\t\t\t\"Clicking the buy button will transfer you to our seecure checkout site.\"\n\t\t),\n\t\t//buy button\n\t\tm(\n\t\t\t'button[name=\"BuyBucks\"]',\n\t\t\t{\n\t\t\t\tonclick: e => {\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tconst su = window.location.href\n\t\t\t\t\tconst cu = window.location.href\n\t\t\t\t\t//console.log(\"bucksForm BuyBucks onclick\", buyCount, cu, su, e)\n\t\t\t\t\treturn remoteDataField\n\t\t\t\t\t\t.buyBucks({\n\t\t\t\t\t\t\tquantity: buyCount,\n\t\t\t\t\t\t\tsuccessUrl: su,\n\t\t\t\t\t\t\tcancelUrl: cu\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tconsole.log(\"bucksForm\", res)\n\t\t\t\t\t\t\tconst data = res.data\n\t\t\t\t\t\t\tif (!data || !data.id) throw new Error(\"No session created\")\n\t\t\t\t\t\t\treturn stripe.redirectToCheckout({ sessionId: data.id })\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(function(result) {\n\t\t\t\t\t\t\t// If `redirectToCheckout` fails due to a browser or network\n\t\t\t\t\t\t\t// error, you should display the localized error message to your\n\t\t\t\t\t\t\t// customer using `error.message`.\n\n\t\t\t\t\t\t\tvar biteCache = {}\n\t\t\t\t\t\t\tvar biteTimes = {}\n\t\t\t\t\t\t\tif (result.error) {\n\t\t\t\t\t\t\t\talert(result.error.message)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn dataPromise(remoteDataField)\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(eventObject.bucksUpdate)\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\tconsole.error(\"Error:\", error)\n\t\t\t\t\t\t})\n\t\t\t\t\t//.then(console.log)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"Buy Bucks\"\n\t\t)\n\t)\n\treturn {\n\t\tvalue: bucksForm,\n\t\ttitle: title,\n\t\tpublic: false,\n\t\tname: title,\n\t\textractable: true,\n\t\textractToggle: () => {\n\t\t\textractToggle()\n\t\t\teventObject.extraction && eventObject.extraction(extracted)\n\t\t},\n\t\textracted: extracted\n\t}\n}\n","// src/components/fields/form/BuyAccessLine.jsx\n\n//a form field for updating a string value\n\nimport m from 'mithril'\nimport IconText from '../IconText.jsx'\n\nconst jsx = {\n  view: ({ attrs }) =>\n    <div class={`ft-buy-access-line c44-df c44-fjcc`}>\n    \t<button \n    \t\tclass={`c44-w-100${attrs.unaffordable ? ' c44-bcg' : ''}`} \n    \t\tonclick={attrs.unaffordable ? e => {} : attrs.clickFunction}\n    \t\tdata-access-level={attrs.accessLevel}\n    \t>\n\t    \t{attrs.name}\n\t    \t<br />\n\t    \t{attrs.subtitle}\n\t    \t<br />\n\t    \t<IconText name=\"festibucks\" />\n\t    \t{attrs.value}\n    \t</button>\n    </div>\n}\n\nconst BuyAccessLine = {\n\tview: ({attrs}) => {\n\t\t//console.log('BuyAccessLine', attrs)\n\t\tconst mapping = {\n\t\t\taccessLevel: attrs.accessLevel,\n\t\t\tname: attrs.name,\n\t\t\tsubtitle: attrs.subtitle,\n\t\t\tvalue: attrs.value,\n\t\t\tclickFunction: attrs.clickFunction,\n\t\t\tunaffordable: attrs.unaffordable\n\t\t}\n\n\t\treturn m(jsx, mapping)\n\t}\n}\n\nexport default BuyAccessLine;","// src/services/bites/user/account/profile/bucksSpend.js\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport moment from \"dayjs\"\n\nimport BuyAccessLine from \"../../../../../components/fields/form/BuyAccessLine.jsx\"\nimport EventSelector from \"../../../../../components/detailViewsPregame/fields/event/EventSelector.jsx\"\nimport IconText from \"../../../../../components/fields/IconText.jsx\"\n\nconst biteCache = {}\nconst biteTimes = {}\nconst cacheLife = 10\n\nconst endPromise = users =>\n\tusers.wouldend().then(fav => {\n\t\t_.set(biteTimes, `endPromise[${0}]`, Date.now())\n\t\t_.set(biteCache, `endPromise[${0}]`, fav)\n\t\treturn fav\n\t})\nconst cachedEndBite = users => {\n\tconst cacheTime = _.get(biteTimes, `endPromise[${0}]`, 0)\n\tconst cacheOk = cacheTime + cacheLife > Date.now()\n\tif (!cacheOk) endPromise(users).catch(console.log)\n\treturn _.get(biteCache, `endPromise[${0}]`, [])\n}\nconst dataPromise = users =>\n\tusers.bucks({ total: true }).then(fav => {\n\t\t_.set(biteTimes, `dataPromise[${0}]`, Date.now())\n\t\t_.set(biteCache, `dataPromise[${0}]`, fav)\n\t\treturn fav\n\t})\nconst cachedBite = users => {\n\tconst cacheTime = _.get(biteTimes, `dataPromise[${0}]`, 0)\n\tconst cacheOk = cacheTime + cacheLife > Date.now()\n\tif (!cacheOk) dataPromise(users).catch(console.log)\n\treturn _.get(biteCache, `dataPromise[${0}]`, [])\n}\n\nconst costPromise = (rdf, id) =>\n\trdf\n\t\t.cost(id)\n\t\t.then(data => (data.data ? data.data : data))\n\t\t.then(fav => {\n\t\t\t_.set(biteTimes, `dataPromise.${rdf.fieldName}[${id}]`, Date.now())\n\t\t\t_.set(biteCache, `dataPromise.${rdf.fieldName}[${id}]`, fav)\n\t\t\treturn fav\n\t\t})\n\t\t.then(data => {\n\t\t\tm.redraw()\n\t\t\treturn data\n\t\t})\nconst cachedCostBite = (rdf, id) => {\n\tconst cacheTime = _.get(biteTimes, `dataPromise.${rdf.fieldName}[${id}]`, 0)\n\tconst cacheOk = cacheTime + cacheLife > Date.now()\n\tif (!cacheOk) costPromise(rdf, id).catch(console.log)\n\treturn _.get(biteCache, `dataPromise.${rdf.fieldName}[${id}]`, [])\n}\n\nvar extracted = false\nvar buySmall = false\nvar buyCount = 10\n\nconst extractToggle = () => {\n\textracted = !extracted\n\t//console.log('extractToggle', extracted)\n}\n\nvar dayIdCache = 0\nvar dateIdCache = 0\nvar festivalIdCache = 0\nvar seriesIdCache = 0\nconst cacheId = (radix, id) => {\n\tswitch (radix) {\n\t\tcase \"series\": {\n\t\t\tdayIdCache = 0\n\t\t\tdateIdCache = 0\n\t\t\tfestivalIdCache = 0\n\t\t\tseriesIdCache = id\n\t\t\tbreak\n\t\t}\n\t\tcase \"fest\": {\n\t\t\tdayIdCache = 0\n\t\t\tdateIdCache = 0\n\t\t\tfestivalIdCache = id\n\t\t\tbreak\n\t\t}\n\t\tcase \"date\": {\n\t\t\tdayIdCache = 0\n\t\t\tdateIdCache = id\n\t\t\tbreak\n\t\t}\n\t\tcase \"day\": {\n\t\t\tdayIdCache = id\n\t\t\tbreak\n\t\t}\n\t\tdefault: {\n\t\t\tbreak\n\t\t}\n\t}\n}\nconst onchange = radix => e => {\n\tconst newId = _.isInteger(e) ? e : parseInt(e.target.value, 10)\n\tconsole.log(\"bucksSpend\", radix, newId)\n\treturn cacheId(radix, newId)\n}\nconst extractEvent = eo => {\n\tif (eo.subjectType === SERIES)\n\t\treturn {\n\t\t\tseriesId: eo.subject\n\t\t}\n}\nexport default (users, days, dates, festivals, eventObject = {}) => {\n\tconst currentBucks = cachedBite(users)\n\tconst endTime = cachedEndBite(users)\n\tconst currentId = dayIdCache || dateIdCache || festivalIdCache\n\n\tif (eventObject.seriesId) seriesIdCache = eventObject.seriesId\n\tif (eventObject.festivalId) festivalIdCache = eventObject.festivalId\n\tif (eventObject.dateId) dateIdCache = eventObject.dateId\n\tif (eventObject.dayId) dayIdCache = eventObject.dayId\n\n\tconst rdf = dayIdCache\n\t\t? days\n\t\t: dateIdCache\n\t\t? dates\n\t\t: festivalIdCache\n\t\t? festivals\n\t\t: users\n\tif (festivalIdCache && !dateIdCache)\n\t\tdates.acquireListSupplement(\n\t\t\t`filter=${JSON.stringify({ where: { festival: festivalIdCache } })}`\n\t\t)\n\tif (dateIdCache && !dayIdCache)\n\t\tdays.acquireListSupplement(\n\t\t\t`filter=${JSON.stringify({ where: { date: dateIdCache } })}`\n\t\t)\n\tconst costObject = cachedCostBite(rdf, currentId)\n\tif (dateIdCache) costObject.dateId = dateIdCache\n\tif (festivalIdCache) costObject.festivalId = festivalIdCache\n\t//console.log('bucksSpend currentBucks endTime', endTime, currentBucks, costObject)\n\tconst title = \"Festival Access\"\n\tif (!_.isNumber(currentBucks))\n\t\treturn {\n\t\t\tvalue: \"Loading\",\n\t\t\ttitle: title,\n\t\t\tpublic: false,\n\t\t\tname: title\n\t\t}\n\t/*\n\tconsole.log('bucksSpend form', {\n\t\tseriesId: seriesId(),\n\t\tfestivalId: festivalId(),\n\t\tdateId: dateId(),\n\t\tdayId: dayId()\n\t})\n\t*/\n\tconst bucksSpend = m(\n\t\t`form.c44-bcca.c44-w-90.c44-fjcc${extracted ? \".c44-fvf\" : \".c44-dn\"}`,\n\t\t{},\n\t\t//form title\n\t\tm(\"h2.c44-tac\", {}, \"Buy Live Access\"),\n\t\t//current bucks\n\t\tm(\n\t\t\t\"span.c44-tac\",\n\t\t\t{},\n\t\t\t`Current FestiBucks: `,\n\t\t\tm(IconText, { name: \"festibucks\" }),\n\t\t\tcurrentBucks\n\t\t),\n\t\t//selector: event\n\t\teventObject.festivalId\n\t\t\t? \"\"\n\t\t\t: m(EventSelector, {\n\t\t\t\t\tseriesId: seriesIdCache,\n\t\t\t\t\tfestivalId: festivalIdCache,\n\t\t\t\t\tdateId: dateIdCache,\n\t\t\t\t\tdayId: dayIdCache,\n\t\t\t\t\tseriesChange: onchange(\"series\"),\n\t\t\t\t\tfestivalChange: onchange(\"fest\"),\n\t\t\t\t\tdateChange: onchange(\"date\"),\n\t\t\t\t\tdayChange: onchange(\"day\")\n\t\t\t  }),\n\t\t..._.map(costObject, (v, k, a) =>\n\t\t\t/Id$/.test(k)\n\t\t\t\t? \"\"\n\t\t\t\t: m(BuyAccessLine, {\n\t\t\t\t\t\tname:\n\t\t\t\t\t\t\tk === \"day\"\n\t\t\t\t\t\t\t\t? festivals.getEventName(festivalIdCache)\n\t\t\t\t\t\t\t\t: k === \"date\"\n\t\t\t\t\t\t\t\t? festivals.getEventName(festivalIdCache)\n\t\t\t\t\t\t\t\t: k === \"festival\"\n\t\t\t\t\t\t\t\t? festivals.getEventName(festivalIdCache)\n\t\t\t\t\t\t\t\t: k === \"full\"\n\t\t\t\t\t\t\t\t? \"Full Access\"\n\t\t\t\t\t\t\t\t: k,\n\t\t\t\t\t\tsubtitle:\n\t\t\t\t\t\t\tk === \"day\"\n\t\t\t\t\t\t\t\t? days\n\t\t\t\t\t\t\t\t\t\t.getEventNameArray(dayIdCache)\n\t\t\t\t\t\t\t\t\t\t.reduce((n, pn, i) => {\n\t\t\t\t\t\t\t\t\t\t\tif (i === 2) n = pn\n\t\t\t\t\t\t\t\t\t\t\tif (i === 3) n = `${n} ${pn}`\n\t\t\t\t\t\t\t\t\t\t\treturn n\n\t\t\t\t\t\t\t\t\t\t}, \"\")\n\t\t\t\t\t\t\t\t: k === \"date\"\n\t\t\t\t\t\t\t\t? dates.getPartName(dateIdCache)\n\t\t\t\t\t\t\t\t: k === \"festival\"\n\t\t\t\t\t\t\t\t? \"All Dates\"\n\t\t\t\t\t\t\t\t: k === \"full\"\n\t\t\t\t\t\t\t\t? \"All events through \" + moment(endTime).format(\"ll\")\n\t\t\t\t\t\t\t\t: k,\n\t\t\t\t\t\tvalue: v,\n\t\t\t\t\t\taccessLevel: k,\n\t\t\t\t\t\tclickFunction: e => {\n\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\tconst rdf =\n\t\t\t\t\t\t\t\tk === \"day\"\n\t\t\t\t\t\t\t\t\t? days\n\t\t\t\t\t\t\t\t\t: k === \"date\"\n\t\t\t\t\t\t\t\t\t? dates\n\t\t\t\t\t\t\t\t\t: k === \"festival\"\n\t\t\t\t\t\t\t\t\t? festivals\n\t\t\t\t\t\t\t\t\t: users\n\t\t\t\t\t\t\tconst id =\n\t\t\t\t\t\t\t\tk === \"day\"\n\t\t\t\t\t\t\t\t\t? dayIdCache\n\t\t\t\t\t\t\t\t\t: k === \"date\"\n\t\t\t\t\t\t\t\t\t? dateIdCache\n\t\t\t\t\t\t\t\t\t: festivalIdCache\n\t\t\t\t\t\t\tlet buyObject = {}\n\t\t\t\t\t\t\tbuyObject[k] = v\n\t\t\t\t\t\t\tbuyObject[`${k}Id`] = a[`${k}Id`]\n\t\t\t\t\t\t\t//console.log('bucksSpend buyObject', buyObject)\n\t\t\t\t\t\t\treturn rdf\n\t\t\t\t\t\t\t\t.buy(buyObject)\n\t\t\t\t\t\t\t\t.then(eventObject.bucksUpdate)\n\t\t\t\t\t\t\t\t.then(eventObject.closeModal)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tunaffordable: currentBucks < v\n\t\t\t\t  })\n\t\t)\n\t)\n\treturn {\n\t\tvalue: bucksSpend,\n\t\ttitle: title,\n\t\tpublic: false,\n\t\tname: title,\n\t\textractable: true,\n\t\textractToggle: () => {\n\t\t\textractToggle()\n\t\t\teventObject.extraction && eventObject.extraction(extracted)\n\t\t},\n\t\textracted: extracted\n\t}\n}\n","// src/components/widgets/CloudinaryUpload.jsx\n\nimport m from \"mithril\"\n\nimport { subjectData } from \"../../store/subjectData.js\"\n\nconst CloudinaryUploadWidget = vnode => {\n\tvar myUploadWidget = {}\n\treturn {\n\t\toncreate: vnode => {\n\t\t\tmyUploadWidget = cloudinary.openUploadWidget(\n\t\t\t\t{\n\t\t\t\t\tcloudName: \"dbezrymmc\",\n\t\t\t\t\tuploadPreset: subjectData.imagePreset(vnode.attrs.subjectType),\n\t\t\t\t\tsources: vnode.attrs.sources\n\t\t\t\t},\n\t\t\t\t(err, result) => {\n\t\t\t\t\t//console.log('Cloudinary Upload')\n\t\t\t\t\tif (err) console.log(err)\n\t\t\t\t\tif (vnode.attrs.resultFunction)\n\t\t\t\t\t\tif (result.event === \"success\") {\n\t\t\t\t\t\t\t//Step 2.4:  Call the .close() method in order to close the widget\n\t\t\t\t\t\t\tvnode.attrs.resultFunction(result)\n\t\t\t\t\t\t\tmyUploadWidget.close()\n\t\t\t\t\t\t}\n\t\t\t\t\tif (result.event === \"close\" || result.event === \"abort\") {\n\t\t\t\t\t\tvnode.attrs.cancelFunction(result)\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tresult.event !== \"success\" &&\n\t\t\t\t\t\tresult.event !== \"close\" &&\n\t\t\t\t\t\tresult.event !== \"abort\"\n\t\t\t\t\t) {\n\t\t\t\t\t\t//console.log(\"Cloudinary Upload nonsuccess event\", result.event)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\tif (vnode.attrs.widgetHandle) vnode.attrs.widgetHandle(myUploadWidget)\n\t\t},\n\t\tview: vnode => <input type=\"button\" />\n\t}\n}\n\nexport default CloudinaryUploadWidget\n","// src/services/bites/user/account/profile/picForm.js\n\n//get the subjectCard for the three subjects the user has discussed most\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n\nimport StringUpdate from \"../../../../../components/fields/form/StringUpdate.jsx\"\nimport UIButton from \"../../../../../components/ui/UIButton.jsx\"\nimport CloudinaryUploadWidget from \"../../../../../components/widgets/CloudinaryUpload.jsx\"\n\nvar biteCache = {}\nvar biteTimes = {}\nconst cacheLife = 1000\nvar _widgetExists = false\nfunction widgetExists(state) {\n\tif (_.isUndefined(state)) return _widgetExists\n\treturn (_widgetExists = state)\n}\n\n//retrieve data Promise\n//cache Promise Result; trigger update if needed\n//export return cached data\n\n//editable profile fields:\n//username\n//picture\n//short bio\n//long bio\n//highlight text color\n\nconst emptyUser = `data:image/svg+xml;utf8,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3C!-- Written by Treer (gitlab.com/Treer) --%3E%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='600' height='600' fill='white' color='%2300d7d7'%3E%3Ctitle%3EAbstract user icon%3C/title%3E%3Cdefs%3E%3CclipPath id='circular-border'%3E%3Ccircle cx='300' cy='300' r='280' /%3E%3C/clipPath%3E%3CclipPath id='avoid-antialiasing-bugs'%3E%3Crect width='100%25' height='498' /%3E%3C/clipPath%3E%3C/defs%3E%3Ccircle cx='300' cy='300' r='280' fill='currentcolor' clip-path='url(%23avoid-antialiasing-bugs)' /%3E%3Ccircle cx='300' cy='230' r='115' /%3E%3Ccircle cx='300' cy='550' r='205' clip-path='url(%23circular-border)' /%3E%3C/svg%3E`\n\nconst dataPromise = (userId, remoteDataField) =>\n\tremoteDataField.getLocalPromise(userId).then(fav => {\n\t\t_.set(biteTimes, `dataPromise[${userId}]`, Date.now())\n\t\t_.set(biteCache, `dataPromise[${userId}]`, fav)\n\t\treturn fav\n\t})\nconst cachedBite = (userId, remoteDataField) => {\n\tconst cacheTime = _.get(biteTimes, `dataPromise[${userId}]`, 0)\n\tconst cacheOk = cacheTime + cacheLife > Date.now()\n\tif (!cacheOk) dataPromise(userId, remoteDataField).catch(console.log)\n\treturn _.get(biteCache, `dataPromise[${userId}]`, [])\n}\nvar formCache = {}\nconst formStringValue = fieldIndex => newStringValue => {\n\tif (!_.isString(newStringValue)) return _.get(formCache, fieldIndex)\n\treturn _.set(formCache, fieldIndex, newStringValue)\n}\nvar extracted = false\n\nconst extractToggle = () => {\n\textracted = !extracted\n\t//console.log('extractToggle', extracted)\n}\nexport default (userId, remoteDataField, images) => {\n\tconst data = cachedBite(userId, remoteDataField)[0]\n\t//console.log('picForm data', data)\n\tconst title = \"Change Profile Picture\"\n\tif (!data)\n\t\treturn {\n\t\t\tvalue: \"Loading\",\n\t\t\ttitle: title,\n\t\t\tpublic: false,\n\t\t\tname: title\n\t\t}\n\n\t//change picture\n\tconst picString = formStringValue(\"picture\")\n\tif (!picString()) picString(data.picture)\n\tconst imgSrc = /^http/i.test(picString()) ? picString() : emptyUser\n\tconst picForm = m(\n\t\t`form.c44-fvf${extracted ? \"\" : \".c44-dn\"}`,\n\t\t{},\n\t\t//current pic\n\t\tm(\n\t\t\t\"header.c44-up-header.c44-pr.c44-fvf\",\n\t\t\t{},\n\t\t\tm(`img.c44-h-ma25vh.c44-of-con[src=${imgSrc}]`)\n\t\t),\n\t\t//Preview Cahnge/Save Change/Discard Change buttons\n\t\tm(UIButton, {\n\t\t\taction: e => {\n\t\t\t\twidgetExists(true)\n\t\t\t},\n\t\t\tbuttonName: \"Change Picture\"\n\t\t}),\n\t\twidgetExists()\n\t\t\t? m(CloudinaryUploadWidget, {\n\t\t\t\t\tsubject: userId,\n\t\t\t\t\tsubjectType: USER,\n\t\t\t\t\tresultFunction: result => {\n\t\t\t\t\t\t//fail silently\n\t\t\t\t\t\tif (!result) return\n\t\t\t\t\t\t//console.log(result)\n\t\t\t\t\t\tif (result.info.secure_url.indexOf(\"image\" > 0)) {\n\t\t\t\t\t\t\timages\n\t\t\t\t\t\t\t\t.create({\n\t\t\t\t\t\t\t\t\tsubject: userId,\n\t\t\t\t\t\t\t\t\tsubjectType: USER,\n\t\t\t\t\t\t\t\t\turl: result.info.secure_url,\n\t\t\t\t\t\t\t\t\ttitle: \"Profile Pic\",\n\t\t\t\t\t\t\t\t\tsourceUrl: result.info.secure_url,\n\t\t\t\t\t\t\t\t\tauthor: userId,\n\t\t\t\t\t\t\t\t\tlicense: \"self\",\n\t\t\t\t\t\t\t\t\tlicenseUrl: \"http://festigram\"\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then(img => {\n\t\t\t\t\t\t\t\t\tconsole.log(\"img uploaded\", img)\n\t\t\t\t\t\t\t\t\tconst newData = Object.assign(_.clone(data), {\n\t\t\t\t\t\t\t\t\t\tpicture: img.url\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\treturn remoteDataField.updateInstance(\n\t\t\t\t\t\t\t\t\t\tnewData,\n\t\t\t\t\t\t\t\t\t\tnewData.id\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then(() => (formCache = biteCache = biteTimes = {}))\n\t\t\t\t\t\t\t\t.then(m.redraw)\n\t\t\t\t\t\t\t\t.catch(console.log)\n\t\t\t\t\t\t\twidgetExists(false)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcancelFunction: result => {\n\t\t\t\t\t\t//fail silently\n\t\t\t\t\t\tif (!result) return\n\t\t\t\t\t\t//console.log(\"cancelFunction\", result.event)\n\t\t\t\t\t\twidgetExists(false)\n\t\t\t\t\t\tm.redraw()\n\t\t\t\t\t}\n\t\t\t  })\n\t\t\t: \"\"\n\t)\n\n\treturn {\n\t\tvalue: picForm,\n\t\ttitle: title,\n\t\tpublic: false,\n\t\tname: title,\n\t\textractable: true,\n\t\textractToggle: extractToggle,\n\t\textracted: extracted\n\t}\n}\n","// src/components/tracts/Tract.jsx\n\nimport m from 'mithril'\n\n\nconst jsx = {\n  //oninit: ({attrs}) => remoteData.Artists.getLocakPromise(attrs.data.id).catch(console.error),\n  view: ({ attrs, children }) => <div   >\n  \t{attrs.headline ? <h1 \n  \t\tclass={`c44-w-100 c44-fvf ${attrs.extracted ? 'c44-ca c44-bca' : 'c44-coc c44-bcoc'}`}\n  \t\tonclick={attrs.tractToggle}\n  \t>{attrs.headline}</h1> : ''}\n  \t<div class={attrs.extracted ? '' : 'c44-dn'} >\n  \t\t{attrs.children}\n  \t</div>\n  </div>\n    \n};\nconst Tract = {\n  view: ({ attrs, children }) => {\n    const mapping = {\n      extracted: attrs.extracted,\n      headline: attrs.headline,\n      children: children,\n      tractToggle: attrs.tractToggle\n    }\n    return m(jsx, mapping)\n  }\n}\n\nexport default Tract","// src/components/fields/InlineTable.js\n// components: user-profile/components\n\n/*\nname | String | No | populates item display\nvalue | String | No | populates item display\n*/\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport IconText from \"./IconText.jsx\"\n\nconst InlineTable = {\n\t//oncreate: console.log('Launched'),\n\t//onupdate: () => console.log('InlineTable update'),\n\tview: ({ attrs }) =>\n\t\tm(\n\t\t\t\".ft-field-inline-table.c44-w-ma90.c44-w-90.c44-fvf.c44-faic\",\n\t\t\t{},\n\t\t\t!attrs.name\n\t\t\t\t? \"\"\n\t\t\t\t: m(\n\t\t\t\t\t\t`h3[name=${attrs.name\n\t\t\t\t\t\t\t.split(\" \")\n\t\t\t\t\t\t\t.pop()}].c44-hov-cp.c44-faic${\n\t\t\t\t\t\t\tattrs.extractable\n\t\t\t\t\t\t\t\t? attrs.extracted\n\t\t\t\t\t\t\t\t\t? \".c44-ca.c44-bca\"\n\t\t\t\t\t\t\t\t\t: \".c44-w-100.c44-coc.c44-bcoc\"\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t}`,\n\t\t\t\t\t\t{ onclick: attrs.extractToggle },\n\t\t\t\t\t\tm(\n\t\t\t\t\t\t\t`span`,\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\tattrs.extracted\n\t\t\t\t\t\t\t\t? m(IconText, { name: \"shrink\" })\n\t\t\t\t\t\t\t\t: m(IconText, { name: \"enlarge\" }),\n\t\t\t\t\t\t\tattrs.name\n\t\t\t\t\t\t)\n\t\t\t\t  ),\n\n\t\t\tattrs.value\n\t\t),\n}\nexport default InlineTable\n","// src/components/layout/Account.jsx\n\nimport m from \"mithril\"\n\nimport bucksLedger from \"../../services/bites/user/account/profile/bucksLedger\"\nimport bucksForm from \"../../services/bites/user/account/profile/bucksForm\"\nimport bucksSpend from \"../../services/bites/user/account/profile/bucksSpend\"\nimport picForm from \"../../services/bites/user/account/profile/picForm\"\nimport Tract from \"../tracts/Tract.jsx\"\nimport ContentItem from \"../detailViewsPregame/profiles/ContentItem\"\nimport InlineTable from \"../fields/InlineTable\"\n\nimport { remoteData } from \"../../store/data\"\n\nconst {\n\tUsers: users,\n\tDays: days,\n\tDates: dates,\n\tFestivals: festivals,\n\tImages: images\n} = remoteData\n\nconst tractStates = {\n\tEditProfile: false,\n\tBucksHistory: false\n}\nconst jsx = {\n\t//oninit: ({attrs}) => remoteData.Artists.getLocakPromise(attrs.data.id).catch(console.error),\n\tview: ({ attrs }) => (\n\t\t<div>\n\t\t\t<Tract\n\t\t\t\textracted={tractStates.EditProfile}\n\t\t\t\theadline={`Edit Profile`}\n\t\t\t\ttractToggle={e => {\n\t\t\t\t\ttractStates.EditProfile = !tractStates.EditProfile\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{m(\n\t\t\t\t\tContentItem,\n\t\t\t\t\tObject.assign({ flex: true }, picForm(attrs.userId, users, images))\n\t\t\t\t)}\n\t\t\t</Tract>\n\t\t\t<Tract\n\t\t\t\textracted={tractStates.BucksHistory}\n\t\t\t\theadline={`FestiBucks`}\n\t\t\t\ttractToggle={e => {\n\t\t\t\t\ttractStates.BucksHistory = !tractStates.BucksHistory\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{m(InlineTable, bucksLedger(users))}\n\t\t\t\t{m(InlineTable, bucksForm(users))}\n\t\t\t\t{m(InlineTable, bucksSpend(users, days, dates, festivals))}\n\t\t\t</Tract>\n\t\t</div>\n\t)\n}\nconst Account = {\n\tpreload: params => {\n\t\tparams.titleSet && params.titleSet(\"Account\")\n\t},\n\tview: ({ attrs }) => {\n\t\tconst mapping = {\n\t\t\tuserId: attrs.userId,\n\t\t\tuserRoles: attrs.userRoles\n\t\t}\n\t\treturn m(jsx, mapping)\n\t}\n}\n\nexport default Account\n","// src/components/tracts/buy/BuyButtons.jsx\n\nimport _ from \"lodash\"\nimport m from \"mithril\"\nimport moment from \"dayjs\"\nimport Tract from \"../Tract.jsx\"\nimport BuyAccessLine from \"../../fields/form/BuyAccessLine.jsx\"\n\nimport { remoteData } from \"../../../store/data\"\n\nconst {\n\tUsers: users,\n\tDays: days,\n\tDates: dates,\n\tFestivals: festivals,\n\tSets: sets\n} = remoteData\n\nconst jsx = {\n\tview: ({ attrs }) => (\n\t\t<Tract extracted={true}>\n\t\t\t<div>\n\t\t\t\t{_.map(attrs.costObject, (v, k, a) =>\n\t\t\t\t\t/Id$/.test(k) ? (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<BuyAccessLine\n\t\t\t\t\t\t\tname={\n\t\t\t\t\t\t\t\tk === \"day\"\n\t\t\t\t\t\t\t\t\t? festivals.getEventName(attrs.festivalId)\n\t\t\t\t\t\t\t\t\t: k === \"date\"\n\t\t\t\t\t\t\t\t\t? festivals.getEventName(attrs.festivalId)\n\t\t\t\t\t\t\t\t\t: k === \"festival\"\n\t\t\t\t\t\t\t\t\t? festivals.getEventName(attrs.festivalId)\n\t\t\t\t\t\t\t\t\t: k === \"full\"\n\t\t\t\t\t\t\t\t\t? \"Full Access\"\n\t\t\t\t\t\t\t\t\t: k\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsubtitle={\n\t\t\t\t\t\t\t\tk === \"day\"\n\t\t\t\t\t\t\t\t\t? days\n\t\t\t\t\t\t\t\t\t\t\t.getEventNameArray(attrs.dayId)\n\t\t\t\t\t\t\t\t\t\t\t.reduce((n, pn, i) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (i === 2) n = pn\n\t\t\t\t\t\t\t\t\t\t\t\tif (i === 3) n = `${n} ${pn}`\n\t\t\t\t\t\t\t\t\t\t\t\treturn n\n\t\t\t\t\t\t\t\t\t\t\t}, \"\")\n\t\t\t\t\t\t\t\t\t: k === \"date\"\n\t\t\t\t\t\t\t\t\t? dates.getPartName(attrs.dateId)\n\t\t\t\t\t\t\t\t\t: k === \"festival\"\n\t\t\t\t\t\t\t\t\t? \"All Dates\"\n\t\t\t\t\t\t\t\t\t: k === \"full\"\n\t\t\t\t\t\t\t\t\t? \"All events through \" +\n\t\t\t\t\t\t\t\t\t  moment(attrs.endTime).format(\"ll\")\n\t\t\t\t\t\t\t\t\t: k\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={v}\n\t\t\t\t\t\t\taccessLevel={k}\n\t\t\t\t\t\t\tclickFunction={e => {\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\tconst rdf =\n\t\t\t\t\t\t\t\t\tk === \"day\"\n\t\t\t\t\t\t\t\t\t\t? days\n\t\t\t\t\t\t\t\t\t\t: k === \"date\"\n\t\t\t\t\t\t\t\t\t\t? dates\n\t\t\t\t\t\t\t\t\t\t: k === \"festival\"\n\t\t\t\t\t\t\t\t\t\t? festivals\n\t\t\t\t\t\t\t\t\t\t: users\n\t\t\t\t\t\t\t\tconst id =\n\t\t\t\t\t\t\t\t\tk === \"day\"\n\t\t\t\t\t\t\t\t\t\t? attrs.dayId\n\t\t\t\t\t\t\t\t\t\t: k === \"date\"\n\t\t\t\t\t\t\t\t\t\t? attrs.dateId\n\t\t\t\t\t\t\t\t\t\t: festivalId\n\t\t\t\t\t\t\t\tlet buyObject = {}\n\t\t\t\t\t\t\t\tbuyObject[k] = v\n\t\t\t\t\t\t\t\tbuyObject[`${k}Id`] = a[`${k}Id`]\n\t\t\t\t\t\t\t\t//console.log('bucksSpend buyObject', buyObject)\n\t\t\t\t\t\t\t\treturn rdf.buy(buyObject)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tunaffordable={attrs.currentBucks < v}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Tract>\n\t)\n}\n\nexport default {\n\toninit: ({ attrs }) => {\n\t\tconst seriesId =\n\t\t\tattrs.eventObject && attrs.eventObject.seriesId\n\t\t\t\t? attrs.eventObject.seriesId\n\t\t\t\t: undefined\n\t\tconst festivalId =\n\t\t\tattrs.eventObject && attrs.eventObject.festivalId\n\t\t\t\t? attrs.eventObject.festivalId\n\t\t\t\t: undefined\n\t\tconst dateId =\n\t\t\tattrs.eventObject && attrs.eventObject.dateId\n\t\t\t\t? attrs.eventObject.dateId\n\t\t\t\t: undefined\n\t\tconst dayId =\n\t\t\tattrs.eventObject && attrs.eventObject.dayId\n\t\t\t\t? attrs.eventObject.dayId\n\t\t\t\t: undefined\n\n\t\tconst rdf = dayId ? days : dateId ? dates : festivalId ? festivals : users\n\t\tconst id = dayId ? dayId : dateId ? dateId : festivalId ? festivalId : undefined\n\n\t\tconst costObject = rdf.costCache(id)\n\t\tconst endTime = users.endCache(id)\n\t\tconst currentBucks = users.bucksCache(id)\n\t\treturn Promise.all([rdf.cost(id), users.wouldend(id), users.bucks(id)])\n\t},\n\tview: ({ attrs }) => {\n\t\tconst seriesId =\n\t\t\tattrs.eventObject && attrs.eventObject.seriesId\n\t\t\t\t? attrs.eventObject.seriesId\n\t\t\t\t: undefined\n\t\tconst festivalId =\n\t\t\tattrs.eventObject && attrs.eventObject.festivalId\n\t\t\t\t? attrs.eventObject.festivalId\n\t\t\t\t: undefined\n\t\tconst dateId =\n\t\t\tattrs.eventObject && attrs.eventObject.dateId\n\t\t\t\t? attrs.eventObject.dateId\n\t\t\t\t: undefined\n\t\tconst dayId =\n\t\t\tattrs.eventObject && attrs.eventObject.dayId\n\t\t\t\t? attrs.eventObject.dayId\n\t\t\t\t: undefined\n\n\t\tconst rdf = dayId ? days : dateId ? dates : festivalId ? festivals : users\n\t\tconst id = dayId ? dayId : dateId ? dateId : festivalId ? festivalId : undefined\n\n\t\tconst costObject = rdf.costCache(id)\n\t\tconst endTime = users.endCache(id)\n\t\tconst currentBucks = users.bucksCache(id)\n\n\t\t//console.log('BuyButtons', costObject, endTime, currentBucks)\n\t\tconst mapping = {\n\t\t\tcostObject: costObject,\n\t\t\tdayId: dayId,\n\t\t\tdateId: dateId,\n\t\t\tfestivalId: festivalId,\n\t\t\tendTime: endTime,\n\t\t\tcurrentBucks: currentBucks\n\t\t}\n\t\treturn m(jsx, mapping)\n\t}\n}\n","// src/components/ui/BannerButton.jsx\n\nimport m from \"mithril\"\n\nconst BannerButton = {\n\tview: ({ attrs }) => (\n\t\t<div\n\t\t\tclass={\"ft-nav-button\" + (attrs.classes ? \" \" + attrs.classes : \"\")}\n\t\t\tonclick={attrs.clickFunction}\n\t\t>\n\t\t\t{attrs.icon}\n\t\t</div>\n\t),\n}\n\nexport default BannerButton\n","// src/components/widgets/canned/ResearchWidget.jsx\n\n//given a list of bands to research, this widget \n//filters out unneded ones, sorts the rest and displays artist cards\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\nimport smartSearch from 'smart-search'\n\nimport ArtistCard from '../../../components/cards/ArtistCard.jsx';\nimport SearchCard from '../../../components/cards/SearchCard.jsx';\nimport FixedCardWidget from '../FixedCard.jsx';\nimport BannerButton from '../../ui/BannerButton.jsx';\nimport {remoteData} from '../../../store/data';\nimport Icon from '../../fields/Icon.jsx'\n\nconst artistData = ({festivalId, userId, search, recordCount, prefilter}) => {\n\tconst baseData = remoteData.Festivals.getResearchList(festivalId, userId)\n\t\t.filter(prefilter)\n\tconst searchMatches = search ? \n\t\tsmartSearch(baseData, search.pattern, search.fields)\n\t\t\t.map(x => x.entry)\n\t : baseData\n\treturn _.take(searchMatches, recordCount)\n}\n\nconst ResearchWidget = vnode => {\n\tvar removed = []\n\tlet pattern;\n\tconst patternChange = e => {\n\t\tpattern = e.target.value\n\t\t//console.log('ArtistSearchWidget pattern ' + pattern)\n\t}\n\treturn {\n\t\tview: (vnode) => <FixedCardWidget \n\t\t\theader=\"Festival Research\" \n\t\t\tbutton={/research/.test(m.route.get()) || !/fests/.test(m.route.get()) || !parseInt(m.route.param(\"id\"), 10) ? '' : <BannerButton \n\t\t\t\ticon={<Icon name=\"science\" />}\n\t\t\t\tclickFunction={e => m.route.set(`/research?seriesId=${remoteData.Festivals.getSeriesId(parseInt(m.route.param(\"id\"), 10))}&festivalId=${parseInt(m.route.param(\"id\"), 10)}`)} \n\n\n\t\t\t/>}\n\n\t\t>\n\t\t\t<SearchCard patternChange={patternChange} />\n\n\t\t\t{\n\t\t\t\tartistData({\n\t\t\t\t\tfestivalId: vnode.attrs.festivalId ? vnode.attrs.festivalId : parseInt(m.route.param(\"id\"), 10),\n\t\t\t\t\tuserId: vnode.attrs.userId,\n\t\t\t\t\tsearch: pattern ? {pattern: [pattern], fields: {name: true}} : undefined, \n\t\t\t\t\trecordCount: 10, \n\t\t\t\t\tprefilter: data => !_.includes(removed, data.id)\n\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t//.sort((a, b) => b.time - a.time)\n\t\t\t\t\t.map(data => <ArtistCard \n\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\tfestivalId={vnode.attrs.festivalId ? vnode.attrs.festivalId : parseInt(m.route.param(\"id\"), 10)}\n\t\t\t\t\t\toverlay={'research'}\n\t\t\t\t\t\treviewSubject={(so) => vnode.attrs.popModal('review', {\n\t\t\t\t\t\t\tsubjectObject: so\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>)\n\t\t\t}\n\t\t</FixedCardWidget>\t\n}};\n\nexport default ResearchWidget;","// src/components/modals/DiscussModal.jsx\n//review modals combine rating and comment messages into one modal\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n// change selections\nimport UIButton from '../../components/ui/UIButton.jsx';\n\nimport ActivityCard from '../../components/cards/ActivityCard.jsx';\n\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData'\n\nconst classes = attrs => {return 'ft-modal ' + (attrs.display ? '' : 'hidden');}\nvar selectedId = 0\n\nconst displayComment = me => me.filter(m => m.messageType === 1 || m.messageType === 8)[0]\n\nconst id = ({messageArray}) => {\n\n    const cm = displayComment(messageArray)\n    const c = cm ? cm.id : 0\n    return c\n}\nconst DiscussModal = vnode => {\n    var changeFlag = 1\n    var comment = vnode.attrs.subjectObject.subject ? subjectData.commentBy(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType, vnode.attrs.user) : ''\n    //console.log('new DiscussModal  for ' + name + '@' + rating)\n    var commentId = subjectData.commentId(vnode.attrs.subjectObject.subject, vnode.attrs.subjectObject.subjectType, vnode.attrs.user)\n    var localComment = ''\n    var sub = ''\n\n    const submit = attrs => e => {\n        //console.log('DiscussModal')\n        //console.log(textValue)\n        //console.log(selectedId)\n        //if there is a selected id, return it\n        //if not, create the artist, then return that id\n        attrs.hide()\n        //console.log('Save')\n        //console.log('localRating ' + localRating)\n        //console.log('localComment ' + localComment)\n        const newCommentMessage = localComment\n        const activeMessage = attrs.flag ? attrs.flag : displayComment(attrs.messageArray)\n        const activeId = activeMessage.id\n        if(newCommentMessage) remoteData.Messages.create({\n            fromuser: attrs.user,\n            subject: activeId,\n            subjectType: activeMessage.flagType ? FLAG : MESSAGE,\n            messageType: 8,\n            content: localComment,\n            baseMessage: activeMessage.baseMessage ? activeMessage.baseMessage : \n                activeMessage.flagType ? undefined :\n                activeId\n\n        })\n        if(remoteData.MessagesMonitors.unread(activeId)) remoteData.MessagesMonitors.markRead(activeId)\n        //console.log('newRatingMessage ' + newRatingMessage)\n        //console.log('newCommentMessage ' + newCommentMessage)\n        e.stopPropagation()\n    }\n    return {\n        oncreate: ({dom, attrs}) => {\n            if(!attrs.startText) return\n            dom.querySelector('#discuss').value = attrs.startText\n            localComment = attrs.startText\n\n        },\n    \tview: ({attrs}) => <div class={classes(attrs)}>\n            <div class=\"ft-modal-content\">\n                {attrs.headline ? <h3>{attrs.headline}</h3> : subjectData.name(attrs.subjectObject.subject, attrs.subjectObject.subjectType)}\n                {/* base comment with no discussion overlay */}\n                {attrs.messageArray ? \n\n                    <ActivityCard \n                        messageArray={attrs.messageArray} \n                        discusser={attrs.reviewer}\n                        overlay={'discuss'}\n                        shortDefault={true}\n                    /> : ''}\n                <label for=\"discuss\">Discussion</label>\n                {/* base comment with no discussion overlay */}\n                {/* show each new discussion, and it's immdeiate predeccessor */}\n\n                <textarea \n                    id=\"discuss\" name=\"discuss\"\n                    onchange={e => {\n        //console.log('e.target.value ' + e.target.value)\n        //console.log('localComment ' + localComment)\n                        localComment = e.target.value; \n                    }} \n                    class=\"ft-modal-textarea\"\n                    onkeypress={e => {\n                        if(e.keyCode === 13) return submit(attrs)(e)\n                    }}\n\n                ></textarea>\n\n                <UIButton action={e => {\n                    attrs.hide()\n                    e.stopPropagation()\n                    //console.log('pre rating ' + rating)\n                    //console.log('pre baselineRating ' + baselineRating)\n                    comment = ''\n                    //console.log('post rating ' + rating)\n                    //console.log('post baselineRating ' + baselineRating)\n                    //console.log('cancel')\n                    m.redraw()\n\n                }} buttonName=\"Cancel\" />\n     {           <UIButton action={submit(attrs)} \n                buttonName=\"Save\" />\n            }\n            </div>\n        </div>\n}};\n\nexport default DiscussModal;","// src/components/widgets/canned/ActivityWidget.jsx\n\n//given a list of bands to research, this widget \n//filters out unneded ones, sorts the rest and displays artist cards\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport smartSearch from 'smart-search'\nimport moment from 'dayjs'\n\n// Services\nimport Auth from '../../../services/auth';\nconst auth = Auth;\n\nimport ActivityCard from '../../../components/cards/ActivityCard.jsx';\nimport SearchCard from '../../../components/cards/SearchCard.jsx';\nimport FixedCardWidget from '../FixedCard.jsx';\nimport  DiscussModal from '../../modals/DiscussModal.jsx';\nimport {remoteData} from '../../../store/data';\nimport {subjectData} from '../../../store/subjectData'\n\nconst {Messages: messages} = remoteData\n\nconst artistData = ({festivalId, userId, search, recordCount, prefilter}) => {\n\tconst baseData = remoteData.Festivals.getResearchList(festivalId, userId)\n\t\t.filter(prefilter ? prefilter : x => true)\n\tconst searchMatches = search ? \n\t\tsmartSearch(baseData, search.pattern, search.fields)\n\t\t\t.map(x => x.entry)\n\t : baseData\n\treturn _.take(searchMatches, recordCount)\n}\n\nconst getRecentActivity = (userId, festivalId) => _.take(\n\t_.uniqBy(remoteData.Messages.recentDiscussionEvent(userId,\n\t\t{subject: festivalId, subjectType: FESTIVAL}), \n\t\tv => '' + v.fromuser + '.' + v.messageType  + '.' + v.subjectType + '.' + v.subject)\n\t\t.sort((a, b) => {\n\t\t\tconst am = moment(a.timestamp).utc()\n\t\t\tconst bm = moment(b.timestamp).utc()\n\t\t\treturn bm.diff(am)\n\t\t}\n\t), 5)\nconst baseMessage = me => {\n\tif(!me || !me.id || !me.subject || !me.subjectType) return undefined\n\tif(me.subjectType !== remoteData.Messages.subjectType) return me\n\treturn baseMessage(remoteData.Messages.get(me.subject))\n}\nconst ActivityWidget = vnode => {\n\tconst routeId = parseInt(m.route.param(\"id\"), 10)\n\tlet pattern;\n\tconst patternChange = e => {\n\t\tpattern = e.target.value\n\t\t//console.log('ArtistSearchWidget pattern ' + pattern)\n\t}\n\treturn {\n\t\tview: (vnode) => <FixedCardWidget header=\"Recent Activity\" display={_.isNumber(vnode.attrs.userId) && vnode.attrs.userId > 0}>\n\n\t\t\t{\n\t\t\t\tgetRecentActivity(vnode.attrs.userId, vnode.attrs.festivalId)\n\t\t\t\t/*\n\t\t\t\t\t.filter(x => {\n\t\t\t\t\t\tconsole.log('recent pre', vnode.attrs.userId, vnode.attrs.festivalId, x.id)\n\t\t\t\t\t\treturn x\n\t\t\t\t\t})\n\t\t\t\t\t*/\n\t\t\t\t\t.filter(_.isArray(vnode.attrs.artistIds) ? \n\t\t\t\t\t \tme => vnode.attrs.artistIds.find(aid => {\n\t\t\t\t\t \t\tconst base = baseMessage(me)\n\t\t\t\t\t \t\tif(!base) return false\n\t\t\t\t\t \t\t//console.log('recent', aid, me, base)\n\t\t\t\t\t \t\treturn base.subject === aid && base.subjectType === remoteData.Artists.subjectType\n\t\t\t\t\t \t}) : \n\t\t\t\t\t x => true)\n\t\t\t\t\t/*\n\t\t\t\t\t.filter(x => {\n\t\t\t\t\t\tconsole.log('recent post', x)\n\t\t\t\t\t\treturn x\n\t\t\t\t\t})\n\t\t\t\t\t*/\n\t\t\t\t\t.map(data => <ActivityCard \n\t\t\t\t\t\tmessageArray={[data]} \n\t\t\t\t\t\tdiscusser={data.fromuser}\n\t\t\t\t\t\tuserId={vnode.attrs.userId}\n\t\t\t\t\t\trating={remoteData.Artists.getRating(data.subject, data.fromuser)}\n\t\t\t\t\t\toverlay={'discuss'}\n\t\t\t\t\t\tshortDefault={true}\n\t\t\t\t\t\theadline={subjectData.name(data.subject, data.subjectType)}\n\t\t\t\t\t\theadact={e => {\n\t\t\t\t\t\t\tif(messages.baseSubjectType(data.id) === 2) m.route.set(\"/artists\" + \"/pregame\" + '/' + messages.baseSubject(data.id))\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tpopModal={vnode.attrs.popModal}\n\t\t\t\t\t\tdiscussSubject={(so, me) => vnode.attrs.popModal('discuss', {\n\t\t\t\t\t\t\tmessageArray: me,\n\t\t\t\t\t\t\tsubjectObject: so,\n\t\t\t\t\t\t\treviewer: me[0].fromuser\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>)\n\t\t\t}\n\t\t\t</FixedCardWidget>\t\n}};\n\nexport default ActivityWidget;","// src/components/widgets/canned/ArtistSearchWidget.jsx\n\n//given a list of bands to research, this widget \n//filters out unneded ones, sorts the rest and displays artist cards\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport smartSearch from 'smart-search'\n\nimport SearchCard from '../../../components/cards/SearchCard.jsx';\nimport ArtistCard from '../../../components/cards/ArtistCard.jsx';\nimport FixedCardWidget from '../FixedCard.jsx';\nimport {remoteData} from '../../../store/data';\n\nconst ArtistSearchWidget = vnode => {\n\tlet pattern;\n\tconst patternChange = e => {\n\t\tpattern = e.target.value\n\t\t//console.log('ArtistSearchWidget pattern ' + pattern)\n\t}\n\treturn {\n\t\tview: ({attrs}) => <FixedCardWidget header=\"Artist Search\">\n\t\t\t<SearchCard patternChange={patternChange} />\n\t\t\t{\n\t\t\t\t_.take(smartSearch(remoteData.Artists.getMany(\n\t\t\t\t\tremoteData.Lineups.getFiltered({festival: attrs.festivalId})\n\t\t\t\t\t\t.map(l => l.band)\n\t\t\t\t\t),\n\t\t\t\t\t[pattern], {name: true}\n\t\t\t\t\t), 5)\n\t\t\t\t\t.map(x => x.entry)\n\t\t\t\t\t.map(data => <ArtistCard \n\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\t\t\toverlay={attrs.overlay ? attrs.overlay : 'none'}\n\t\t\t\t\t\treviewSubject={attrs.clickFunctionForData || !attrs.popModal ? undefined : s => attrs.popModal('review', {subjectObject: s})}\n\t\t\t\t\t\tclickFunction={attrs.clickFunctionForData ? attrs.clickFunctionForData(data) : \n\t\t\t\t\t\t\tattrs.clickFunction ? attrs.clickFunction :\n\t\t\t\t\t\t\tundefined}\n\t\t\t\t\t/>)\n\t\t\t}\n\t\t</FixedCardWidget>\t\n}};\n\nexport default ArtistSearchWidget;","// src/components/layout/Research.jsx\n// Services\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport localforage from \"localforage\"\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\"\n})\nimport moment from \"dayjs\"\n\nimport FestivalCard from \"../../components/cards/FestivalCard.jsx\"\nimport WidgetContainer from \"../../components/layout/WidgetContainer.jsx\"\nimport ActivityCard from \"../../components/cards/ActivityCard.jsx\"\nimport BuyButtons from \"../../components/tracts/buy/BuyButtons.jsx\"\nimport ResearchWidget from \"../../components/widgets/canned/ResearchWidget.jsx\"\nimport ActivityWidget from \"../../components/widgets/canned/ActivityWidget.jsx\"\nimport ArtistSearchWidget from \"../../components/widgets/canned/ArtistSearchWidget.jsx\"\nimport EventSelector from \"../detailViewsPregame/fields/event/EventSelector.jsx\"\n\nimport { remoteData } from \"../../store/data\"\nimport { subjectData } from \"../../store/subjectData\"\nimport { seriesChange, festivalChange } from \"../../store/action/event\"\n\nconst series = remoteData.Series\nconst festivals = remoteData.Festivals\n\nvar lastAccess = {}\nconst jsx = {\n\tview: ({ attrs }) => (\n\t\t<div class=\"main-stage\">\n\t\t\t<EventSelector\n\t\t\t\tseriesId={attrs.seriesId}\n\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\tfestivalChange={festivalChange(attrs.seriesId)}\n\t\t\t\tseriesChange={seriesChange}\n\t\t\t/>\n\t\t\t<FestivalCard\n\t\t\t\tseriesId={attrs.seriesId}\n\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\teventId={attrs.festivalId}\n\t\t\t/>\n\t\t\t{//hide buy buttons if\n\t\t\t//user has event access to any subeventattrs.focusSubject(so)\n\n\t\t\tattrs.access ? (\n\t\t\t\t\"\"\n\t\t\t) : (\n\t\t\t\t<BuyButtons\n\t\t\t\t\teventObject={{\n\t\t\t\t\t\tseriesId: attrs.seriesId,\n\t\t\t\t\t\tfestivalId: attrs.festivalId\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<WidgetContainer>\n\t\t\t\t<ResearchWidget\n\t\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t/>\n\t\t\t\t<ActivityWidget\n\t\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t\tartistIds={remoteData.Festivals.reviewedArtistIds(\n\t\t\t\t\t\tattrs.festivalId,\n\t\t\t\t\t\tattrs.userId\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t\t<ArtistSearchWidget\n\t\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\t\toverlay={\"research\"}\n\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t/>\n\t\t\t</WidgetContainer>\n\t\t</div>\n\t)\n}\nconst Research = {\n\tname: \"Research\",\n\tpreload: rParams => {\n\t\t//if a promise returned, instantiation of component held for completion\n\t\t//route may not be resolved; use rParams and not m.route.param\n\t\tconst seriesId = parseInt(rParams.seriesId, 10)\n\t\tconst festivalId = parseInt(rParams.festivalId, 10)\n\t\t//console.log(\"Research preload\", seriesId, festivalId, rParams)\n\t\tconst id = festivalId ? festivalId : seriesId\n\t\tconst type = festivalId ? FESTIVAL : SERIES\n\t\tconst so = { subjectType: type, subject: id }\n\t\treturn (festivalId\n\t\t\t? festivals.subjectDetails(so)\n\t\t\t: seriesId && !festivalId\n\t\t\t? series.subjectDetails(so)\n\t\t\t: Promise.resolve(true)\n\t\t).catch(console.error)\n\t},\n\toninit: ({ attrs }) => {\n\t\t//console.log('Research init', attrs.seriesId, attrs.festivalId)\n\t\tif (attrs.titleSet) attrs.titleSet(`Research`)\n\t\tattrs.eventSet(\"\")\n\t\tconst seriesId = parseInt(m.route.param(\"seriesId\"), 10)\n\t\tconst festivalId = parseInt(m.route.param(\"festivalId\"), 10)\n\t\tconst endMoment = festivals.getEndMoment(festivalId)\n\t\tconst id = festivalId ? festivalId : seriesId\n\t\tconst type = festivalId ? FESTIVAL : SERIES\n\t\tconst so = { subjectType: type, subject: id }\n\t\tconst key = JSON.stringify(so)\n\t\treturn (\n\t\t\ttype === FESTIVAL &&\n\t\t\tattrs.auth\n\t\t\t\t.getGttDecoded(so)\n\t\t\t\t//.then(baseAccess => console.log('baseAccess', baseAccess) || baseAccess)\n\t\t\t\t.then(decoded => !festivals.sellAccess(festivalId, decoded))\n\t\t\t\t//.then(accessible => accessible ? 'hasAccess' : 'noAccess')\n\t\t\t\t.then(access => {\n\t\t\t\t\t_.set(lastAccess, key, access)\n\t\t\t\t})\n\t\t\t\t.catch(console.error)\n\t\t)\n\t},\n\tview: ({ attrs }) => {\n\t\tconst seriesId = parseInt(m.route.param(\"seriesId\"), 10)\n\t\tconst festivalId = parseInt(m.route.param(\"festivalId\"), 10)\n\t\tconst endMoment = festivals.getEndMoment(festivalId)\n\t\tconst id = festivalId ? festivalId : seriesId\n\t\tconst type = festivalId ? FESTIVAL : SERIES\n\t\tconst so = { subjectType: type, subject: id }\n\t\tconst key = JSON.stringify(so)\n\t\tconst access = _.get(lastAccess, key, false)\n\t\t//console.log('Research view', access)\n\t\tconst mapping = {\n\t\t\tuserId: attrs.userId,\n\t\t\tuserRoles: attrs.userRoles,\n\t\t\tpopModal: attrs.popModal,\n\t\t\tfestivalId: festivalId,\n\t\t\tseriesId: seriesId,\n\t\t\taccess: access\n\n\t\t\t//sets: activeDateSets\n\t\t}\n\t\treturn m(jsx, mapping)\n\t}\n}\nexport default Research\n","// src/components/cards/CenterMenuCard.jsx\n\nimport m from 'mithril'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx'\n\nconst CenterMenuCard = {\n  view: ({ attrs }) =>\n    <div class=\"ft-card-large\" onclick={attrs.action}>\n      <div class=\"ft-fields\">\n        <ComposedNameField fieldValue={attrs.fieldValue} />\n      </div>\n    </div>\n}\n\nexport default CenterMenuCard","// MessageCategoryPane.jsx\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n\nimport CenterMenuCard from '../cards/CenterMenuCard.jsx';\nimport WidgetContainer from '../layout/WidgetContainer.jsx';\n\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData';\n\n\n\nconst MessageCategoryPane = {\n\t\n\t\tview: ({attrs}) => <div class=\"ft-vertical-fields\">\n\t\t\t\t<CenterMenuCard fieldValue=\"unread\" action={e => m.route.set(`/messages/unread`)} />\n\t\t\t\t<CenterMenuCard fieldValue=\"my recent messages\" action={e => m.route.set(`/messages/userRecent`)} />\n\t\t\t\t<CenterMenuCard fieldValue=\"flags\" action={e => m.route.set(`/messages/flags`)} />\n\t\t</div>\n}\n\nexport default MessageCategoryPane;\n","// messageArrayFunctions.js\nimport m from 'mithril'\nimport _ from 'lodash'\n\nconst displayRating = me => {\n    \n    const rm = me.filter(m => m.messageType === 2)\n    const r = rm.length ? rm[0] : 0\n    return r\n}\n\nexport const baseMessage = me => me.find(m => m.subjectType !== MESSAGE)\nconst getReplies = (m, messageArray) => messageArray\n\t.filter(possibleReply => possibleReply.subject === m.id)\n\n//an array of messages that are not replied to\nconst getUnreplied = messageArray => messageArray\n\t.filter((m, i, arr) => !_.some(arr, el => el.subject === m.id))\n\n//an array of messages that the replyArray is replying to\nconst getRepliedTo = (replyArray, replyToArrayPossible) => replyToArrayPossible\n\t.filter((m, i, arr) => _.some(replyArray, reply => reply.subject === m.id))\n\n\nconst getEnds = assocObject => _.keys(assocObject).map(k => {\n\t\tif(assocObject[k].id) return [assocObject[k].id]\n\t\treturn getEnds(assocObject[k])\n\n\t})\n\t//flatten the array one level\n\t.reduce((prev, cur) => prev.concat(cur), [])\n\nconst replaceEnd = (newEnd, assocObject, replaceKey) => {\n\tconst keys = _.keys(assocObject)\n\t//if our target key is at this level of assocObject\n\tif(keys.indexOf(replaceKey) > -1) {\n\t\tassocObject[replaceKey] = newEnd\n\t\treturn assocObject\n\t}\n\t//const check for additional depth\n\tconst deeperKeys = keys.filter(k => !assocObject[k].id)\n\tconst replacedAssocObject = deeperKeys.reduce((assObject, key) => {\n\t\tassObject[key] = replaceEnd(newEnd, assObject[key], replaceKey)\n\t\treturn assObject\n\t}, assocObject)\n\t//console.log('messageArrayFunctions replaceEnd')\n\t//console.log(replaceKey)\n\t//console.log(keys)\n\t//console.log(deeperKeys)\n\t//console.log(assocObject)\n\t//console.log(replacedAssocObject)\n\n\treturn replacedAssocObject\n\n}\n\n//an array of objects for each message in the replyToArray\nconst makeReplyAssocObjects = (replyArray, assocObject) => {\n\tif(!replyArray.length) return assocObject\n\t//find repliable ids in the assocObject\n\tconst repliableIds = getEnds(assocObject)\n\t//get the items in the replyArray that are replying to repliableIds\n\tconst attachableReplies = replyArray\n\t\t.filter(m => repliableIds.indexOf(m.subject) > -1)\n\t//console.log('messageArrayFunctions makeReplyAssocObjects2a')\n\t//console.log(repliableIds)\n\t//console.log(attachableReplies)\n\n\t//if there are no attachable replies, process is complete\n\tif(!attachableReplies.length) return assocObject\n\n\t//convert attachble replies to assoc Objects\n\tconst assocEnds = attachableReplies\n\t\t.map(function (m) { \n\t\t\tconst assoc = {}\n\t\t\tassoc['' + m.id] = m\n\t//console.log('messageArrayFunctions assocEnds')\n\t//console.log(assoc)\n\t\t\treturn assoc\n\t\t})\n\t//console.log('messageArrayFunctions makeReplyAssocObjects2a')\n\t//console.log(_.keys(assocEnds[0]))\n\n\tconst idsWithReplies = _.uniq(attachableReplies\n\t\t.map(m => m.subject))\n\n\tconst replyAssocObjects = idsWithReplies\n\t\t.map(function(id) {\n\t\t\tconst baseObject = assocEnds\n\t\t\t\t.filter(endAssoc => endAssoc[_.keys(endAssoc)[0]].subject === id)\n\t\t\t\t.reduce(function(assoc, endAssoc) {\n\t\t\t\t\tconst replyId = endAssoc[_.keys(endAssoc)[0]].subject\n\t\t//console.log('messageArrayFunctions makeReplyAssocObjects2b')\n\t\t//console.log(replyId)\n\t\t//console.log(assoc)\n\t\t\t\t\tif(!assoc[replyId]) {\n\t\t\t\t\t\tassoc[replyId] = endAssoc\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_.assign(assoc[replyId], endAssoc)\n\t\t\t\t\t}\n\t\t//console.log(assoc)\n\t\t\t\t\treturn assoc\n\t\t\t\t}, {})\n\t\t\treturn baseObject\n\t\t})\n\n\tconst replacedAssocObject = replyAssocObjects\n\t\t.reduce((finalAssocObject, replyAssocObject) => {\n\t\t\tconst replyKey = _.keys(replyAssocObject)[0]\n\t\t\t//console.log('messageArrayFunctions makeReplyAssocObjects2 reduce')\n\t\t\t//console.log(replyKey)\n\t\t\tconst replacedObject = replaceEnd(replyAssocObject[replyKey], finalAssocObject, replyKey)\n\t\t\treturn replacedObject\n\t\t}, assocObject)\n\n\tconst remainingReplies = replyArray\n\t\t.filter(m => repliableIds.indexOf(m.subject) < 0)\n\n\t//console.log('messageArrayFunctions makeReplyAssocObjects2b')\n\t\n\n\n\n\t//console.log('messageArrayFunctions makeReplyAssocObjects2')\n\t//console.log(repliableIds)\n\t//console.log(_.keys(assocEnds[0]))\n\t//console.log(attachableReplies)\n\t//console.log(assocEnds)\n\t//console.log(idsWithReplies)\n\t//console.log(replyAssocObjects)\n\t//console.log(replacedAssocObject)\n\t//console.log(remainingReplies)\n\n\treturn makeReplyAssocObjects(remainingReplies, replacedAssocObject)\n}\n\n\nexport const buildTree = (me, discussion) => {\n\t//console.log('messageArrayFunctions buildTree me discussion', me, discussion)\n\tconst base = baseMessage(me)\n\tif(!base) return {}\n\n\t//arrange discussionMessages into a tree object\n\tconst unreplied = getUnreplied(discussion)\n\tconst replied = getRepliedTo(unreplied, discussion)\n\t\t.concat(unreplied.length ? [base] : [])\n\tconst startObject = base.subjectType !== FLAG ? { [`${base.id}`]: base} : (\n\t\tme.filter(m => m.subjectType === FLAG).reduce((so, m) => _.set(so, `${m.id}`, m), {})\n\t)\n\tconst assocObject = makeReplyAssocObjects(discussion, startObject)\n\t//const assocObject = discussion.reduce((pv, cv))\n\t//console.log('messageArrayFunctions buildTree', base, discussion, unreplied, replied, assocObject)\n\n\t\t//first level: the baseMessage\n\treturn assocObject\n\n}\n\nexport const mapActivities = (loadSubjectObject, messages, ActivityCard, userId) => function recurse(obj, spacers = 1, divs = [], id = 0) {\n\tlet updatedDivs = divs\n\tlet updatesSpacers = spacers\n\tconst message = messages.get(id)\n\t//console.log('messageArrayFunctions mapActivities', obj, spacers, message)\n\t//object end: the current object is a message\n\tif(obj.fromuser && obj.subjectType === MESSAGE) {\n\t//console.log('messageArrayFunctions mapActivities prep end div')\n\t\tlet spacerArr = []\n\t\tfor(var i=1;i<=spacers;i++) {\n\t\t\tspacerArr.push(m('.spacer'))\n\t\t}\n\t\tconst newDiv = m(\".ft-horizontal-fields\",\n\t\t\tspacerArr,\n\t\t\tm(ActivityCard, {\n\t\t\t\tmessageArray: [obj] ,\n\t\t\t\tdiscusser: obj.fromuser,\n\t\t\t\toverlay: 'discuss',\n\t\t\t\tdiscussSubject: loadSubjectObject,\n\t\t\t\tuserId: userId\n\t\t\t})\n\t\t)\n\t//console.log('messageArrayFunctions mapActivities push end div')\n\t\tupdatedDivs = divs.concat([newDiv])\n\t\tupdatesSpacers++\n\t}\n\t//not object end: increase spacer count, and mapActivities for all values\n\t//the baseMessage is handled separately, so include only replies\n\telse if(message && [MESSAGE, FLAG].includes(message.subjectType))  {\n\t//console.log('messageArrayFunctions mapActivities prep mid div')\n\t\tlet spacerArr = []\n\t\tfor(var i=1;i<=spacers;i++) {\n\t\t\tspacerArr.push(m('.spacer'))\n\t\t}\n\t//console.log('messageArrayFunctions mapActivities mid div')\n\t//console.log(id)\n\t//console.log(id + 123456)\n\t//console.log(message)\n\t\tconst newDiv = m(\".ft-horizontal-fields\",\n\t\t\t\t\tspacerArr,\n\t\t\t\t\tm(ActivityCard, {\n\t\t\t\t\t\tmessageArray: [message],\n\t\t\t\t\t\tdiscusser: message.fromuser,\n\t\t\t\t\t\toverlay: 'discuss',\n\t\t\t\t\t\tdiscussSubject: loadSubjectObject,\n\t\t\t\t\t\tuserId: userId\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t)\n\t\t\t\t)\n\t//console.log('messageArrayFunctions mapActivities push mid div')\n\t\t//only messages that are replies are shown this way\n\t\tupdatedDivs = divs.concat([newDiv])\n\t\tupdatesSpacers++\n\t}\n\t\n\tconst objKeys = _.keys(obj).map(k => parseInt(k, 10))\n\t\n\t//console.log('messageArrayFunctions mapActivities')\n\t//if(!obj.fromuser) console.log(objKeys)\n\t//\telse console.log(obj)\n\t//console.log(updatedDivs)\n\t\n\t//console.log(spacers)\n\tif(!objKeys.length || obj.fromuser) return updatedDivs\n\treturn objKeys.map(k => recurse(obj[k], updatesSpacers, updatedDivs, k))\n\n}","// src/components/cards/SubjectReviewCard.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx';\nimport  NameField from '../fields/NameField.jsx';\nimport  AverageRatingField from '../fields/AverageRatingField.jsx';\nimport Icon from '../fields/Icon.jsx'\nimport  UserAvatarField from '../fields/UserAvatarField.jsx';\nimport  DiscussOverlay from '../cardOverlays/DiscussOverlay.jsx'\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData'\n\nconst defaultClick = attrs => () => 0\n\nconst year = attrs => attrs.messageArray.reduce((y, m) => {\n        const mYear = parseInt(_.join(_.take(m.timestamp, 4), ''), 10)\n        const retVal = typeof mYear === 'number' && mYear > y ? mYear : y\n        return retVal\n    }, 2000)\n\nconst rating = attrs => {\n    if(attrs.rating) return attrs.rating\n\n    const rm = attrs.messageArray.find(m => m.messageType === 2)\n    const r = rm ? rm.content : \n      subjectData.ratingBy(_.get(attrs.messageArray.find(m => m.messageType === 1), 'subject'), _.get(attrs.messageArray.find(m => m.messageType === 1), 'subjectType'), attrs.reviewer) || \n      attrs.messageArray.some(m => m.messageType === 1) && remoteData.Messages.maintainList({where: {and: [\n        {messageType: RATING}, \n        {fromuser: attrs.reviewer},\n        {subjectType: attrs.messageArray.find(m => m.messageType === 1).subjectType},\n        {subject: attrs.messageArray.find(m => m.messageType === 1).subject}\n        ]}})\n    return r\n}\n\nconst comment = attrs => attrs.messageArray.find(m => m.messageType === 1)\n\nconst classes = ({messageArray, userId, reviewer}) => {\n  const reviewMessage = messageArray.find(m => m.messageType === 1)\n  const reviewId = _.get(reviewMessage, 'id')\n  const ownReview = reviewer === userId\n  const reviewUnread = reviewId && !ownReview && remoteData.MessagesMonitors.unread(reviewId)\n\n  return `ft-card-large ft-subject-review-card ${\n    ownReview ? 'ft-own-content' :\n    !reviewUnread ? 'ft-already-read' :\n  '' }`\n} \n\nconst readAlready = attrs => !attrs.userId || (attrs.reviewer === attrs.userId || !remoteData.MessagesMonitors.unread(_.get(attrs.messageArray.find(m => m.messageType === 1), 'id')))\nconst markRead = attrs => <div class=\"ft-quarter ft-close-click\" onclick={e => {\n    //console.log('ft-quarter click', attrs.reviewer, attrs.userId, _.get(comment(attrs), 'id')) \n    //console.log('MessagesMonitors length ' + remoteData.MessagesMonitors.list.length)\n    if(attrs.userId && attrs.reviewer !== attrs.userId && _.get(comment(attrs), 'id')) remoteData.MessagesMonitors.markRead(_.get(comment(attrs), 'id'))\n    e.stopPropagation()\n  }}>\n  <Icon name=\"cancel-circle\" />\n</div>\nconst deleteOwn = attrs => <div class=\"ft-fifty-button ft-close-click\" onclick={e => {\n    //console.log('ft-quarter click', attrs.reviewer, attrs.userId, _.get(comment(attrs), 'id')) \n    //console.log('MessagesMonitors length ' + remoteData.MessagesMonitors.list.length)\n    remoteData.Messages.delete(_.get(comment(attrs), 'id'))\n    e.stopPropagation()\n  }}>\n  <Icon name=\"bin2\"/>\n</div>\nconst SubjectReviewCard = vnode => {\n  var showLong = false\n  \n  return {\n    view: ({ attrs }) =>\n      <div class={classes(attrs)} onclick={attrs.clickFunction ? attrs.clickFunction : defaultClick(attrs)}>\n      \n        <div class=\"ft-vertical-fields-100-width\">\n        <div class=\"ft-card-above-overlay\">\n            { readAlready(attrs) ? '' : markRead(attrs)}\n            { attrs.reviewer === attrs.userId ? deleteOwn(attrs) : ''}\n        </div>\n      <div class=\"ft-horizontal-fields\">\n      \n        <div class=\"ft-vertical-fields\" onclick={e => {\n            //console.log('span click', attrs.reviewer); \n            e.stopPropagation(); \n            m.route.set(`/users/pregame/${attrs.reviewer}`)\n          }}>\n          <UserAvatarField data={attrs.reviewer} itemClicked={() => {}} userId={attrs.userId} />\n          <AverageRatingField averageRating={rating(attrs)} />\n          <span>{year(attrs)}</span>\n        </div>\n\n      <div class=\"ft-horizontal-fields c44-fg1\">\n      {attrs.overlay === 'discuss' && attrs.discussSubject && attrs.messageArray ? <DiscussOverlay \n        discussSubject={attrs.discussSubject}\n        messageArray={attrs.messageArray}\n      /> : ''}\n          <span onclick={e => {\n            //console.log('span click'); \n            e.stopPropagation(); \n            if(showLong) return \n            showLong = true; \n          }}>\n            {!attrs.shortDefault || showLong || !comment(attrs) ? _.get(comment(attrs), 'content', '') : _.get(comment(attrs), 'content', '').substring(0, 50) + '...(+expand)'}\n          </span>\n          </div>\n      </div>\n      </div>\n      </div>\n    \n}};\n\nexport default SubjectReviewCard;","// src/components/fields/CheckedInUsersField.jsx\n//attrs: userId\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport {subjectData} from '../../store/subjectData';\n\nimport {so} from '../../services/subjectFunctions';\nimport Icon from '../fields/Icon.jsx'\nconst makeUserSo = so('USER')\n\nconst allUsers = subjectObject => subjectData.users(subjectObject)\n\nconst currentUsers = subjectObject => !subjectData.active(subjectObject) ? [] : allUsers(subjectObject)\n\t.filter(u => subjectData.checkedIn(makeUserSo(u), {eventType: subjectObject.subjectType}) === subjectObject.subject)\n\n\nconst formerUsers = subjectObject => allUsers(subjectObject)\n\t.filter(u => subjectData.checkedIn(makeUserSo(u), {eventType: subjectObject.subjectType}) !== subjectObject.subject)\n\n\nconst CheckedInUsersField = vnode => {\n\treturn {\n\t\tview: ({ attrs }) => <div class=\"ft-horizontal-fields ft-fb-fg4\">\n\n\t\t\t{/* checked in users on left */\n\t\t\t\tcurrentUsers(attrs.subjectObject)\n\t\t\t\t\t//.filter(x => console.log('CheckedInUsersField currentUsers', x) || true)\n\t\t\t.map(u => <Icon name=\"user\" class=\"ft-als-l\"/>)\n\t\t\t}\n\t\t\t{/* checked out users on right */\n\t\t\t\tformerUsers(attrs.subjectObject)\n\t\t\t\t\t//.filter(x => console.log('CheckedInUsersField formerUsers', x) || true)\n\t\t\t.map(u => <Icon name=\"user\" class=\"ft-als-r\"/>)\n\t\t\t}\n        </div>\n}} ;\n\nexport default CheckedInUsersField;","// src/components/cards/PlaceCard.jsx\n\nimport m from 'mithril'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx';\nimport  CheckedInUsersField from '../fields/CheckedInUsersField.jsx';\nimport {remoteData} from '../../store/data'\n\nconst {Sets: sets, Places: places} = remoteData\nconst jsx = {\n  view: ({ attrs }) =>\n    <div \n    \tclass={\"ft-card ft-card-place \" + (attrs.uiClass ? attrs.uiClass : '')} \n    \tonclick={() => attrs.setId && m.route.set(`/gametime/:subjectType/:subject`, {subject: attrs.setId, subjectType: SET})}\n    >\n\n\t\t\t{/*console.log('PlaceCard subjectObject', attrs.subjectObject)*/}\n      <div class=\"ft-fields\">\n    \t<ComposedNameField fieldValue={places.getName(attrs.subjectObject.subject)} />\n        <ComposedNameField fieldValue={attrs.setText} />\n    {/* set name if active, otherwise show next up if there is another set this day, otherwise show last played */}\n\n    </div>\n        <div class=\"ft-set-diff-fields\">\n        \t<CheckedInUsersField subjectObject={attrs.subjectObject} />\n      \t\t<ComposedNameField fieldValue={attrs.setTimeText} />\n{/* time left in set/time until start/time since end */}\n    \t</div>\n    </div>\n\n}\nconst PlaceCard = {\n  view: ({ attrs }) => {\n  \tconst set = sets.getFiltered({stage: attrs.subjectObject.subject, day: attrs.dayId})\n  \t\t.find(s => sets.active(s.id))\n  \tconsole.log('PlaceCard', set)\n  \tconst mapping = {\n  \t\tuiClass: attrs.uiClass,\n  \t\tsubjectObject: attrs.subjectObject,\n  \t\tdayId: attrs.dayId,\n  \t\tsetId: set ? set.id : 0,\n  \t\tsetText: set ? sets.getEventName(set.id) : '',\n  \t\tsetTimeText: set ? sets.getTimeString(set.id) : ''\n  \t}\n  \treturn m(jsx, mapping)\n  }\n}\nexport default PlaceCard;\n\n","// src/components/fields/StageNameField.jsx\n//attrs: stageId\n\nimport m from 'mithril'\n//import _ from 'lodash'\n\nimport {remoteData} from '../../store/data';\n\nconst getStageName = id => {\n\tconst stage = remoteData.Places.get(id)\n\tif(!stage) return ''\n\treturn stage.name\n}\n\nconst StageNameField = {\n\tview: ({ attrs }) =>\n\t\t<span class=\"ft-name-field\">\n\t\t\t{(getStageName(attrs.stageId))}\n\t\t\t\n\t\t\n\t\t\n\t\t</span >\n};\n\nexport default StageNameField;","// src/components/cards/SetCard.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\n\nimport  CheckedInUsersField from '../fields/CheckedInUsersField.jsx';\nimport  NameField from '../fields/NameField.jsx';\nimport  StageNameField from '../fields/StageNameField.jsx';\nimport  AverageRatingField from '../fields/AverageRatingField.jsx';\nimport {subjectData} from '../../store/subjectData.js';\nimport {remoteData} from '../../store/data.js';\n\nconst {Sets: sets} = remoteData\n\nconst currentSet = id => sets.get(id)\nconst setIdField = (field, id) => currentSet(id) ? currentSet(id)[field] : 0\n\nvar detailsLoaded = {} \n\nconst SetCard = {\n  oninit: (vnode) => {\n    const id = vnode.attrs.subjectObject.subject\n    return sets.subjectDetails(vnode.attrs.subjectObject)\n      .then(upd => detailsLoaded[id] = true)\n  },\n  view: ({ attrs }) =>\n    <div class={\"ft-card ft-card-set \" + (attrs.uiClass ? attrs.uiClass : '')} onclick={() => m.route.set('/gametime/3/' + attrs.subjectObject.subject)}>\n      {!detailsLoaded[attrs.subjectObject.subject] ? '' : <div>\n      <div class=\"ft-set-name-fields\">\n       {\n        //console.log('SetCard', attrs, detailsLoaded)\n     }\n      <NameField fieldValue={subjectData.name(attrs.subjectObject)} />\n      <AverageRatingField ratingObject={subjectData.ratingObject(attrs.subjectObject, attrs.userID)}/>\n      </div>\n      <div class=\"ft-set-diff-fields\">\n          <CheckedInUsersField subjectObject={attrs.subjectObject} />\n        <NameField fieldValue={moment(sets.getStartMoment(attrs.subjectObject.subject)).fromNow()} />\n        <NameField fieldValue={sets.getTimeString(attrs.subjectObject.subject)} />\n          {/*\n      */}\n        <StageNameField stageId={setIdField('stage', attrs.subjectObject.subject)} />\n\n      </div>\n      </div>}\n    </div>\n};\n\nexport default SetCard;\n","// src/componenets/cardOverlays/AdminOverlay.jsx\n\nimport m from 'mithril'\n\nimport {remoteData} from '../../store/data';\nimport DiscussButton from './fifty/DiscussButton.jsx'\nimport FiftyButton from './fifty/FiftyButton.jsx'\nimport Icon from '../fields/Icon.jsx'\n\n\nconst opened = {\n  prompt: 'Initial Response',\n  icon: <span class=\"fa-layers fa-2x fa-fw ft-icon-stack\">\n    <Icon name=\"flag\" />\n    <Icon name=\"eye\"\n      classes=\"ft-icon-stack-lower-right\" \n      \n      \n    />\n  </span>\n\n}\nconst review = {\n  prompt: 'Report Action',\n  icon: <span class=\"fa-layers fa-2x fa-fw ft-icon-stack\">\n    <Icon name=\"flag\" />\n    <Icon name=\"comment\"\n      classes=\"ft-icon-stack-lower-right\" \n      \n      \n    />\n  </span>\n}\nconst responded = (popModal, flag, discussFlag) => {return {\n  prompt: 'Accept Response',\n  icon: <span class=\"fa-layers fa-2x fa-fw ft-icon-stack\">\n    <Icon name=\"flag\" />\n    <Icon name=\"checkmark\"\n      classes=\"ft-icon-stack-lower-right\" \n      \n      \n    />\n  </span>,\n  actionText: 'Accept this response',\n  cancelText: 'Discuss this response',\n  cancelAction: text => {\n    remoteData.Flags.advance('d1scussion', flag.id)\n      .catch(console.error)\n    popModal('discuss', {\n      headline: `Discuss Flag ${flag.id}`,\n      subjectObject: {subject: flag.id, subjectType: FLAG},\n      startText: text,\n      flag: flag\n    })\n  } ,\n  textInsert: flag.response\n}}\nconst responseUpdate = {\n  prompt: 'Update Response',\n  icon: <span class=\"fa-layers fa-2x fa-fw ft-icon-stack\">\n    <Icon name=\"flag\" />\n    <Icon name=\"checkbox-checked\"\n      classes=\"ft-icon-stack-lower-right\" \n      \n      \n    />\n  </span>\n}\nconst close = {\n  prompt: 'Close',\n  icon: <span class=\"fa-layers fa-2x fa-fw ft-icon-stack\">\n    <Icon name=\"flag\" />\n    <Icon name=\"exit\"\n      classes=\"ft-icon-stack-lower-right\" \n      \n      \n    />\n  </span>\n}\nconst objectedClose = {\n  prompt: 'Close',\n  icon: <span class=\"fa-layers fa-2x fa-fw ft-icon-stack\">\n    <Icon name=\"flag\" />\n    <Icon name=\"exit\"\n      classes=\"ft-icon-stack-lower-right\" \n      \n      \n    />\n  </span>\n}\n\n\nconst nextStatus = ({flag, asAdmin, popModal, discussFlag}) => flag.status === 1 ? opened :\n  flag.status === 2 ? review :\n  flag.status === 3 ? responded(popModal, flag, discussFlag) :\n  flag.status === 5 && asAdmin ? responseUpdate :\n  close\n\nconst AdminOverlay = {\n\t//oninit: ({attrs}) => console.log('AdminOverlay init', attrs),\n  view: ({ attrs }) => <div class=\"ft-card-overlay\" onclick={attrs.fallbackClick}>\n    { attrs.flag.status === 5 ? <DiscussButton \n      subjectType={FLAG} \n      subject={attrs.flag.id}\n      discussSubject={attrs.discussFlag}\n    /> : '' }\n    {[\n      opened, review, responded(attrs.popModal, attrs.flag, attrs.discussFlag), responseUpdate, close\n    ]\n      .filter((x, i) => i === 0 && attrs.flag.status === 1 && attrs.asAdmin ||\n        i === 1 && attrs.flag.status === 2 && attrs.asAdmin ||\n        i === 2 && attrs.flag.status === 3 && attrs.asUser ||\n        i === 3 && attrs.flag.status === 5 && attrs.asAdmin ||\n        i === 4 && attrs.flag.status === 5 && (attrs.asAdmin || attrs.asUser)\n\n      )\n      .map(button => <FiftyButton\n      clickFunction={e => {\n        attrs.popModal('text', {\n          prompt: button.prompt,\n          actionText: button.actionText ? button.actionText : 'Save',\n          cancelText: button.cancelText ? button.cancelText : 'Cancel',\n          action: button.action ? button.action(attrs.flag.id) : text => remoteData.Flags.advance(text, attrs.flag.id),\n          cancelAction: button.cancelAction ? button.cancelAction : undefined,\n          textInsert: button.textInsert ? button.textInsert : undefined\n        })\n        e.stopPropagation()\n      }} >\n        \n        {button.icon}\n    </FiftyButton>)\n\n}\n    \n  </div>\n    \n};\n\nexport default AdminOverlay;","// src/components/cards/FlagCard.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx';\nimport  NameField from '../fields/NameField.jsx';\nimport  AverageRatingField from '../fields/AverageRatingField.jsx';\nimport  UserAvatarField from '../fields/UserAvatarField.jsx';\nimport  AdminOverlay from '../cardOverlays/AdminOverlay.jsx'\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData'\n\nconst defaultClick = attrs => () => 0\n\nconst status = [\n  'N/A',\n  'Opened',\n  'Review',\n  'Responded',\n  'Closed',\n  'Discussion',\n  'Closed Over Objection'\n]\n\nconst comment = attrs => attrs.messageArray.find(m => m.messageType === 1)\n\nconst FlagCard = vnode => {\n  var showLong = false\n  \n  \n  return {\n    view: ({ attrs }) =>\n      <div class=\"ft-card-large\" onclick={attrs.clickFunction ? attrs.clickFunction : defaultClick(attrs)}>\n      {attrs.discussFlag ? <AdminOverlay \n        discussFlag={attrs.discussFlag}\n        asAdmin={attrs.asAdmin}\n        asUser={attrs.asUser}\n        flag={attrs.flag}\n        popModal={attrs.popModal}\n      /> : ''}\n        <div class=\"ft-vertical-fields\">\n        {\n          //console.log(`FlagCard attrs`, attrs)\n        }\n          <UserAvatarField data={attrs.flag.fromuser} userId={attrs.userId} />\n          <span>{moment(attrs.flag.timestamp).utc().fromNow()}</span>\n          <span>{status[attrs.flag.status]}</span>\n        </div>\n          <div class=\"ft-flag-subject\">\n            {subjectData.subjectDataField(attrs.flag.subjectType)}:{attrs.flag.subject}\n          </div>\n          <div class=\"ft-flag-content\">\n            {attrs.flag.content}\n          </div>\n          <div class=\"ft-flag-response\">\n            {attrs.flag.response}\n          </div>\n      </div>\n    \n}};\n\nexport default FlagCard;","// src/components/fields/buttons/QuarterButton.jsx\n\nimport m from 'mithril'\n\n\nconst QuarterButton = vnode => { \n\treturn {\n\t  view: ({ attrs, children }) =>\n\t    <div class=\"ft-quarter-button\" onclick={attrs.clickFunction} >\n\t      {children}\n\t    </div>\n}}\n\nexport default QuarterButton","// src/components/fields/AttributionField.jsx\n\nimport m from 'mithril'\nimport QuarterButton from './buttons/QuarterButton.jsx'\nimport Icon from './Icon.jsx'\n\nimport {remoteData} from '../../store/data'\n\nconst AttributionField = vnode => {\n\tvar attrAr = []\n\t//[title, sourceUrl, author, license, licenseUrl]\n\treturn {\n\t\toninit: ({ attrs }) => attrAr = remoteData.Images.getAttributionAr(attrs.imageId),\n\t\tview: ({ attrs }) => <span class=\"ft-image-attribution\">\n\t\t\t<a href={attrAr[1]} target=\"blank\">{attrAr[0]} by {attrAr[2]}</a>\n\t\t\t //  \n\t\t\t<a href={attrAr[4]} target=\"blank\">{attrAr[3]}</a>\n\t\t\t{ attrs.hideFlag ? '' : <QuarterButton clickFunction={e => {\n\t\t\t\t//console.log('flag click imageId', attrs.imageId)\n\t\t\t\tattrs.popModal('flag', {\n\t\t\t\t\timage: remoteData.Images.get(attrs.imageId),\n\t\t\t\t\tsubject: attrs.imageId,\n\t\t\t\t\tsubjectType: IMAGE\n\t\t\t\t})\n\t\t\t}} ><Icon name=\"flag\" /></QuarterButton> }\n\t\t</span>\n}};\n\nexport default AttributionField;","// src/components/ui/NavButton.jsx\n\nimport m from 'mithril'\n\nconst NavButton = {\n\tview: ({ attrs }) =>\n\t\t<button type=\"button\" onclick={attrs.action}>\n\t\t\t{attrs.fieldValue}\n\t\t</button>\n};\n\nexport default NavButton;","// src/components/modals/ImageModal.jsx\n// src/components/modals\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n\nimport { remoteData } from \"../../store/data\"\nimport { subjectData } from \"../../store/subjectData\"\n\n// change selections\nimport UIButton from \"../ui/UIButton.jsx\"\nimport CloudinaryUploadWidget from \"../widgets/CloudinaryUpload.jsx\"\n\nconst { Images: images } = remoteData\n\nconst classes = attrs => \"ft-modal \" + (attrs.display ? \"\" : \"hidden\")\nvar _widgetExists = false\nvar _title = \"\"\nvar _author = \"\"\nvar _sourceUrl = \"\"\nvar _license = \"\"\nvar _licenseUrl = \"\"\nvar _licenses = []\n\nconst jsx = function({ attrs }) {\n\tfunction widgetExists(state) {\n\t\tif (_.isUndefined(state)) return _widgetExists\n\t\treturn (_widgetExists = state)\n\t}\n\tfunction license(state) {\n\t\tif (_.isUndefined(state)) return _license || attrs.license\n\t\treturn (_license = state)\n\t}\n\tfunction licenseUrl(state) {\n\t\tif (_.isUndefined(state)) return _licenseUrl || attrs.licenseUrl\n\t\treturn (_licenseUrl = state)\n\t}\n\tfunction title(state) {\n\t\tif (_.isUndefined(state)) return _title || attrs.title\n\t\treturn (_title = state)\n\t}\n\tfunction author(state) {\n\t\tif (_.isUndefined(state)) return _author || attrs.author\n\t\treturn (_author = state)\n\t}\n\tfunction sourceUrl(state) {\n\t\tif (_.isUndefined(state)) return _sourceUrl || attrs.sourceUrl\n\t\treturn (_sourceUrl = state)\n\t}\n\tfunction validated() {\n\t\treturn title() && author() && sourceUrl() && license() && licenseUrl()\n\t}\n\treturn {\n\t\tview: ({ attrs }) => (\n\t\t\t<div class={classes(attrs)}>\n\t\t\t\t<div class=\"ft-modal-content\">\n\t\t\t\t\t<h1>Add {attrs.subjectName} Image</h1>\n\t\t\t\t\t<div>Image Title</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonchange={e => {\n\t\t\t\t\t\t\ttitle(e.target.value)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>Image Creator</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonchange={e => {\n\t\t\t\t\t\t\tauthor(e.target.value)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>Image Source URL</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonchange={e => {\n\t\t\t\t\t\t\tsourceUrl(e.target.value)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{attrs.licenses.length && attrs.phTitle ? (\n\t\t\t\t\t\t<div class=\"ft-name-field\">\n\t\t\t\t\t\t\t<label for=\"license\">{`License Name`}</label>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tid=\"ft-license-selector\"\n\t\t\t\t\t\t\t\tname=\"license\"\n\t\t\t\t\t\t\t\tonchange={e => {\n\t\t\t\t\t\t\t\t\tlicense(e.target.innerHTML)\n\t\t\t\t\t\t\t\t\tlicenseUrl(e.target.value)\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{attrs.licenses.map((s, i) => (\n\t\t\t\t\t\t\t\t\t<option selected={!i} value={s.licenseUrl}>\n\t\t\t\t\t\t\t\t\t\t{s.license}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Image License</div>\n\t\t\t\t\t\t\t<input type=\"text\" onchange={e => license(e.target.value)} />\n\t\t\t\t\t\t\t<div>License URL</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tonchange={e => licenseUrl(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<UIButton\n\t\t\t\t\t\taction={e => {\n\t\t\t\t\t\t\tattrs.hide()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tbuttonName=\"Cancel\"\n\t\t\t\t\t/>\n\t\t\t\t\t<UIButton\n\t\t\t\t\t\taction={\n\t\t\t\t\t\t\tvalidated()\n\t\t\t\t\t\t\t\t? e => {\n\t\t\t\t\t\t\t\t\t\twidgetExists(true)\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: e => 0\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbuttonName={validated() ? \"Accept\" : \"Enter image origin\"}\n\t\t\t\t\t/>\n\t\t\t\t\t{widgetExists() ? (\n\t\t\t\t\t\t<CloudinaryUploadWidget\n\t\t\t\t\t\t\tsubject={attrs.subject}\n\t\t\t\t\t\t\tsubjectType={attrs.subjectType}\n\t\t\t\t\t\t\tsources={attrs.sources}\n\t\t\t\t\t\t\tresultFunction={result => {\n\t\t\t\t\t\t\t\t//fail silently\n\t\t\t\t\t\t\t\tif (!result) return\n\t\t\t\t\t\t\t\t//console.log(result)\n\t\t\t\t\t\t\t\tif (result.info.secure_url.indexOf(\"image\" > 0)) {\n\t\t\t\t\t\t\t\t\tattrs.action({\n\t\t\t\t\t\t\t\t\t\tsubject: attrs.subject,\n\t\t\t\t\t\t\t\t\t\tsubjectType: attrs.subjectType,\n\t\t\t\t\t\t\t\t\t\turl: result.info.secure_url,\n\t\t\t\t\t\t\t\t\t\ttitle: title(),\n\t\t\t\t\t\t\t\t\t\tsourceUrl: sourceUrl(),\n\t\t\t\t\t\t\t\t\t\tauthor: author(),\n\t\t\t\t\t\t\t\t\t\tlicense: license(),\n\t\t\t\t\t\t\t\t\t\tlicenseUrl: licenseUrl()\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\twidgetExists(false)\n\t\t\t\t\t\t\t\t\tattrs.hide()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcancelFunction={result => {\n\t\t\t\t\t\t\t\t//fail silently\n\t\t\t\t\t\t\t\tif (!result) return\n\t\t\t\t\t\t\t\t//console.log(\"cancelFunction\", result.event)\n\t\t\t\t\t\t\t\twidgetExists(false)\n\t\t\t\t\t\t\t\tattrs.hide()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst ImageModal = {\n\t//oninit: () => console.log('img modal'),\n\tview: ({ attrs }) => {\n\t\tconst licenses = _.uniqBy(images.getFiltered(x => true), \"licenseUrl\")\n\t\tconst mapping = {\n\t\t\tsubject: attrs.subject,\n\t\t\tsubjectType: attrs.subjectType,\n\t\t\tsubjectName: subjectData.name(attrs.subject, attrs.subjectType),\n\t\t\tsources: attrs.sources,\n\t\t\thide: attrs.hide,\n\t\t\tdisplay: attrs.display,\n\t\t\tlicenses: licenses,\n\t\t\ttitle: attrs.phTitle,\n\t\t\tsourceUrl: attrs.phSourceUrl,\n\t\t\tauthor: attrs.phCreator,\n\t\t\tlicense: licenses.length ? licenses[0].license : \"\",\n\t\t\tlicenseUrl: licenses.length ? licenses[0].licenseUrl : \"\",\n\t\t\taction: attrs.action\n\t\t}\n\t\treturn m(jsx, mapping)\n\t}\n}\nexport default ImageModal\n","// src/components/fields/CloudImageField.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n//import jQuery from 'jquery'\n//import cloudinary from 'cloudinary'\n\nimport AttributionField from './AttributionField.jsx'\nimport NavButton from '../ui/NavButton.jsx'\nimport ImageModal from '../modals/ImageModal.jsx'\n\n\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData'\n\nconst {Images: images} = remoteData\n\n    var addingImage = false\nconst jsx = {\n    //oninit: () => console.log('CloudImageField jsx init'),\n    view: ({attrs}) => <div class=\"ft-full-image\">\n        {attrs.image ? <img alt=\"artist image\" src={images.src(attrs.image.id, {fill: {width: 288, height: 250}})} /> : ''}\n        {attrs.image ? <AttributionField imageId={attrs.image.id} popModal={attrs.popModal} hideFlag={attrs.hideFlag} /> : ''}\n        {!attrs.addDisabled && !attrs.image && attrs.userRoles.includes('admin') ? <NavButton fieldValue=\"Add image\" action={e => addingImage = true} /> : ''}\n        {!attrs.image && !attrs.addDisabled && attrs.subjectType === 2 && attrs.userRoles.includes('admin') ? <a \n            href={\"https://www.google.com/search?q=\" + encodeURIComponent(subjectData.name(attrs.subject, attrs.subjectType)) + \"+site%3Acommons.wikimedia.org&hs=lbE&channel=fs&tbm=isch&source=lnt&tbs=sur:fc&sa=X\"} \n            target=\"_blank\">\n            <NavButton fieldValue=\"Image Search\" />\n            </a> : ''}\n\n            <ImageModal \n                display={addingImage} \n                hide={() => addingImage = false}\n                action={data => images.create(data)}\n                subject={attrs.subject}\n                subjectType={attrs.subjectType}\n                sources={attrs.sources}\n                phTitle={attrs.usePlaceholders ? subjectData.name({\n                    subject: attrs.subject,\n                    subjectType: attrs.subjectType\n                }) : undefined}\n                phCreator={attrs.usePlaceholders ? subjectData.name({\n                    subject: attrs.userId,\n                    subjectType: USER\n                }) : undefined}\n                phSourceUrl={attrs.usePlaceholders ? String(window.location).replace(/(gametime)/, 'image') + '/' + attrs.userId : undefined}\n                existingLicense={attrs.usePlaceholders}\n                camera={attrs.usePlaceholders}\n            />\n    </div>\n}\nconst CloudImageField = {\n    name: 'CloudImageField',\n    //oninit: () => console.log('CloudImageField init'),\n    view: ({attrs}) => {\n        const specImageId = _.isInteger(attrs.imageId) ? attrs.imageId : _.toInteger(m.route.param('imageId'))\n        const specImage = images.get(specImageId)\n        const image = specImage ? specImage : images.find({subjectType: attrs.subjectType, subject: attrs.subject})\n        //console.log('CloudImageField specImage', specImageId, specImage)\n        const mapping = {\n            image: image,\n            //imagePath: image ? image.url.substring(image.url.indexOf('artists/')) : '',\n            usePlaceholders: Boolean(attrs.camera && attrs.userId),\n            userId: attrs.userId,\n            userRoles: attrs.userRoles,\n            subject: attrs.subject,\n            subjectType: attrs.subjectType,\n            popModal: attrs.popModal,\n            hideFlag: attrs.hideFlag,\n            usePlaceholders: attrs.usePlaceHolders,\n            addDisabled: attrs.addDisabled\n        }\n            //console.log(`ScheduleThemer mapping`, mapping)\n        return m(jsx, mapping)\n    }\n}\n\nexport default CloudImageField;","// src/components/cards/ImageCard.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport moment from 'dayjs'\n\nimport CloudImageField from '../fields/CloudImageField.jsx'\nimport  UserAvatarField from '../fields/UserAvatarField.jsx';\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData';\n\n\n\n\nconst ImageCard = {\n    view: ({ attrs }) =>\n      <div class=\"ft-card-large\" onclick={attrs.clickFunction ? attrs.clickFunction : e => true}>\n            <h2>{subjectData.name(attrs.image)}</h2>\n\n          <div class=\"ft-horizontal-fields ft-flex-grow\">\n            <div class=\"ft-vertical-fields\">\n              <UserAvatarField data={attrs.image.user} userId={attrs.userId} />\n              <span>{moment(attrs.image.timestamp).utc().fromNow()}</span>\n            </div>\n              <span class=\"ft-flex-grow\">\n                <CloudImageField\n                  addDisabled={true} \n                  hideFlag={true}\n                  imageId={attrs.image.id} \n                />\n              </span>\n          </div>\n      </div>\n    \n}\n\nexport default ImageCard;","// src/components/cards/subjectCard.js\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport ArtistCard from './ArtistCard.jsx';\nimport DateCard from './DateCard.jsx';\nimport DayCard from './DayCard.jsx';\nimport FestivalCard from './FestivalCard.jsx';\nimport PlaceCard from './PlaceCard.jsx';\nimport SeriesCard from './SeriesCard.jsx';\nimport SetCard from './SetCard.jsx';\nimport UserCard from './UserCard.jsx';\nimport ActivityCard from './ActivityCard.jsx';\nimport FlagCard from './FlagCard.jsx';\nimport ImageCard from './ImageCard.jsx';\n\nimport {subjectData} from '../../store/subjectData.js';\n\n//return a card for the subject with all needed attrs set\nexport const subjectCard = (subjectObject, otherAttrs) => {\n\t\t\t//console.log('subjectCard subjectObject', subjectObject)\n\tswitch(subjectObject.subjectType) {\n\t\tcase FLAG: return m(FlagCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\tcase IMAGE: return m(ImageCard, _.assign({subjectObject: subjectObject}, {image: subjectData.get(subjectObject)}));\n\t\t//case 11: return m(SiteCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\tcase MESSAGE: return m(MessageCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\tcase DAY: return m(DayCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\tcase DATE: return m(DateCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\tcase FESTIVAL: return m(FestivalCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\tcase SERIES: return m(SeriesCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\t//case 5: return m(VenueCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\tcase PLACE: return m(PlaceCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\tcase SET: return m(SetCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\tcase ARTIST: return m(ArtistCard, _.assign({subjectObject: subjectObject}, {data: subjectData.get(subjectObject)}, otherAttrs));\n\t\tcase USER: return m(UserCard, _.assign({subjectObject: subjectObject}, otherAttrs));\n\t\tdefault: return '';\n\t}\n}","// src/components/widgets/LargeCardWidget.jsx\n\nimport Icon from '../fields/Icon.jsx'\n\nimport m from 'mithril'\nconst classes = ({display}) => {return (display ? '' : 'hidden');}\n\nconst LargeCardWidget = {\n  view: (vnode) => {\n    return (\n<section class={classes(vnode.attrs) + \" full\"}>\n  <header>\n  {vnode.attrs.header}\n  {vnode.attrs.closeClick ? \n     <span class=\"ft-quarter ft-close-click\" onclick={vnode.attrs.closeClick}><Icon name=\"cancel-circle\" /></span> :\n      ''}\n  {vnode.attrs.headerCard}\n  </header>\n  <div class={\"ft-card-container \" + (vnode.attrs.containerClasses ? vnode.attrs.containerClasses : '')}>  \n    { vnode.children }\n  </div>\n  <footer>{vnode.attrs.footer}</footer>\n</section>\n    )\n  }\n};\n\nexport default LargeCardWidget;","// src/components/widgets/canned/DiscussionWidget.jsx\n\n//given a list of bands to research, this widget \n//filters out unneded ones, sorts the rest and displays artist cards\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n// Services\nimport {buildTree, mapActivities, baseMessage} from '../../../services/messageArrayFunctions.js';\n\n\nimport SubjectReviewCard from '../../../components/cards/SubjectReviewCard.jsx';\nimport {subjectCard} from '../../../components/cards/subjectCard.js';\nimport ActivityCard from '../../../components/cards/ActivityCard.jsx';\nimport LargeCardWidget from '../LargeCardWidget.jsx';\nimport  DiscussModal from '../../modals/DiscussModal.jsx';\nimport {remoteData} from '../../../store/data';\nimport {subjectData} from '../../../store/subjectData'\n\nconst flagAttrs = attrs => {\n\tif(!attrs.messageArray.some(f => f.flagType)) return {}\n\tconst flag = attrs.messageArray.find(f => f.flagType)\n\treturn\t\t{\n\t\t\t\t\t\tflag: flag, \n\t\t\t\t\t\tasAdmin: attrs.userRoles.includes('admin'),\n\t\t\t\t\t\tdiscussFlag: attrs.discussSubject,\n\t\t\t\t\t\tpopModal: attrs.popModal,\n\t\t\t\t\t\tasUser: _.get(flag, 'fromuser', -1) === attrs.userId\n\t\t\t\t\t}}\n\nconst DiscussionWidget = {\n\t\toninit: ({attrs}) => {\n\t\t\t//console.log('DiscussionWidget init')\n\t\t\t//request an update to this discussion\n\t\t\tconst discussionBase = baseMessage(attrs.messageArray)\n\t\t\treturn Promise.all([\n\t\t\t\tattrs.messageArray.map(subjectData.getLocalPromise),\n\t\t\t\tdiscussionBase && discussionBase.messageType ? remoteData.Messages.acquireListSupplement(`filter=${JSON.stringify({where: {baseMessage: discussionBase.id}})}`) : [] \t\t\t])\n\t\t},\n\t\tview: ({attrs}) => <LargeCardWidget \n\t\t\t\theader=\"Discuss\"\n\t\t\t\theaderCard = {attrs.headerCard && attrs.messageArray.length && (attrs.messageArray.some(m => m.messageType && m.subjectType !== MESSAGE) || attrs.messageArray.some(m => m.flagType)) ? \n\t\t\t\t\tsubjectCard(\n\t\t\t\t\t\tattrs.messageArray.find(m => m.flagType || m.subjectType !== MESSAGE), \n\t\t\t\t\t\t//console.log('DiscussionWidget flagAttrs(attrs)', flagAttrs(attrs), attrs.messageArray) || \n\t\t\t\t\t\tflagAttrs(attrs)) : \n\t\t\t\t''}\n\t\t\t\tcloseClick={attrs.userId && attrs.headerCard && !attrs.messageArray.some(f => f.flagType) ? e => {\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t\tattrs.messageArray\n\t\t\t\t\t\t.filter(m => m.fromuser !== attrs.userId && remoteData.MessagesMonitors.unread(m.id))\n\t\t\t\t\t\t.forEach(m => remoteData.MessagesMonitors.markRead(m.id))\n\t\t\t\t\tm.redraw()\n\t\t\t\t} : undefined}\n\t\t\t>\n\t\t\t{\n\t\t\t\t//first card is subjectMessage SubjectReviewCard\n\t\t\t\t!attrs.messageArray.some(m => m.flagType) ? <SubjectReviewCard \n\t\t\t\t\tmessageArray={attrs.messageArray} \n\t\t\t\t\treviewer={_.get(attrs.messageArray.find(m => !m.baseMessage), 'fromuser')}\n\t\t\t\t\toverlay={'discuss'}\n\t\t\t\t\tdiscussSubject={attrs.discussSubject}\n\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t/> : ''\n\t\t\t}\n\t\t\t{\n\t\t\t\t//first card is flag\n\t\t\t\tattrs.messageArray.some(f => f.flagType) ? \n\t\t\t\tsubjectCard(\n\t\t\t\t\t{subjectType: FLAG, subject: attrs.messageArray.find(f => f.flagType).id}, \n\t\t\t\t\tflagAttrs(attrs)\n\t\t\t\t) : ''\n\t\t\t}\n\t\t\t{\n\t\t\t\t//console.log('DiscussionWidget messageArray', attrs.messageArray)\n\t\t}\n\t\t\t{\n\t\t\t\tmapActivities(\n\t\t\t\t\tattrs.discussSubject, \n\t\t\t\t\tremoteData.Messages, \n\t\t\t\t\tActivityCard, \n\t\t\t\t\tattrs.userId\n\t\t\t\t)(\n\t\t\t\t\tattrs.messageArray.some(m => m.messageType) ? \n\t\t\t\t\tbuildTree(\n\t\t\t\t\t\tattrs.messageArray.filter(m => m.messageType), \n\t\t\t\t\t\tattrs.messageArray.some(f => f.flagType) ? \n\t\t\t\t\t\t\tattrs.messageArray.filter(m => m.messageType) : \n\t\t\t\t\t\t\tremoteData.Messages.getFiltered(\n\t\t\t\t\t\t\t\tm => m.subjectType === MESSAGE && attrs.messageArray.map(me => me.id).includes(m.baseMessage)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t) : {}\n\t\t\t\t)\n\t\t\t\t//map the tree to activity cards with left-spacers (1 space for each depth of tree)\n\n\t\t\t}\n\t\t\t</LargeCardWidget>\t\n}\n\nexport default DiscussionWidget","// DiscussionPane.jsx\n\n//given a list of bands to research, this widget\n//filters out unneded ones, sorts the rest and displays artist cards\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n\nimport UIButton from \"../../components/ui/UIButton.jsx\"\n\nimport WidgetContainer from \"../layout/WidgetContainer.jsx\"\n\nimport DiscussionWidget from \"../widgets/canned/DiscussionWidget.jsx\"\nimport { remoteData } from \"../../store/data\"\nimport { subjectData } from \"../../store/subjectData\"\n\nlet count = 3\nvar discussing = false\nvar subjectObject = {}\nvar removed = []\nlet messageArray = []\nlet recentDiscussions = []\n\n//the discussion pane receives the following (or uses default if none provided)\n//message filter\n//sort function\n\n//first the filter is applied and all passing messages are sorted\n//then the discussion for the first <count> messages is constructed\n//the subjectCard for the baseMessage's subject is shown above the discussion\nconst DiscussionPane = {\n\tview: ({ attrs }) => (\n\t\t<WidgetContainer>\n\t\t\t{//find each message about this artist and order by user\n\t\t\t_.map(\n\t\t\t\t_.take(attrs.messageArrays, count)\n\t\t\t\t\t//.map(x => console.log(\"DiscussionPane\", x) || x)\n\t\t\t\t\t.filter(x => x),\n\t\t\t\t//at least on message in each me must be unread\n\t\t\t\t//.map(x => {console.log('DiscussionPane jsx', x);return x;})\n\t\t\t\tme => (\n\t\t\t\t\t<DiscussionWidget\n\t\t\t\t\t\tmessageArray={me}\n\t\t\t\t\t\tsupressModal={true}\n\t\t\t\t\t\theaderCard={true}\n\t\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t\t\tuserRoles={attrs.userRoles}\n\t\t\t\t\t\tdiscussSubject={(so, me) =>\n\t\t\t\t\t\t\tattrs.popModal(\"discuss\", {\n\t\t\t\t\t\t\t\tmessageArray: me,\n\t\t\t\t\t\t\t\tsubjectObject: so,\n\t\t\t\t\t\t\t\treviewer: me[0].fromuser\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t)}\n\t\t\t{attrs.messageArrays.length > count ? (\n\t\t\t\t<UIButton\n\t\t\t\t\taction={e => {\n\t\t\t\t\t\t//attrs.hide()\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t//console.log('pre rating ' + rating)\n\t\t\t\t\t\tcount += 3\n\t\t\t\t\t\tm.redraw()\n\t\t\t\t\t}}\n\t\t\t\t\tbuttonName=\"Show More\"\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t)}\n\t\t</WidgetContainer>\n\t)\n}\n\nexport default DiscussionPane\n","// src/store/action/messageArrays.js\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport { remoteData } from \"../../store/data\"\nimport { subjectData } from \"../../store/subjectData\"\nconst baseFilter = userId => m =>\n\tm.fromuser !== userId && ![RATING, CHECKIN].includes(m.messageType)\nconst personalFilter = userId => m =>\n\tm.fromuser === userId && ![RATING, CHECKIN].includes(m.messageType)\n\nconst { Messages: messages } = remoteData\n\nexport const remote = {\n\tunread: attrs => {\n\t\tconst loopFilter = {\n\t\t\torder: `id DESC`,\n\t\t\tlimit: 50,\n\t\t\tskip: 0,\n\t\t\twhere: {\n\t\t\t\tand: [\n\t\t\t\t\t{ messageType: { nin: [RATING, CHECKIN] } },\n\t\t\t\t\t{ fromuser: { neq: attrs.userId } }\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t\treturn Promise.all([\n\t\t\tremoteData.MessagesMonitors.remoteCheck(),\n\t\t\tremoteData.Messages.maintainList(loopFilter)\n\t\t\t\t.then(() =>\n\t\t\t\t\t_.take(\n\t\t\t\t\t\tremoteData.Messages.getFiltered(baseFilter(attrs.userId)).sort(\n\t\t\t\t\t\t\t(a, b) => b.id - a.id\n\t\t\t\t\t\t),\n\t\t\t\t\t\t50\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.then(baseMessages => {\n\t\t\t\t\tPromise.all(baseMessages.map(subjectData.getLocalPromise)).catch(\n\t\t\t\t\t\tconsole.error\n\t\t\t\t\t)\n\t\t\t\t\treturn baseMessages\n\t\t\t\t})\n\t\t\t\t.then(baseMessages =>\n\t\t\t\t\t_.uniq(baseMessages.map(x => x.baseMessage || x.id))\n\t\t\t\t)\n\t\t\t\t.then(baseIds => {\n\t\t\t\t\treturn { where: { baseMessage: { inq: baseIds } } }\n\t\t\t\t})\n\t\t\t\t.then(discussFilter => remoteData.Messages.maintainList(discussFilter))\n\t\t\t\t.catch(console.error)\n\t\t])\n\t},\n\tuserRecent: attrs => {\n\t\tconst loopFilter = {\n\t\t\torder: `id DESC`,\n\t\t\tlimit: 50,\n\t\t\tskip: 0,\n\t\t\twhere: {\n\t\t\t\tand: [\n\t\t\t\t\t{ messageType: { nin: [RATING, CHECKIN] } },\n\t\t\t\t\t{ fromuser: attrs.userId }\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t\treturn Promise.all([\n\t\t\tremoteData.MessagesMonitors.remoteCheck(),\n\t\t\tremoteData.Messages.maintainList(loopFilter)\n\t\t\t\t.then(() =>\n\t\t\t\t\t_.take(\n\t\t\t\t\t\tremoteData.Messages.getFiltered(baseFilter(attrs.userId)).sort(\n\t\t\t\t\t\t\t(a, b) => b.id - a.id\n\t\t\t\t\t\t),\n\t\t\t\t\t\t50\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.then(baseMessages => {\n\t\t\t\t\tPromise.all(\n\t\t\t\t\t\tbaseMessages.map(m =>\n\t\t\t\t\t\t\tremoteData.Messages.subjectDetails({\n\t\t\t\t\t\t\t\tsubjectType: MESSAGE,\n\t\t\t\t\t\t\t\tsubject: m.id\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t).catch(console.error)\n\t\t\t\t\treturn baseMessages\n\t\t\t\t})\n\t\t\t\t/*\n\t\t\t\t.then(x => {console.log('messageArrays userRecent remote', x);return x;})\n\t\t\t\t.then(baseMessages => _.uniq(baseMessages.map(x => x.baseMessage || x.id)))\n\t\t\t\t.then(baseIds => Promise.all(\n\t\t\t\t\tbaseIds.map(id => remoteData.Messages.getLocalPromise(id))\n\t\t\t\t))\n\t\t\t\t.then(baseMessages => Promise.all([\n\t\t\t\t\t...baseMessages.map(m => console.log('userRecent baseMessage', m) || subjectData.getLocalPromise(m)),\n\t\t\t\t\tremoteData.Messages.maintainList({where: {id: {inq: baseMessages.map(x => x.id)}}})\n\t\t\t\t]))\n\t\t\t\t*/\n\t\t\t\t//.then(discussFilter => remoteData.Messages.maintainList(discussFilter))\n\t\t\t\t.catch(console.error)\n\t\t])\n\t},\n\tflags: attrs => {\n\t\t//console.log('messageArrays remote flags', attrs)\n\t\treturn Promise.all([\n\t\t\tremoteData.MessagesMonitors.remoteCheck(true),\n\t\t\tremoteData.Flags.remoteCheck(true)\n\t\t\t\t.then(() =>\n\t\t\t\t\tPromise.all(\n\t\t\t\t\t\t_.map(remoteData.Flags.list, f =>\n\t\t\t\t\t\t\tremoteData.Flags.subjectDetails({\n\t\t\t\t\t\t\t\tsubjectType: FLAG,\n\t\t\t\t\t\t\t\tsubject: f.id\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.catch(console.error)\n\t\t])\n\t},\n\trelated: attrs => {\n\t\tconst loopFilter = {\n\t\t\torder: `id DESC`,\n\t\t\tlimit: 50,\n\t\t\tskip: 0,\n\t\t\twhere: {\n\t\t\t\tor: [{ id: attrs.messageId }, { baseMessage: attrs.messageId }]\n\t\t\t}\n\t\t}\n\t\treturn Promise.all([remoteData.Messages.maintainList(loopFilter)]).catch(\n\t\t\tconsole.error\n\t\t)\n\t}\n}\n\nexport const related = (userId, userRoles, id) => {\n\tconst msg = messages.get(id)\n\tif (!msg) return []\n\tconst bmi = msg.baseMessage ? msg.baseMessage : msg.id\n\tconst baseMessage = msg && bmi ? messages.get(bmi) : msg\n\tconst childMessages = messages.getFiltered({ baseMessage: bmi })\n\treturn [[baseMessage, ...childMessages]]\n}\n\nexport const unread = userId =>\n\t_.uniq(\n\t\tremoteData.Messages.getFiltered(baseFilter(userId)).map(\n\t\t\tx => x.baseMessage || x.id\n\t\t)\n\t)\n\t\t//.map(x => {console.log('DiscussionPane hs', x);return x;})\n\t\t.map(id => {\n\t\t\treturn m => m.id === id || m.baseMessage === id\n\t\t})\n\t\t.map(discussFilter => remoteData.Messages.getFiltered(discussFilter))\n\t\t.filter(discussion =>\n\t\t\tdiscussion.some(\n\t\t\t\tm => m.fromuser !== userId && remoteData.MessagesMonitors.unread(m.id)\n\t\t\t)\n\t\t)\n\nexport const userRecent = userId =>\n\t_.uniq(\n\t\tremoteData.Messages.getFiltered(personalFilter(userId)).map(\n\t\t\tx => x.baseMessage || x.id\n\t\t)\n\t)\n\t\t//.map(x => {console.log('DiscussionPane hs', x);return x;})\n\t\t.map(id => {\n\t\t\treturn m => m.id === id || m.baseMessage === id\n\t\t})\n\t\t.map(discussFilter => remoteData.Messages.getFiltered(discussFilter))\n\t\t//.map(discussion => _.some(discussion, m => m.subjectType === FLAG) ? [remoteData.Flags.get(_.get(_.find(discussion, m => m.subjectType === FLAG), 'subject', 0)), ...discussion] : discussion)\n\t\t.filter(discussion => !discussion.some(x => x.subjectType === FLAG))\n\nexport const flags = (userId, userRoles) => {\n\tconst pending = remoteData.Flags.pending([userId, userRoles])\n\tconst waiting = remoteData.Flags.waiting([userId, userRoles])\n\treturn [...pending, ...waiting]\n\t\t.map(f => [\n\t\t\tf,\n\t\t\t...remoteData.Messages.getFiltered({ subjectType: FLAG, subject: f.id })\n\t\t])\n\t\t.map(([f, ...ma]) => [f, ...ma.map(m => m.id)])\n\t\t.map(([f, ...ids]) => {\n\t\t\treturn [f, m => ids.includes(m.id) || ids.includes(m.baseMessage)]\n\t\t})\n\t\t.map(([f, discussFilter]) => [\n\t\t\tf,\n\t\t\t...remoteData.Messages.getFiltered(discussFilter)\n\t\t])\n\t\t.map(x => {\n\t\t\t//console.log(\"DiscussionPane hs\", x)\n\t\t\treturn x\n\t\t})\n\t//.filter(discussion => discussion.some(m => m.fromuser !== userId && remoteData.MessagesMonitors.unread(m.id)))\n\t//resetSelector('#date')\n}\n","// src/components/layout/Messages.jsx\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n\nimport MessageCategoryPane from \"../../components/panes/MessageCategoryPane.jsx\"\nimport DiscussionPane from \"../../components/panes/DiscussionPane.jsx\"\nimport {\n\tunread,\n\tflags,\n\tuserRecent,\n\tremote,\n\trelated\n} from \"../../store/action/messageArrays\"\n\nimport { remoteData } from \"../../store/data\"\nimport { subjectData } from \"../../store/subjectData\"\nconst messageArrays = {\n\tunread: unread,\n\tflags: flags,\n\tuserRecent: userRecent,\n\trelated: related\n}\nconst baseFilter = userId => m =>\n\tm.fromuser !== userId && ![RATING, CHECKIN].includes(m.messageType)\n\nconst Messages = {\n\toninit: ({ attrs }) => {\n\t\t//console.log('Messages filter', attrs.filter)\n\t\tif (attrs.titleSet) attrs.titleSet(`Message Center`)\n\t\tif (remote[attrs.filter]) return remote[attrs.filter](attrs)\n\t},\n\toncreate: ({ dom }) => {\n\t\tconst height = dom.clientHeight\n\t\tdom.querySelector(\".ft-pane-single\").style[\"height\"] = `${height}px`\n\t\tdom.querySelector(\".ft-pane-double\").style[\"height\"] = `${height}px`\n\t},\n\tview: ({ attrs }) => (\n\t\t<div class=\"main-stage\">\n\t\t\t<div class=\"ft-horizontal-fields\">\n\t\t\t\t<div class=\"ft-pane-single\">\n\t\t\t\t\t<MessageCategoryPane\n\t\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t\t\tuserRoles={attrs.userRoles}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ft-pane-double\">\n\t\t\t\t\t{\n\t\t\t\t\t\t//console.log('Messages attrs', attrs)\n\t\t\t\t\t}\n\t\t\t\t\t<DiscussionPane\n\t\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t\t\tuserRoles={attrs.userRoles}\n\t\t\t\t\t\tmessageArrays={(messageArrays[attrs.filter]\n\t\t\t\t\t\t\t? messageArrays[attrs.filter]\n\t\t\t\t\t\t\t: messageArrays.unread)(\n\t\t\t\t\t\t\tattrs.userId,\n\t\t\t\t\t\t\tattrs.userRoles,\n\t\t\t\t\t\t\tattrs.messageId\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\nexport default Messages\n","// src/components/layout/Admin.jsx\n// Services\nimport Auth from '../../services/auth.js';\nconst auth = Auth;\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport WidgetContainer from '../../components/layout/WidgetContainer.jsx';\nimport FixedCardWidget from '../../components/widgets/FixedCard.jsx';\nimport SeriesCard from '../../components/cards/SeriesCard.jsx';\nimport DateCard from '../../components/cards/DateCard.jsx';\nimport FestivalCard from '../../components/cards/FestivalCard.jsx';\nimport ArtistCard from '../../components/cards/ArtistCard.jsx';\nimport NavCard from '../../components/cards/NavCard.jsx';\n\nimport {remoteData} from '../../store/data';\n\nconst {\n  Sets: sets,\n  Days: days,\n  Dates: dates,\n  Festivals: festivals,\n  Series: series,\n  Lineups: lineups,\n  Artists: artists,\n  ArtistAliases: artistAliases,\n  Venues: venues,\n  Places: places\n} = remoteData\n\nconst DATE_ANNOUNCED = 180\nconst LINEUP_ANNOUUNCED = 90\nconst SCHEDULE_ANNNOUNCED = 14\n\nconst upcomingFestivals = () => dates.upcomingDatedFestivals(LINEUP_ANNOUUNCED)\nconst upcomingLinedFestivals = () => {\n\tconst festivalIds = upcomingFestivals().map(x => x.id)\n\treturn festivals.getMany(_.uniq(lineups\n\t\t.getFiltered(l => festivalIds.includes(l.festival))\n\t\t.map(x => x.festival)\n\t))\n\n}\n\nconst noLineup = () => {\n\tconst festivalIds = upcomingFestivals().map(x => x.id)\n\tconst linedFestivalIds = upcomingLinedFestivals().map(x => x.id)\n\treturn festivals.getMany(_.difference(festivalIds, linedFestivalIds))\n\n}\n\nconst artistPrisNeeded = () => lineups.allPrioritiesDefaultFestivals(\n\tdates.upcomingDatedFestivals(LINEUP_ANNOUUNCED)\n\t\t.map(f => f.id)\n\t)\n\nconst noCurrentFestival = () => {\n\tconst yesFestival = _.uniq(festivals.getFiltered(f => parseInt(f.year, 10) - new Date().getFullYear() >= 0)\n\t\t.map(f => f.series))\n\treturn series.getFiltered(s => !yesFestival.includes(s.id))\n\n}\nconst noFutureDates = () => {\n\tconst fDates = dates.future()\n\treturn  _.uniq(festivals.getFiltered(f => parseInt(f.year, 10) - new Date().getFullYear() >= 0))\n\t\t.filter(f => !fDates.some(d => d.festival === f.id))\n}\nconst unscheduledLineupFestivals = () => sets.unscheduledLineupFestivals(SCHEDULE_ANNNOUNCED)\n\nconst artistMissingDayFestivals = () => sets.artistMissingDayFestivals(SCHEDULE_ANNNOUNCED)\nconst artistMissingStageFestivals = () => sets.artistMissingStageFestivals(SCHEDULE_ANNNOUNCED)\nconst missingStageFestivals = () => places.missingStageFestivals(SCHEDULE_ANNNOUNCED)\n\n\n\n\t\t\nconst Admin = {\n\tname: 'Admin',\n\t\tpreload: (rParams) => {\n\t\t\t//if a promise returned, instantiation of component held for completion\n\t\t\t//route may not be resolved; use rParams and not m.route.param\n\t\t\treturn Promise.all([\n\t\t\tseries.remoteCheck(true),\n\t\t\tfestivals.remoteCheck(true),\n\t\t\tlineups.remoteCheck(true),\n\t\t\tdates.acquireListUpdate(),\n\t\t\tdays.acquireListUpdate(),\n\t\t\tsets.acquireListUpdate(),\n\t\t\tartists.acquireListUpdate(),\n\t\t\tartistAliases.acquireListUpdate(),\n\t\t\tvenues.remoteCheck(true),\n\t\t\tplaces.acquireListUpdate()\n\t\t])\n\t\t\t\t.catch(console.error)\n\t\t\t\n\t\t},\n\t\toninit: ({attrs}) => {\n\n\n\t\tif (attrs.titleSet) attrs.titleSet(`FestiGram Admin`)\n\t\t},\n\toncreate: ({dom}) => {\n\t\tconst height = dom.clientHeight\n\t\t//console.log('ArtistDetail DOM height', height)\n\t\tconst scroller = dom.querySelector('.ft-widget-container')\n\t\tscroller.style['height'] = `${height - 270}px`\n\t\tscroller.style['flex-grow'] = 0\n\n\t},\n\tview: () => <div class=\"main-stage\">\n\t\t<div class=\"main-stage-content\">\n\t\t\t<WidgetContainer>\n\t\t\t\t<FixedCardWidget header=\"Create Festivals\" tall={true}>\n\t\t\t\t\t<SeriesCard eventId=\"new\"/>\n\t\t\t\t\t<FestivalCard eventId=\"new\"/>\n\t\t\t\t\t<DateCard eventId=\"new\"/>\n\t\t\t\t\t<NavCard fieldValue=\"New Venue\" action={() => m.route.set(\"/venues/pregame/new\")}/>\n\t\t\t\t\t<NavCard fieldValue=\"Fix Artist Names\" action={() => m.route.set(\"/artists/pregame/fix\")}/>\n\t\t\t\t\t<NavCard fieldValue=\"Assign Artists to Festival\" action={() => m.route.set(\"/fests/pregame/assignLineup\")}/>\n\t\t\t\t\t<NavCard fieldValue=\"Assign Stages to Festival\" action={() => m.route.set(\"/fests/pregame/assignStages\")}/>\n\t\t\t\t\t<NavCard fieldValue=\"Assign Artists to Days\" action={() => m.route.set(\"/sets/pregame/assignDays\")}/>\n\t\t\t\t\t<NavCard fieldValue=\"Assign Artists to Stages\" action={() => m.route.set(\"/sets/pregame/assignStages\")}/>\n\t\t\t\t\t<NavCard fieldValue=\"Enter Set Times\" action={() => m.route.set(\"/sets/pregame/assignTimes\")}/>\n\t\t\t\t</FixedCardWidget>\n\n\t\t\t{noLineup().length ? <FixedCardWidget header=\"No Lineup\">\n\t\t\t\t{\n\t\t\t\t\tnoLineup()\n\t\t\t\t\t\t.map(data => <FestivalCard\n\t\t\t\t\t\t\teventId={data.id}\n\t\t\t\t\t\t\troute={`/fests/pregame/assignLineup?seriesId=${data.series}&festivalId=${data.id}`}\n\t\t\t\t\t\t/>)\n\t\t\t\t}\n\t\t\t</FixedCardWidget> : '' }\n\t\t\t{\n\t\t\t\tnoCurrentFestival().length ? <FixedCardWidget header=\"No Fest\">\n\t\t\t{\n\t\t\t\tnoCurrentFestival()\n\t\t\t\t\t.map(series => <SeriesCard \n\t\t\t\t\t\teventId={series.id} \n\t\t\t\t\t/>)\n\t\t\t}\n\t\t\t</FixedCardWidget> : '' }\n\t\t\n{\n\t\t\t\tnoFutureDates().length ? <FixedCardWidget header=\"No Dates\">\n\t\t\t{\n\t\t\t\tnoFutureDates()\n\t\t\t\t\t.map(data => <FestivalCard\n\t\t\t\t\t\t\teventId={data.id}\n\t\t\t\t\t\t\troute={`/dates/pregame/new/${data.id}`}\n\t\t\t\t\t\t/>)\n\t\t\t}\n\t\t\t</FixedCardWidget> : '' }\n\t\t\n\n\n\t\t\t{\n\t\t\t\tartistPrisNeeded().length ? <FixedCardWidget header=\"Artist Priorities Unassigned\">\n\t\t\t\t{\n\t\t\t\t\tartistPrisNeeded()\n\t\t\t\t\t\t.map(data => <FestivalCard\n\t\t\t\t\t\t\teventId={data.id}\n\t\t\t\t\t\t\troute={`/fests/pregame/assignLineup?seriesId=${data.series}&festivalId=${data.id}`}\n\t\t\t\t\t\t/>)\n\t\t\t\t}\n\t\t\t</FixedCardWidget> : '' }\n\n\n\t\t\t{\n\t\t\t\tmissingStageFestivals().length ? <FixedCardWidget header=\"No stages\">\n\t\t\t{\n\t\t\t\tmissingStageFestivals()\n\t\t\t\t\t.map(data => <FestivalCard\n\t\t\t\t\t\teventId={data.id}\n\t\t\t\t\t\troute={`/fests/pregame/assignStages?seriesId=${data.series}&festivalId=${data.id}`}\n\t\t\t\t\t\t/>)\n\t\t\t}\n\t\t\t</FixedCardWidget> : '' }\n\n\t\t\t{\n\t\t\t\tartistMissingDayFestivals().length ? <FixedCardWidget header=\"Artists Need Days\">\n\t\t\t{\n\t\t\t\tartistMissingDayFestivals()\n\t\t\t\t\t.map(data => <FestivalCard\n\t\t\t\t\t\teventId={data.id}\n\t\t\t\t\t\troute={`sets/pregame/assignDays?seriesId=${data.series}&festivalId=${data.id}`}\n\t\t\t\t\t/>)\n\t\t\t}\n\t\t\t</FixedCardWidget> : '' }\n\n\t\t\t{\n\t\t\t\tartistMissingStageFestivals().length ? <FixedCardWidget header=\"Artists Need Stages\">\n\t\t\t{\n\t\t\t\tartistMissingStageFestivals()\n\t\t\t\t\t.map(data => <FestivalCard\n\t\t\t\t\t\teventId={data.id}\n\t\t\t\t\t\troute={`/sets/pregame/assignStages?seriesId=${data.series}&festivalId=${data.id}`}\n\t\t\t\t\t\t/>)\n\t\t\t}\n\t\t\t</FixedCardWidget> : '' }\n\n\t\t\t{\n\t\t\t\tunscheduledLineupFestivals().length ? <FixedCardWidget header=\"Unscheduled Lineup\">\n\t\t\t{\n\t\t\t\tunscheduledLineupFestivals()\n\t\t\t\t\t.map(data => <FestivalCard\n\t\t\t\t\t\teventId={data.id}\n\t\t\t\t\t\troute={`/fests/pregame/assignLineup?seriesId=${data.series}&festivalId=${data.id}`}\n\t\t\t\t\t/>)\n\t\t\t}\n\t\t\t</FixedCardWidget> : '' }\n\n\t\t\t</WidgetContainer>\n\t\t</div>\n\t</div>\n}\nexport default Admin;\n","// src/components/layout/Discussion.jsx\n// Services\nimport Auth from '../../services/auth.js';\nconst auth = Auth;\n\n\nimport m from 'mithril'\n\nimport WidgetContainer from '../../components/layout/WidgetContainer.jsx';\nimport FixedCardWidget from '../../components/widgets/FixedCard.jsx';\nimport SeriesCard from '../../components/cards/SeriesCard.jsx';\nimport DateCard from '../../components/cards/DateCard.jsx';\nimport FestivalCard from '../../components/cards/FestivalCard.jsx';\nimport ArtistCard from '../../components/cards/ArtistCard.jsx';\nimport NavCard from '../../components/cards/NavCard.jsx';\n\nimport {remoteData} from '../../store/data';\n\nconst Discussion = (vnode) => { return {\n\toninit: ({attrs}) => {\n\t\t\tif (attrs.titleSet) attrs.titleSet(`Discussion`)\n\t},\n\tview: () => \n\t<div class=\"ft-launcher-container\">\n\t\t<div class=\"ft-stage-banner-container\">\n\t\t</div>\n\t\t{\n\t\t\t//subject image/name\n\t\t\t//comment/rating\n\t\t\t//each discussion point with 0 repyTo\n\t\t\t//threaded discussions, hidden behind Show button\n\t\t\t\t//starterPoint\n\t\t\t\t//discussionBlock\n\t\t\t\t//for each unread point:\n\t\t\t\t\t//leadPoint\n\t\t\t\t\t//highlightPoint\n\t\t}\n\t\t<div>\n\t\t\t<WidgetContainer>\n\t\t\t\t<FixedCardWidget header=\"Create Festivals\">\n\t\t\t\t</FixedCardWidget>\n\t\t\t</WidgetContainer>\n\t\t</div>\n\t</div>\n}}\nexport default Discussion;\n","// ArtistSelector.jsx\nimport m from 'mithril'\n\nimport {remoteData} from '../../../../store/data'\n\nconst ArtistSelector = {\n\toninit: ({attrs}) => {\n\t},\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-name-field\">\n\t\t\t<label for=\"artist\" class=\"ft-center\">\n\t\t        {attrs.label ? attrs.label : `Artist`}\n\t\t    </label>\n\t\t\t    <select id=\"artist\" name=\"artist\" onchange={attrs.artistChange}>\n\t\t\t    \t<option value={0} selected={!attrs.sel ? 'selected' : false}>{attrs.defaultText ? attrs.defaultText : `Select an Artist`}</option>\n\t\t      \t\t{remoteData.Artists.list\n\t\t      \t\t\t.sort((a, b) => a.name.localeCompare(b.name))\n\t\t\t      \t\t.map(s => <option value={s.id}>{s.name}</option>)\n\t\t\t      \t}\n\t\t    \t</select>\n\t\t</div>\n};\n\nexport default ArtistSelector;\n","// src/components/modals/ArtistEntryModal.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n// change selections\nimport UIButton from '../../components/ui/UIButton.jsx';\nimport ArtistSelector from '../detailViewsPregame/fields/artist/ArtistSelector.jsx'\nimport {remoteData} from '../../store/data';\n\nconst classes = attrs => 'ft-modal ' + (attrs.display ? '' : 'hidden')\nvar textValue = ''\nvar selectedId = 0\nconst ArtistEntryModal = {\n\tview: ({attrs}) => <div class={classes(attrs)}>\n        <div class=\"ft-modal-content\">\n            <ArtistSelector \n                label=\"Select an existing artist:\"\n                defaultText=\"Select an artist\"\n                artistChange={e => selectedId = e.target.value}\n                sel={selectedId}\n            />\n            \n            <label for=\"new-artist\">Or add a new artist</label>\n            <input id=\"new-artist\" name=\"new-artist\" type=\"text\" onchange={e => textValue = e.target.value}/>\n            <UIButton action={e => {\n                attrs.hide()\n                selectedId = 0\n                textValue = ''\n\n            }} buttonName=\"Cancel\" />\n            <UIButton action={e => {\n                //console.log('ArtistEntryModal')\n                //console.log(textValue)\n                //console.log(selectedId)\n                //if there is a selected id, return it\n                //if not, create the artist, then return that id\n                if(selectedId && !textValue.length) attrs.action(remoteData.Lineups.create({band: selectedId, festival: attrs.festivalId})\n                   .then(result => {\n                        attrs.hide()\n                        selectedId = 0\n                        textValue = ''\n                        return result\n                    })\n                    .then(() => m.redraw())\n                    .catch(console.error))\n                //make sure the name is not in thr list\n                const matchedArtist = _.find(remoteData.Artists.list, a => _.toLower(a.name) === _.toLower(textValue))\n                if(matchedArtist && matchedArtist.id) attrs.action(remoteData.Lineups.create({band: matchedArtist.id, festival: attrs.festivalId})\n                   .then(result => {\n                        attrs.hide()\n                        selectedId = 0\n                        textValue = ''\n                        return result\n                    })\n                    .then(() => m.redraw())\n                    .catch(console.error))\n\n                if(textValue) attrs.action(remoteData.Lineups.addArtist({name: textValue}, attrs.festivalId)\n                    .then(result => {\n                        attrs.hide()\n                        selectedId = 0\n                        textValue = ''\n                        return result\n                    })\n                    .then(() => m.redraw())\n                    .catch(console.error))\n\n                //\n            }} buttonName=\"Accept\" />\n        </div>\n    </div>\n};\n\nexport default ArtistEntryModal;","// src/components/modals/FlagModal.jsx\n//review modals combine rating and comment messages into one modal\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n// change selections\nimport UIButton from '../../components/ui/UIButton.jsx';\nimport CloudImageField from '../../components/fields/CloudImageField.jsx';\n\nimport ActivityCard from '../../components/cards/ActivityCard.jsx';\n\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData'\n\nconst classes = attrs => {return 'ft-modal ' + (attrs.display ? '' : 'hidden');}\nvar selectedId = 0\n\nconst displayComment = me => me.filter(m => m.messageType === 1 || m.messageType === 8)[0]\n\nconst id = ({messageArray}) => {\n\n    const cm = displayComment(messageArray)\n    const c = cm ? cm.id : 0\n    return c\n}\nconst FlagModal = vnode => {\n    var changeFlag = 1\n    var comment = vnode.attrs.subject.sub ? subjectData.commentBy(vnode.attrs.subject.sub, vnode.attrs.subject.type, vnode.attrs.user) : ''\n    //console.log('new FlagModal  for ' + name + '@' + rating)\n    var commentId = subjectData.commentId(vnode.attrs.subject.sub, vnode.attrs.subject.type, vnode.attrs.user)\n    var localComment = ''\n    var sub = ''\n\n    const submit = attrs => e => {\n        console.log('FlagModal submit', attrs)\n        //console.log(textValue)\n        //console.log(selectedId)\n        //if there is a selected id, return it\n        //if not, create the artist, then return that id\n        attrs.hide()\n        //console.log('Save')\n        //console.log('localRating ' + localRating)\n        //console.log('localComment ' + localComment)\n        /*\n        const newCommentMessage = localComment\n        const activeMessage = displayComment(attrs.messageArray)\n        const activeId = activeMessage.id\n        remoteData.MessagesMonitors.markRead(activeId)\n        //console.log('newRatingMessage ' + newRatingMessage)\n        //console.log('newCommentMessage ' + newCommentMessage)\n        */\n        remoteData.Flags.create({\n            subject: attrs.subject,\n            subjectType: attrs.subjectType,\n            flagType: 1,\n            content: localComment,\n            \n\n        })\n        e.stopPropagation()\n    }\n    return {\n    \tview: ({attrs}) => <div class={classes(attrs)}>\n            <div class=\"ft-modal-content\">\n                <h3>Flag For Review</h3>\n                {/* base comment with no discussion overlay */}\n                {\n                    attrs.messageArray ?  <ActivityCard \n                        messageArray={attrs.messageArray} \n                        discusser={attrs.reviewer}\n                        shortDefault={true}\n                    /> : \n                    attrs.image ?  <CloudImageField \n                        addDisabled={true} \n                        hideFlag={true}\n                        subjectType={attrs.image.subjectType} \n                        subject={attrs.image.subject} \n                        sources={['url']} \n                    /> : \n                ''}\n                <label for=\"reason\">Reason</label>\n                <select id=\"reason\" name=\"reason\">\n                    <option value={0}>Bad</option>\n                </select>\n                <label for=\"discuss\">Explanation</label>\n                {/* base comment with no discussion overlay */}\n                {/* show each new discussion, and it's immdeiate predeccessor */}\n\n                <textarea \n                    id=\"discuss\" name=\"discuss\"\n                    onchange={e => {\n        //console.log('e.target.value ' + e.target.value)\n        //console.log('localComment ' + localComment)\n                        localComment = e.target.value; \n                    }} \n                    class=\"modal-textarea\"\n                    onkeypress={e => {\n                        if(e.keyCode === 13) return submit(attrs)(e)\n                    }}\n\n                ></textarea>\n\n                <UIButton action={e => {\n                    attrs.hide()\n                    e.stopPropagation()\n                    //console.log('pre rating ' + rating)\n                    //console.log('pre baselineRating ' + baselineRating)\n                    comment = ''\n                    //console.log('post rating ' + rating)\n                    //console.log('post baselineRating ' + baselineRating)\n                    //console.log('cancel')\n                    m.redraw()\n\n                }} buttonName=\"Cancel\" />\n     {           <UIButton action={submit(attrs)} \n                buttonName=\"Save\" />\n            }\n            </div>\n        </div>\n}};\n\nexport default FlagModal;","// src/components/modals/OptionSelectModal.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n// change selections\nimport MenuItem from '../ui/MenuItem.jsx';\n\nconst classes = attrs => 'ft-modal ' + (attrs.display ? '' : 'hidden')\nvar textValue = ''\nconst OptionSelectModal = {\n\tview: ({attrs}) => <div class={classes(attrs)}>\n        {\n            console.log('OptionSelectModal', attrs)\n        }\n        <div class=\"ft-modal-content\">\n        <div class=\"ft-quarter ft-close-click\" onclick={e => {\n            e.stopPropagation()\n            attrs.hide()\n          }}>\n            <Icon name=\"cancel-circle\" />\n        </div>            {attrs.headerCard ? attrs.headerCard : ''}\n            {attrs.options.map(opt => <MenuItem \n                data={opt}\n                clickFunction={opt.itemClicked}\n                key={opt.data.name}\n            />)}\n        </div>\n    </div>\n}\n\nexport default OptionSelectModal","// src/components/ui/FestivalTimePicker.jsx\n\nimport m from 'mithril'\n\nconst FestivalTimePicker = vnode => {\n\tvar meridiem='AM'\n\tvar hour = 0\n\tvar minute = 0\n\tconst hourChange = superChange => e => {\n\t\thour = parseInt(e.target.value, 10)\n\t\tmeridiem = hour > 1 && hour < 14 ? 'PM' : 'AM'\n\t\tsuperChange(hour * 60 + minute)\n\t}\n\tconst minuteChange = superChange => e => {\n\t\tminute = parseInt(e.target.value, 10)\n\t\tsuperChange(hour * 60 + minute)\n\t}\n\treturn {\n\t\toncreate: ({ attrs }) => {\n\t\t\thour = attrs.default ? Math.floor(attrs.default / 60) : 0\n\t\t\tminute = attrs.default ? (attrs.default % 60) : 0\n\n\t\t},\n\t\tview: ({ attrs }) => <div>\n\t\t\t<select class=\"time-picker-hour\" name={attrs.name} onchange={hourChange(attrs.onchange)}>\n\t\t\t\t{['10', '11', '12', '1', '2', '3', '4', '5', '6', '7', '8', '9', \n\t\t\t\t'10', '11', '12', '1', '2', '3', '4', '5', '6', '7', '8', '9']\n\t\t\t\t\t.map((v, i) => <option selected={attrs.default && (Math.floor(attrs.default / 60) === i)} value={i}>{v}</option>)\n\t\t\t\t}\n\t\t\t</select>\n\t\t\t{':'}\n\t\t\t<select class=\"time-picker-minute\" onchange={minuteChange(attrs.onchange)}>\n\t\t\t\t{['00', '05', '10', '15', '20', '25', '30', '35', '40', '45', '50', '55']\n\t\t\t\t\t.map((v, i) => <option selected={attrs.default && (attrs.default % 60 === i * 5)} value={i * 5}>{v}</option>)\n\t\t\t\t}\n\t\t\t</select>\n\t\t\t{' ' + meridiem}\n\t\t\t</div>\n}};\n\nexport default FestivalTimePicker;","// src/components/modals/SetScheduleModal.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n// change selections\nimport ComposedNameField from '../../components/fields/ComposedNameField.jsx';\nimport StageNameField from '../../components/fields/StageNameField.jsx';\nimport ArtistNameField from '../../components/fields/ArtistNameField.jsx';\nimport UIButton from '../../components/ui/UIButton.jsx';\nimport FestivalTimePicker from '../../components/ui/FestivalTimePicker.jsx';\nimport {remoteData} from '../../store/data';\n\nconst upsertSet = data => 0\nconst classes = attrs => 'ft-modal ' + (attrs.display ? '' : 'hidden')\nvar startTime = 0\nvar endTime = 0\nvar selectedId = 0\nconst SetScheduleModal = {\n\tview: ({attrs}) => <div class={classes(attrs)}>\n        <div class=\"ft-modal-content\">\n            <ComposedNameField fieldValue={remoteData.Days.getEventName(attrs.set.day)} />\n            <StageNameField stageId={attrs.set.stage} />\n            <ArtistNameField artistId={attrs.set.band} />\n            <label for=\"start-time\">Enter set start time</label>\n            <FestivalTimePicker name=\"start-time\" onchange={e => startTime = e} default={attrs.set.start ? attrs.set.start : startTime} />\n            <label for=\"end-time\">Enter set end time</label>\n            <FestivalTimePicker name=\"end-time\" onchange={e => endTime = e} default={attrs.set.end ? attrs.set.end : endTime} />\n            {\n                //show the day name\n                //show the stage name\n                //show the artist name\n                //pick start time\n                //pick end time\n            }\n            <UIButton action={e => {\n                attrs.hide()\n\n            }} buttonName=\"Cancel\" />\n\n            <UIButton action={e => {\n\n                //times are minutes after 10:00 AM\n                const data = {\n                    id: attrs.set.id,\n                    day: attrs.set.day,\n                    stage: attrs.set.stage,\n                    band: attrs.set.band,\n                    start: startTime,\n                    end: endTime,\n                    user: attrs.user\n                }\n                const verb = data.id ? 'updateInstance' : 'create'\n                if(attrs.set && endTime && endTime > startTime) attrs.action(data, verb)(remoteData.Sets.upsert(data))\n                if(endTime && endTime > startTime) attrs.hide()\n\n\n                //\n            }} buttonName=\"Create/Update\" />\n\n            {!attrs.set.end ? '' : <UIButton action={e => {\n                \n                const data = {\n                    id: attrs.set.id\n                }\n                const verb = 'delete'\n                if(attrs.set) attrs.action(data, verb)(remoteData.Sets.delete(data))\n                if(attrs.set) attrs.hide()\n\n\n                //\n            }} buttonName=\"Remove\" />}\n        </div>\n    </div>\n};\n\nexport default SetScheduleModal;","// src/components/modals/TextEntryModal.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n// change selections\nimport UIButton from '../ui/UIButton.jsx'\n\nconst classes = attrs => 'ft-modal ' + (attrs.display ? '' : 'hidden')\nvar textValue = ''\nconst TextEntryModal = {\n\tview: ({attrs}) => <div class={classes(attrs)}>\n        <div class=\"ft-modal-content\">\n            <div>{attrs.prompt}</div>\n            <div>{attrs.textInsert}</div>\n            <input type=\"text\" onchange={e => textValue = e.target.value}/>\n            <UIButton action={e => {\n                attrs.hide()\n                if(attrs.cancelAction) attrs.cancelAction(textValue)\n\n\n            }} buttonName={attrs.cancelText ? attrs.cancelText : \"Cancel\"} />\n            <UIButton action={e => {\n                attrs.hide()\n                attrs.action(textValue)\n            }} buttonName={attrs.actionText ? attrs.actionText : \"Accept\"} />\n        </div>\n    </div>\n}\n\nexport default TextEntryModal","// src/components/modals/AccessModal.jsx\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport bucksLedger from \"../../services/bites/user/account/profile/bucksLedger\"\nimport bucksForm from \"../../services/bites/user/account/profile/bucksForm\"\nimport bucksSpend from \"../../services/bites/user/account/profile/bucksSpend\"\nimport Tract from \"../tracts/Tract.jsx\"\nimport InlineTable from \"../fields/InlineTable\"\nimport UIButton from \"../ui/UIButton.jsx\"\nimport IconText from \"../fields/IconText.jsx\"\n\nimport { remoteData } from \"../../store/data\"\n\nconst {\n\tUsers: users,\n\tDays: days,\n\tDates: dates,\n\tFestivals: festivals,\n\tSets: sets\n} = remoteData\n\nconst tractStates = {\n\tBucksHistory: false\n}\n\nconst extraction = (() => {\n\tvar hidden = []\n\treturn elNumber => extracted => {\n\t\tif (_.isUndefined(extracted))\n\t\t\treturn hidden.reduce((total, cv) => total || cv, false)\n\t\thidden[elNumber] = Boolean(extracted)\n\t}\n})()\n\n// change selections\n\nconst classes = attrs => \"ft-modal \" + (attrs.display ? \"\" : \"hidden\")\nvar textValue = \"\"\nvar bucks = 0\nconst seriesId = so => {\n\tif (so.subjectType === FESTIVAL) return festivals.getSeriesId(so.subject)\n\tif (so.subjectType === DATE) return dates.getSeriesId(so.subject)\n\tif (so.subjectType === DAY) return days.getSeriesId(so.subject)\n\tif (so.subjectType === SET) return sets.getSeriesId(so.subject)\n}\nconst festivalId = so => {\n\t//console.log('AccessModal festivalId days', days, days.getFestivalId)\n\tif (so.subjectType === FESTIVAL) return so.subject\n\tif (so.subjectType === DATE) return dates.getFestivalId(so.subject)\n\tif (so.subjectType === DAY) return days.getFestivalId(so.subject)\n\tif (so.subjectType === SET) return sets.getFestivalId(so.subject)\n}\nconst dateId = so => {\n\tif (so.subjectType === FESTIVAL) {\n\t\tconst dateIds = festivals.getSubDateIds(so.subject)\n\t\tif (dateIds.length === 1) return dateIds[0]\n\t\treturn\n\t}\n\tif (so.subjectType === DATE) return so.subject\n\tif (so.subjectType === DAY) return days.getDateId(so.subject)\n\tif (so.subjectType === SET) return sets.getDateId(so.subject)\n}\nconst dayId = so => {\n\tif (so.subjectType === FESTIVAL) {\n\t\tconst dateIds = festivals.getSubDayIds(so.subject)\n\t\tif (dateIds.length === 1) return dateIds[0]\n\t\treturn\n\t}\n\tif (so.subjectType === DATE) {\n\t\tconst dayIds = dates.getSubDayIds(so.subject)\n\t\tif (dayIds.length === 1) return dayIds[0]\n\t\treturn\n\t}\n\tif (so.subjectType === DAY) return so.subject\n\tif (so.subjectType === SET) return sets.getDayId(so.subject)\n}\nconst jsx = {\n\tview: ({ attrs }) => (\n\t\t<div class={classes(attrs)}>\n\t\t\t<div class=\"ft-modal-content\">\n\t\t\t\t{console.log(\"AccessModal\", attrs.eventObject)}\n\t\t\t\t<header class={`ft-modal-info-plate ${extraction()() ? \"c44-dn\" : \"\"}`}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tCurrent FestiBucks: <IconText name=\"festibucks\" />\n\t\t\t\t\t\t{attrs.bucks}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tDate Access: <IconText name=\"festibucks\" />3\n\t\t\t\t\t</p>\n\t\t\t\t</header>\n\t\t\t\t{m(\n\t\t\t\t\tInlineTable,\n\t\t\t\t\t_.assign(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tbucksSpend(users, days, dates, festivals, attrs.eventObject(1))\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\t{m(InlineTable, _.assign({}, bucksForm(users, attrs.eventObject(0))))}\n\t\t\t\t<UIButton\n\t\t\t\t\taction={e => {\n\t\t\t\t\t\tattrs.hide()\n\t\t\t\t\t\tif (attrs.cancelAction) attrs.cancelAction(textValue)\n\t\t\t\t\t}}\n\t\t\t\t\tbuttonName={attrs.cancelText ? attrs.cancelText : \"Cancel\"}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst AccessModal = {\n\tview: ({ attrs }) => {\n\t\tusers.bucks({ total: true }).then(b => (bucks = b))\n\t\tconst so = {\n\t\t\tsubject: attrs.subject,\n\t\t\tsubjectType: attrs.subjectType\n\t\t}\n\n\t\tconst eventObject = i => {\n\t\t\treturn {\n\t\t\t\tseriesId: seriesId(so),\n\t\t\t\tfestivalId: festivalId(so),\n\t\t\t\tdateId: dateId(so),\n\t\t\t\tdayId: dayId(so),\n\t\t\t\textraction: extraction(i),\n\t\t\t\tcloseModal: attrs.hide,\n\t\t\t\tauth: attrs.auth,\n\t\t\t\tbucksUpdate: attrs.bucksUpdate\n\t\t\t}\n\t\t}\n\t\tconst mapping = {\n\t\t\tdisplay: attrs.display,\n\t\t\thide: attrs.hide,\n\t\t\tcancelAction: attrs.cancelAction,\n\t\t\tcancelText: attrs.cancelText,\n\t\t\tbucks: bucks,\n\t\t\teventObject: eventObject\n\t\t}\n\t\treturn m(jsx, mapping)\n\t}\n}\n\nexport default AccessModal\n","// src/componenets/modals/ModalBox.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport Artist from './ArtistEntryModal.jsx'\nimport Discuss from './DiscussModal.jsx'\nimport Flag from './FlagModal.jsx'\nimport Image from './ImageModal.jsx'\nimport OptionSelect from './OptionSelectModal.jsx'\nimport Review from './ReviewModal.jsx'\nimport Schedule from './SetScheduleModal.jsx'\nimport Text from './TextEntryModal.jsx'\nimport Access from './AccessModal.jsx'\n\nconst modals = {\n\tartist: Artist,\n\tdiscuss: Discuss,\n\tflag: Flag,\n\timage: Image,\n\toption: OptionSelect,\n\treview: Review,\n\tschedule: Schedule,\n\ttext: Text,\n\taccess: Access\n}\n\nvar display = ''\nconst baseAttrs = {\n\thide: () => display = '',\n\tdisplay: true\n}\n\nvar modalAttrs = _.assign({}, baseAttrs)\n\nconst ModalBox = {\n\tpopRequest: (modalType, modalData) => {\n\t\t//console.log('ModalBox popRequest', modalType, modalData)\n\t\tmodalAttrs = _.assign({}, baseAttrs, modalData)\n\t\tdisplay = modalType\n\t\tm.redraw()\n\t},\n\tview: ({attrs}) =>\n\t\t<div class=\"ft-modal-box\">\n\t\t\t{!modals[display] ? '' : m(modals[display], Object.assign({}, {auth: attrs.auth, bucksUpdate: attrs.bucksUpdate}, modalAttrs))}\n\t\t</div>\n}\n\nexport default ModalBox","// src/components/fields/ScheduleNowBar.jsx\n\nimport m from 'mithril'\nimport {remoteData} from '../../store/data'\nimport moment from 'dayjs'\n\nconst setHeight = ({attrs, dom}) => {\n\ttry {\n\t\tconst now = moment()\n\t\tconst dayStart = remoteData.Days.getStartMoment(attrs.dayId)\n\t\t//console.log('setHeight now', now, dayStart)\n\t\tdom.style.top = now.diff(dayStart, 'minutes') + 'px'\n\n\t} catch {\n\t\tdom.style.top = '0px'\n\t}\n} \n\n//calculate the number \nconst ScheduleNowBar = {\n\toncreate: setHeight,\n\tonupdate: setHeight,\n\tview: ({ attrs }) => <hr class=\"gt-schedule-now-bar\" />\n};\n\nexport default ScheduleNowBar;"," // src/components/gametime/Schedule.jsx\n\n//a full screen component that displays the days schedule\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport {subjectData} from '../../store/subjectData'\nimport {remoteData} from '../../store/data'\n\nimport ScheduleSet from '../fields/ScheduleSet.jsx'\nimport ScheduleLabel from '../fields/ScheduleLabel.jsx'\nimport ScheduleNowBar from '../fields/ScheduleNowBar.jsx'\nimport ScheduleLadder from '../layout/ScheduleLadder.jsx'\n\n\nconst sets = remoteData.Sets\nconst places = remoteData.Places\n\nconst allSets = dayId => sets.getFiltered({day: dayId})\nconst stages = allSets => places.getMany(allSets.map(x => x.stage))\n\t.sort((a, b) => a.priority - b.priority)\n\nconst Schedule = ({attrs}) => { \n\treturn {\n\t\toninit: ({attrs}) => {\n\t\t\t//console.log('Gametime oninit')\n\t\t},\n\t\toncreate: ({attrs, dom}) => {\n\t\t\tdom.querySelector('.ft-schedule-header').style.width = `calc(${stages(allSets(_.get(attrs.subjectObject, 'subject', 0))).length * 300}px + 12em)`\n\t\t},\n\t\tonupdate: ({attrs, dom}) => {\n\t\t\tdom.querySelector('.ft-schedule-header').style.width = `calc(${stages(allSets(_.get(attrs.subjectObject, 'subject', 0))).length * 300}px + 12em)`\n\t\t},\n\t\tview: ({attrs}) => <div class=\"ft-schedule\">\n\t\t\t<div class=\"ft-schedule-header\">\n\t\t\t\t{stages(allSets(_.get(attrs.subjectObject, 'subject', 0))).map(stage => <h2 class=\"ft-schedule-header-field\">{stage.name}</h2>)}\n\t\t\t</div>\n\n\t\t\t<ScheduleLadder  stageIds={stages(allSets(_.get(attrs.subjectObject, 'subject', 0))).map(x => x.id)}>\n\t\t\t\t{ [<ScheduleNowBar display={true} dayId={attrs.subjectObject.subject} />,\n\t\t\t\t...allSets(attrs.subjectObject.subject)\n\t\t\t\t//.filter(x => console.log('Schedule Ladder ', x) || true)\n\t\t\t\t\t.filter(data => data.end)\n\t\t\t\t\t//.filter(data => data.stage === 159)\n\t\t\t\t\t.map(data => <ScheduleSet \n\t\t\t\t\t\tuserId={attrs.userId} \n\t\t\t\t\t\tset={data}\n\t\t\t\t\t\ttop={true}\n\t\t\t\t\t\tstage={data.stage}\n\t\t\t\t\t\tclickFunction={() => {\n\t\t\t\t\t\t\t//console.log('Schedule Ladder Set click')\n\t\t\t\t\t\t\t//console.dir(data)\n\t\t\t\t\t\t\tm.route.set(`/gametime/${SET}/${data.id}`)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>)\n\t\t\t\t]}\n\t\t\t</ScheduleLadder>\n\t\t</div>\n}};\n\nexport default Schedule;\n","// src/components/gametime/NowPlaying.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport {remoteData} from '../../store/data'\nimport {subjectData} from '../../store/subjectData'\nimport SetCard from '../../components/cards/SetCard.jsx';\nimport FixedCardWidget from '../../components/widgets/FixedCard.jsx';\n\n//sets associated with the subject object\n\nconst sets = remoteData. Sets\nconst dates = remoteData. Dates\nconst days = remoteData. Days\nconst festivals = remoteData. Festivals\nconst places = remoteData. Places\n\nconst event = () => {return {\n\tsubject: parseInt(attrs.id, 10), \n\tsubjectType: DAY\n}}\n\nconst setsD = (yid) => sets.getFiltered(s => s.day === yid)\n\t\n\n\t\nconst NowPlaying = () => {\n\t\n\treturn {\n\t\tview: ({attrs}) => <div>\n\t\t\n\t\t\t<FixedCardWidget \n\t\t\t\theader={`Now Playing`} \n\t\t\t\tdisplay={setsD(attrs.dayId)\n\t\t\t\t\t.filter(s => sets.active(s.id))[0]\n\t\t\t\t\t}>\n\t\t\t{\n\t\t\t\tsetsD(attrs.dayId)\n\t\t\t\t\t.filter(s => sets.active(s.id))\n\t\t\t\t\t.map(s => <SetCard userId={attrs.userId} subjectObject={{subject: s.id, subjectType: SET}} />)\n\n\t\t\t}\n\t\t\t</FixedCardWidget>\n\t\t\n\t\t\t<FixedCardWidget \n\t\t\t\theader={`Next Up`}\n\t\t\t\tdisplay={sets.future(attrs.dayId).length} >\n\t\t\t{\n\t\t\t\t_.uniqBy(sets.future(attrs.dayId)\n\t\t\t\t\t.sort((a, b) => a.start - b.start), \n\t\t\t\t\t'stage'\n\t\t\t\t\t)\n\t\t\t\t\t.map(s => <SetCard userId={attrs.userId} subjectObject={{subject: s.id, subjectType: SET}} />)\n\n\t\t\t}\n\t\t\t</FixedCardWidget>\n\t\t\n\t\t\t<FixedCardWidget \n\t\t\t\theader={`Last Played`}\n\t\t\t\tdisplay={setsD(attrs.dayId)\n\t\t\t\t\t.filter(s => sets.ended(s.id))[0]\n\t\t\t\t\t} >\n\t\t\t{\n\t\t\t\t_.uniqBy(setsD(attrs.dayId)\n\t\t\t\t\t.filter(s => sets.ended(s.id))\n\t\t\t\t\t.sort((a, b) => b.end - a.end), \n\t\t\t\t\t'stage'\n\t\t\t\t\t)\n\t\t\t\t//.filter(x => console.log('Last Played', x) || true)\n\t\t\t\t\t.map(s => <SetCard \n\t\t\t\t\t\tuserId={attrs.userId} \n\t\t\t\t\t\tsubjectObject={{subject: s.id, subjectType: SET}} \n\t\t\t\t\t/>)\n\n\t\t\t}\n\t\t\t</FixedCardWidget>\n\t\t\n\t\t</div>\n}};\nexport default NowPlaying;","// src/components/gametime/Locations.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport {subjectData} from '../../store/subjectData'\nimport {subjectCard} from '../../components/cards/subjectCard.js'\nimport SetCard from '../../components/cards/SetCard.jsx';\nimport FixedCardWidget from '../../components/widgets/FixedCard.jsx';\nimport WidgetContainer from '../../components/layout/WidgetContainer.jsx';\n\n\n\n//sets\nconst rawPlaces = (subjectObject, count = 5) => {\n\tconst places = subjectData.places(subjectObject)\n\tconst placeSearchStrings = places\n\t\t.map(s => {return {subject: s.id, subjectType: PLACE}})\n\t\t//map to search string\n\t\t.map(so => _.assign({}, so, {name: subjectData.name(so)}))\n\treturn pattern => _.take(smartSearch(placeSearchStrings,\n\t\t[pattern], {name: true}\n\t\t), count)\n\t\t.map(x => x.entry)\n\t\t.map(s => {return {\n\t\t\tname: s.name,\n\t\t\tclickFunction: e => {\n\t\t\t\tsubjectData.checkIn(s)\n\t\t\t}\n\t\t}})\n}\n\t\nconst Locations = () => {\n\t\n\tlet pattern;\n\tvar cardItems = []\n\tconst searchObject = {\n\t\tsetResults: function(pattern) {\n\t\t\tconst placeItems = vnode && vnode.attrs && vnode.attrs.gtDate ? rawPlaces(attrs.subjectObject)(pattern) : []\n\t\t\tconst placeGroup = [{name: 'Check into:'}, ...placeItems]\n\t\t\tcardItems = [...placeGroup]\n\t\t},\n\t\tgetResults: function() {\n\t\t\treturn cardItems\n\t\t}\n\t}\n\tconst patternChange = e => {\n\t\tpattern = e.target.value\n\t\tsearchObject.setResults(e.target.value)\n\t\t//console.log('ArtistSearchWidget pattern ' + pattern)\n\t}\n\treturn {\n\t\tview: ({attrs}) => <div>\n\t\t\t{console.log('Locations attrs', attrs)}\n\t\t\t<WidgetContainer>\n\t\t\n\t\t\t\t<FixedCardWidget header={`Check In`} display={true}>\n\t\t\t\t\t{// my current checkin\n\t\t\t\t\t\t`Current checkin: ${subjectData.name(subjectData.checkedIn({subject: attrs.userId, subjectType: USER}))}`\n\t\t\t\t\t}\n\t\t\t\t\t{subjectData.active(attrs.subjectObject) ? <div>\n\n\t\t\t\t\t\t{/* search/add bar <SearchCard patternChange={patternChange} /> */}\n\t\t\t\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t{/* places select */}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t: ''}\n\t\t\t\t</FixedCardWidget>\n\t\t\n\t\t\t\t<FixedCardWidget header={`Locations`} display={true}>\n\t\t\t\t{\n\t\t\t\t\tsubjectData.places(attrs.subjectObject)\n\t\t\t\t\t\t//.filter(s => console.log('Locations place', s) || true)\n\t\t\t\t\t\t.sort((a, b) => {\n\t\t\t\t\t\t\tif(a.type - b.type) return a.type - b.type\n\t\t\t\t\t\t\tif(a.priority - b.priority) return a.priority - b.priority\n\t\t\t\t\t\t\treturn 0\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.map(s => subjectCard({subject: s.id, subjectType: PLACE}, {dayId: attrs.dayId}))\n\n\t\t\t\t}\n\t\t\t\t</FixedCardWidget>\n\t\t\t\n\t\t\t\t<FixedCardWidget header={`People`} display={true}>\n\t\t\t\t{\n\n\t\t\t\t\tsubjectData.users(attrs.subjectObject)\n\t\t\t\t\t\t.map(s => {\n\t\t\t\t\t\t\tconst mainSubject = {subject: s.id, subjectType: USER}\n\t\t\t\t\t\t\tconst contextObject = subjectData.checkedIn(mainSubject)\n\t\t\t\t\t\t\treturn subjectCard(mainSubject, {contextObject: contextObject, data: s})\n\t\t\t\t\t\t})\n\n\t\t\t\t}\n\t\t\t\t</FixedCardWidget>\n\t\t\n\t\t\t</WidgetContainer>\n\t\t</div>\n}};\nexport default Locations;","// src/components/cards/ReviewCard.jsx\n\nimport m from 'mithril'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx'\n\nconst ReviewCard = {\n\t  view: ({ attrs }) =>\n\t    <div class={\"ft-card ft-card-review \" + (attrs.uiClass ? attrs.uiClass : '')} >\n\t      <div class=\"ft-fields\" onclick={e => attrs.popModal('review', {\n\t\t\tsubjectObject: attrs.subjectObject ? attrs.subjectObject : {\n\t\t\t\tsubject: attrs.data.id,\n\t\t\t\tsubjectType: attrs.subjectType ? attrs.subjectType : ARTIST\n\t\t\t}\n\t      })}>\n\t        <ComposedNameField fieldValue={'Review ' + (attrs.data && attrs.data.name || attrs.name)} />\n\t      </div>\n\t    </div>\n}\n\nexport default ReviewCard;\n\n","// src/components/cards/ReviewArrayCard.jsx\n\nimport m from 'mithril'\n// Services\nimport moment from 'dayjs'\n\n\nimport  AverageRatingField from '../fields/AverageRatingField.jsx';\nimport  UserAvatarField from '../fields/UserAvatarField.jsx';\n\nconst ReviewArrayCard = vnode => {\n  var showLong = false\n  \n  return {\n    view: ({ attrs }) =>\n      <div class=\"ft-card-large\" onclick={attrs.clickFunction ? attrs.clickFunction : e => false}>\n        <div class=\"ft-vertical-fields\">\n          <UserAvatarField data={attrs.review.author} userId={attrs.userId} />\n          <AverageRatingField averageRating={attrs.review.rating} />\n          <span>{moment(attrs.review.timestamp).fromNow()}</span>\n        </div>\n          <span onclick={e => {\n            //console.log('span click'); \n            e.stopPropagation(); \n            if(showLong) return \n            showLong = true; \n          }}>\n            {!attrs.shortDefault || showLong || !attrs.review.comment ? attrs.review.comment : attrs.review.comment.substring(0, 100) + '...(+expand)'}\n          </span>\n      </div>\n    \n}};\n\nexport default ReviewArrayCard;\n\n","// src/components/ui/ToggleControl.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n\n\nconst ToggleControl = vnode => {\n\treturn {\n\t\tview: ({ attrs }) => <ul class=\"ft-toggle-control\">\n  <li class=\"ft-toggle-list-item\">\n    <div>{attrs.offLabel}</div>\n    <input \n    \tclass=\"ft-toggle ft-toggle-light\" \n    \tid={`${attrs.offLabel}-${attrs.onLabel}`} \n    \ttype=\"checkbox\"\n    \tonclick={e => {\n    \t\te.stopPropagation()\n            if(!attrs.permission) return attrs.unauth ? attrs.unauth(m.route.get()) : undefined\n    \t\tattrs.setter(attrs.getter() ? 0 : 1)\n    \t}}\n        checked={attrs.getter()}\n    />\n    <label class=\"ft-toggle-btn\" for={`${attrs.offLabel}-${attrs.onLabel}`}></label>\n    <div>{attrs.onLabel}</div>\n  </li>\n  </ul>\n\t};\n\n}\n\nexport default ToggleControl;","// src/components/ui/canned/CheckinToggle.jsx\n\n//given a list of bands to research, this widget \n//filters out unneded ones, sorts the rest and displays artist cards\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport {remoteData} from '../../../store/data';\nimport {subjectData} from '../../../store/subjectData';\nimport {sameSubject} from '../../../services/subjectFunctions';\nimport ToggleControl from '../ToggleControl.jsx';\n\nconst {Messages: messages} = remoteData\n\n\n\n\t\t\nconst CheckinToggle = {\n\t\tview: ({attrs}) => <ToggleControl\n\t\t\toffLabel={attrs.offLabel ? attrs.offLabel : 'Not there'}\n\t\t\tonLabel={attrs.onLabel ? attrs.onLabel : 'I\\'m here'}\n\t\t\t\n\t\t\tgetter={() => {\n\t\t\t\t return messages.implicit(attrs.subjectObject, attrs.userId)\n\n\t\t\t}}\n\t\t\tsetter={newState => {\n\t\t\t\t//when toggled:\n\t\t\t\t\t//if the user was not checked in, check in the user to the subject\n\t\t\t\t\tconst notCheckedIn = !messages.implicit(attrs.subjectObject, attrs.userId)\n\t\t\t\t\tconst checkinAllowed = _.isBoolean(attrs.checkinAllowed) ? attrs.checkinAllowed :  notCheckedIn && subjectData.active(attrs.subjectObject) && attrs.permission\n\t\t\t\t//console.log('CheckinToggle setter start',attrs.userId, attrs.subjectObject, checkinAllowed)\n\t\t\t\t//console.log('CheckinToggle', attrs.subjectObject, attrs.userId, notCheckedIn, checkinAllowed, subjectData.active(attrs.subjectObject), newState)\n\t\t\t\t\tif(checkinAllowed) subjectData.checkIn(attrs.subjectObject)\n\t\t\t\t\t//open the subject in gametime\n\t\t\t\t\t//console.log('CheckinToggle setter checkinAllowed',checkinAllowed)\n\t\t\t\t\tm.route.set(`/gametime/${attrs.subjectObject.subjectType}/${attrs.subjectObject.subject}`)\n\t\t\t}}\n\t\t\tpermission={attrs.permission}\n\n\t\t/>\n}\n\nexport default CheckinToggle;","// src/components/widgets/canned/ReviewArraysWidget.jsx\n\nimport m from 'mithril'\n\nimport FixedCardWidget from '../FixedCard.jsx';\n\n\n\nconst ReviewArraysWidget = {\n\t\tview: (vnode) => <FixedCardWidget \n\t\t\t\theader={vnode.attrs.header} \n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\tvnode.children\n\t\t\t\t}\n\t\t\t</FixedCardWidget>\t\n};\n\nexport default ReviewArraysWidget;","// src/components/gametime/SetDetail.jsx\n\n//a full screen component that displays the days schedule\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport {subjectData} from '../../store/subjectData'\nimport {remoteData} from '../../store/data'\n\nimport ReviewCard from '../../components/cards/ReviewCard.jsx';\nimport ReviewArrayCard from '../../components/cards/ReviewArrayCard.jsx';\nimport UserCard from '../../components/cards/UserCard.jsx';\n\nimport CheckinToggle from '../ui/canned/CheckinToggle.jsx'\nimport WidgetContainer from '../../components/layout/WidgetContainer.jsx';\nimport FixedCardWidget from '../../components/widgets/FixedCard.jsx';\nimport ReviewArraysWidget from '../../components/widgets/canned/ReviewArraysWidget.jsx';\n\nimport NameField from '../../components/fields/NameField.jsx';\nimport CloudImageField from '../../components/fields/CloudImageField.jsx';\n\nimport DiscussModal from '../modals/DiscussModal.jsx';\n\nconst {Dates: dates, Sets: sets, Messages: messages} = remoteData\nconst jsx = {\n\tview: function ({attrs}) {return <div>\n\t\n{\n\t//console.log('gt setDetail attrs', attrs)\n}\n\t<WidgetContainer>\n\t<NameField fieldValue={attrs.name} />\n\t\t<FixedCardWidget >\n\t\t\t<CloudImageField \n\t\t\t\tsubjectType={attrs.subjectType} \n\t\t\t\tsubject={attrs.subject} \n\t\t\t\tcamera={true}\n\t\t\t\tsources={['local']}\n\t\t\t\taddDisabled={!attrs.checkedIn}\n\t\t\t\tuserId={attrs.userId}\n\t\t\t\tusePlaceholders={true}\n\t\t\t/>\n\t\t</FixedCardWidget>\n\t\t\t<FixedCardWidget >\n\t\t{attrs.checkinAllowed ?\n\t\t\t\t<CheckinToggle \n\t\t\t\t\tsubjectObject={attrs.subjectObject} \n\t\t\t\t\tdebug={false}\n\t\t\t\t\tpermission={attrs.checkinAllowed} \n\t\t\t\t\tallowed={attrs.checkinAllowed}\n\t\t\t\t/>\n\t\t: ''}\n\t\t\t\t{attrs.checkedIn ? <ReviewCard \n\t\t\t\t\tsubjectObject={attrs.subjectObject} \n\t\t\t\t\tname={subjectData.name(attrs.subjectObject)} \n\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t/> : ''}\n\t\t\t</FixedCardWidget>\n\t\t{attrs.checkins && attrs.checkins.active && attrs.checkins.active.length ? <ReviewArraysWidget \n\t\t\theader={`Checked In`}\n\t\t>\n\t\t\t{\n\t\t\t\t_.uniqBy(attrs.checkins.active, 'fromuser')\n\t\t\t\t\t//.filter(r => console.log('SetDetail checkins.active map', r) || true)\n\t\t\t\t\t.map(checkin => <UserCard \n\t\t\t\t\t\tdata={{id: checkin.fromuser}}\n\t\t\t\t\t/>)\n\t\t\t\t\t\t\t\n\t\t\t}\n\t\t</ReviewArraysWidget> : ''}\n\t\t{attrs.checkins && attrs.checkins.ended && attrs.checkins.ended.length ? <ReviewArraysWidget \n\t\t\theader={`Checked Out`}\n\t\t>\n\t\t\t{\n\t\t\t\t_.uniqBy(attrs.checkins.ended, 'fromuser')\n\t\t\t\t\t//.filter(r => console.log('SetDetail checkins.ended map', r) || true)\n\t\t\t\t\t.map(checkin => <UserCard \n\t\t\t\t\t\tdata={{id: checkin.fromuser}}\n\t\t\t\t\t/>)\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t}\n\t\t</ReviewArraysWidget> : ''}\n\t\t{attrs.myReviews && attrs.myReviews.length ? <ReviewArraysWidget \n\t\t\theader={`My Reviews`}\n\t\t>\n\t\t\t{\n\t\t\t\tattrs.myReviews\n\t\t\t\t\t//.filter(r => console.log('SetDetail myReviews map', r) || true)\n\t\t\t\t\t.map(review => <ReviewArrayCard \n\t\t\t\t\t\treview={review} \n\t\t\t\t\t\tshortDefault={true}\n\t\t\t\t\t/>)\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t}\n\t\t</ReviewArraysWidget> : ''}\n\t\t{attrs.friendReviews && attrs.friendReviews.length ? <ReviewArraysWidget \n\t\t\theader={`Followed Reviews`}\n\t\t>\n\t\t\t{\n\t\t\t\tattrs.friendReviews\n\t\t\t\t\t.filter(r => remoteData.Interactions.some(i => r.author === i.subject && i.subjectType === USER && i.type === FOLLOW))\n\t\t\t\t\t//.filter(r => console.log('SetDetail review.friendReviews map', r) || true)\n\t\t\t\t\t.map(review => <ReviewArrayCard \n\t\t\t\t\t\treview={review} \n\t\t\t\t\t\tshortDefault={true}\n\t\t\t\t\t/>)\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t}\n\t\t</ReviewArraysWidget> : ''}\n\t\t{attrs.friendReviews && attrs.friendReviews.length ? <ReviewArraysWidget \n\t\t\theader={`Other Reviews`}\n\t\t>\n\t\t\t{\n\t\t\t\tattrs.friendReviews\n\t\t\t\t\t.filter(r => !remoteData.Interactions.some(i => r.author === i.subject && i.subjectType === USER && i.type === FOLLOW))\n\t\t\t\t\t//.filter(r => console.log('SetDetail review.friendReviews map', r) || true)\n\t\t\t\t\t.map(review => <ReviewArrayCard \n\t\t\t\t\t\treview={review} \n\t\t\t\t\t\tshortDefault={true}\n\t\t\t\t\t/>)\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t}\n\t\t</ReviewArraysWidget> : ''}\n\t\t\n\t</WidgetContainer>\n\t{\n\t\t//console.log('SetDetail view done')\n}\n</div>}\n}\nconst SetDetail = { \n\tname: 'SetDetail',\n\tview: ({attrs}) => {\n\t\t//console.log('SetDetail attrComp', attrs)\n\t\tconst dayId = attrs.subjectObject.subjectType === 9 ? attrs.subjectObject.subject :\n\t\t\tattrs.subjectObject.subjectType === 3 ? sets.getDayId(attrs.subjectObject.subject) :\n\t\t\t0\n\t\tconst dateId = attrs.subjectObject.subjectType === 8 ? attrs.subjectObject.subject :\n\t\t\tattrs.subjectObject.subjectType === 3 ? sets.getDateId(attrs.subjectObject.subject) :\n\t\t\tattrs.subjectObject.subjectType === 9 ? dates.getDateId(attrs.subjectObject.subject) :\n\t\t\t0\n\t\tconst setId = attrs.subjectObject.subjectType === 3 ? attrs.subjectObject.subject : 0\n\t\tconst userId = attrs.userId\n\t\tconst subjectObject = {\n\t\t\tsubject: attrs.subjectObject.subject,\n\t\t\tsubjectType: attrs.subjectObject.subjectType\n\t\t}\n\t\tconst subject = attrs.subjectObject.subject\n\t\tconst subjectType = attrs.subjectObject.subjectType\n\t\tconst set = sets.get(setId)\n\t\tconst checkedIn = messages.implicit(subjectObject, userId)\n\t\tconst checkinAllowed = sets.active(setId) && !checkedIn\n\t\tconst eventCheckins = messages.getFiltered(_.assign({messageType: CHECKIN}, subjectObject))\n\n\n\t\tconst checkins = eventCheckins.reduce((checkins, ec) => {\n\t\t\tconst active = messages.implicit(ec, ec.fromuser)\n\t\t\tif(active) checkins.active.push(ec)\n\t\t\telse checkins.ended.push(ec)\n\t\t\treturn checkins\n\t\t}, {\n\t\t\tactive: [],\n\t\t\tended: []\n\t\t})\n\t\tconst name = sets.getName(setId)\n\t\tconst reviews = subjectData.getReviews(subjectObject, userId)\n\t\tconst myReviews = reviews.myReviews\n\t\tconst friendReviews = reviews.friendReviews\n\t\tconst mapping = {\n\t\t\tdayId: dayId,\n\t\t\tdateId: dateId,\n\t\t\tsetId: setId,\n\t\t\tuserId: userId,\n\t\t\tsubjectObject: subjectObject,\n\t\t\tsubject: subject,\n\t\t\tsubjectType: subjectType,\n\t\t\tset: set,\n\t\t\tcheckedIn: checkedIn,\n\t\t\tcheckinAllowed: checkinAllowed,\n\t\t\tcheckins: checkins,\n\t\t\tname: name,\n\t\t\tmyReviews: myReviews,\n\t\t\tfriendReviews: friendReviews,\n\t\t\tpopModal: attrs.popModal\n\t\t}\n\t\t//console.log('SetDetail attrComp mapping', mapping)\n\t\n\t\treturn m(jsx, mapping )\n}}\nexport default SetDetail;","// src/components/fields/SearchField.jsx\n\nimport m from \"mithril\"\n\nconst SearchField = {\n\toncreate: ({ dom }) => {\n\t\t//console.log(\"search field created\")\n\t\tdom.querySelector(\"input\").focus()\n\t},\n\tview: ({ attrs }) => (\n\t\t<div class=\"ft-search-field\">\n\t\t\t<label class=\"hidden\" for=\"search-input\">\n\t\t\t\tSearch\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"ft-search-field-input\"\n\t\t\t\t//onfocusout={attrs.fieldBlur ? attrs.fieldBlur : () => {}}\n\t\t\t\t//onfocus={attrs.fieldFocus ? attrs.fieldFocus : () => {}}\n\t\t\t\toninput={e => attrs.patternChange(e.target.value)}\n\t\t\t\tname=\"search-input\"\n\t\t\t/>\n\t\t</div>\n\t),\n}\n\nexport default SearchField\n","// src/components/gametime/GametimeSearchBar.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport smartSearch from 'smart-search'\n\nimport CollapsibleMenu from '../ui/CollapsibleMenu.jsx';\nimport SearchField from '../fields/SearchField.jsx';\n\nimport {subjectData} from '../../store/subjectData'\n\n\n//sets\nconst rawSets = (subjectObject, count = 5) => {\n\tconst sets = subjectData.sets(subjectObject)\n\tconst setSearchStrings = sets\n\t\t.map(s => {return {subject: s.id, subjectType: SET}})\n\t\t//map to search string by removing everything but artist name\n\t\t.map(so => _.assign({}, so, {name: subjectData.name(so).replace(/(.*):(.*)/, '$1')}))\n\treturn pattern => _.take(smartSearch(setSearchStrings,\n\t\t[pattern], {name: true}\n\t\t), count)\n\t\t.map(x => x.entry)\n\t\t.map(s => {return {\n\t\t\tname: s.name,\n\t\t\tpath: '/gametime/3/' + s.subject\n\t\t}})\n}\t\n\n \n//places\n//days\n//venue\n\nconst GametimeSearchBar = vnode => {\n\tvar menuHidden = true\n\tvar menuItems = []\n\tconst searchObject = {\n\t\tsetResults: function(pattern) {\n\t\t\tconst setItems = vnode && vnode.attrs && vnode.attrs.gtDate ? rawSets(vnode.attrs.gtDate)(pattern) : []\n\t\t\tconst setGroup = [{name: 'Sets'}, ...setItems]\n\t\t\tmenuItems = [...setGroup]\n\t\t},\n\t\tgetResults: function() {\n\t\t\tif(menuItems.length) menuHidden = false\n\t\t\treturn menuItems\n\t\t}\n\t}\n\treturn {\n\t\tview: ({ attrs }) => <div>\n\t\t\t\t<SearchField patternChange={searchObject.setResults} />\n\t\t\t<CollapsibleMenu \n\t\t\t\tmenu={searchObject.getResults()} \n\t\t\t\tcollapsed={menuHidden}\n\t\t\t\titemClicked={() => menuHidden = true}\n\t\t\t/>\n\t\t</div>\n\t};\n\n}\n\nexport default GametimeSearchBar;","// src/components/gametime/GametimeBanner.jsx\n\nimport m from \"mithril\"\n\nimport Icon from \"../fields/Icon.jsx\"\nimport BannerButton from \"../ui/BannerButton.jsx\"\nimport GametimeSearchBar from \"./GametimeSearchBar.jsx\"\n\nconst GametimeBanner = {\n\tview: ({ attrs, children }) => (\n\t\t<div class=\"gametime-banner-container\">\n\t\t\t<div class=\"gametime-banner\">\n\t\t\t\t<GametimeSearchBar gtDate={{ subject: attrs.dateId, subjectType: 8 }} />\n\t\t\t\t{\n\t\t\t\t\t/*\n\t\t\t<CollapsibleMenu \n\t\t\t\tmenu={menuList.concat([userValid ? validUserItem : invalidUserItem])} \n\t\t\t\tcollapsed={menuHidden}\n\t\t\t\titemClicked={() => menuHidden = true}\n\t\t\t/>\n\n\n\t\t\t\t\t*/\n\t\t\t\t\t//console.log('GametimeBanner dateId/dayId', attrs.dateId, attrs.dayId)\n\t\t\t\t}\n\n\t\t\t\t{attrs.dateId ? (\n\t\t\t\t\t//go to locations\n\t\t\t\t\t<BannerButton\n\t\t\t\t\t\ticon={<Icon name=\"location\" />}\n\t\t\t\t\t\tclickFunction={e =>\n\t\t\t\t\t\t\tm.route.set(`/gametime/locations/8/${attrs.dateId}`)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\n\t\t\t\t{attrs.dateId ? (\n\t\t\t\t\t//go to now playing\n\t\t\t\t\t<BannerButton\n\t\t\t\t\t\ticon={<Icon name=\"clock\" />}\n\t\t\t\t\t\tclickFunction={e => m.route.set(`/gametime/8/${attrs.dateId}`)}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t{attrs.dayId ? (\n\t\t\t\t\t//go to schedule view\n\t\t\t\t\t<BannerButton\n\t\t\t\t\t\ticon={<Icon name=\"calendar\" />}\n\t\t\t\t\t\tclickFunction={e => m.route.set(`/gametime/9/${attrs.dayId}`)}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t{\n\t\t\t\t\t//exit back to launcher\n\t\t\t\t\t<BannerButton\n\t\t\t\t\t\ticon={<Icon name=\"share\" />}\n\t\t\t\t\t\tclickFunction={e => m.route.set(\"/launcher\")}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t\t{children}\n\t\t</div>\n\t)\n}\n\nexport default GametimeBanner\n","// src/components/gametime/Gametime.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport localforage from 'localforage'\nlocalforage.config({\n\tname: \"FestiGram\",\n\tstoreName: \"FestiGram\"\n})\n\nimport Schedule from './Schedule.jsx'\nimport NowPlaying from './NowPlaying.jsx'\nimport Locations from './Locations.jsx'\nimport SetDetail from './SetDetail.jsx'\nimport GametimeBanner from './GametimeBanner.jsx';\nimport {subjectData} from '../../store/subjectData'\nimport {remoteData} from '../../store/data'\n\n\nconst {Sets: sets, Dates: dates, Days: days} = remoteData\n\nconst jsx = {\n\tview: ({attrs}) =>\n\t\t<div class=\"main-stage-gametime\">\n\t\t<GametimeBanner \n\t\t\ttitle={`gametime`} \n\t\t\tdateId={attrs.dateId}\n\t\t\tdayId={attrs.dayId}\n\t\t\n\t\t/>\n\t\t\t<div class=\"main-stage-gametime-content-scroll\">\n\t\t\t{\n\t\t\t\t/locations/.test(m.route.get()) ? <Locations dateId={attrs.dateId} dayId={attrs.dayId} subjectObject={attrs.subjectObject} userId={attrs.userId} /> :\n\t\t\t\tattrs.subjectType === 9 ? <Schedule dateId={attrs.dateId} dayId={attrs.dayId} subjectObject={attrs.subjectObject}/> : \n\t\t\t\tattrs.subjectType === 8 ? <NowPlaying dateId={attrs.dateId} dayId={attrs.dayId} subjectObject={attrs.subjectObject}/> : \n\t\t\t\t<SetDetail dateId={attrs.dateId} dayId={attrs.dayId} subjectObject={attrs.subjectObject} userId={attrs.userId} popModal={attrs.popModal}/> \n\t\t\t}\n\t\t\t</div>\n\t\t</div>\n}\nconst Gametime = {\n\tname: 'Gametime',\n\t\tpreload: (rParams) => {\n\t\t\t//if a promise returned, instantiation of component held for completion\n\t\t\t//route may not be resolved; use rParams and not m.route.param\n\t\tconst dateId = rParams.subjectType === '8' ? parseInt(rParams.subject, 10) :\n\t\t\trParams.subjectType === '3' ? sets.getDateId(parseInt(rParams.subject, 10)) :\n\t\t\trParams.subjectType === '9' ? days.getDateId(parseInt(rParams.subject, 10)) :\n\t\t\t0\n\t\t\t//messages.forArtist(dateId)\n\t\t\t//console.log('Research preload', seriesId, festivalId, rParams)\n\t\t\tif(dateId) return dates.subjectDetails({subject: dateId, subjectType: DATE})\n\t\t},\n\tview: ({attrs}) => {\n\t\tif(!attrs.userId) return m.route.set('/--')\n\t\t//console.log('gametime attrs', attrs)\n\t\tconst mapping = {\n\t\t\tdateId: attrs.subjectType === 8 ? attrs.subject :\n\t\t\t\tattrs.subjectType === 3 ? sets.getDateId(attrs.subject) :\n\t\t\t\tattrs.subjectType === 9 ? days.getDateId(attrs.subject) :\n\t\t\t\t0,\n\t\t\tdayId: attrs.subjectType === 9 ? attrs.subject :\n\t\t\t\tattrs.subjectType === 3 ? sets.getDayId(attrs.subject) :\n\t\t\t\tattrs.subjectType === 8 ? dates.activeDay(attrs.subject) :\n\t\t\t\t0,\n\t\t\tsetId: attrs.subjectType === 3 ? attrs.subject :\n\t\t\t\t0,\n\t\t\tuserId: attrs.userId,\n\t\t\tsubjectObject: {\n\t\t\t\tsubject: attrs.subject,\n\t\t\t\tsubjectType: attrs.subjectType\n\t\t\t},\n\t\t\tsubject: attrs.subject,\n\t\t\tsubjectType: attrs.subjectType,\n\t\t\tpopModal: attrs.popModal\n\t\t}\n\t\n\t\treturn m(jsx, mapping )\n\t}\n}\n\nexport default Gametime;\n","// src/components/ui/StageTitle.jsx\n\nimport m from 'mithril'\n\nconst StageTitle = {\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-stage-title\">{attrs.title}</div>\n};\n\nexport default StageTitle;","// src/components/ui/LiveButton.jsx\n\nimport m from 'mithril'\n\nimport {remoteData} from '../../store/data.js'\n\nconst {\n\tDates: dates,\n\tFestivals: festivals,\n\tSeries: series\n} = remoteData\nconst LiveButton = {\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-button-live\" onclick={e => {\n\t\t\tm.route.set(`gametime/${DATE}/${attrs.date.id}`)\n\t\t}}>\n\t\t\t<span>LIVE<br />{\n\t\t\t\tfestivals.getEventNameArray(attrs.date.festival)[0]\n\t\t\t}</span>\n\t\t</div>\n};\n\nexport default LiveButton;","// src/components/ui/SearchExapnse.jsx\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n\nimport BannerButton from \"./BannerButton.jsx\"\nimport CollapsibleMenu from \"./CollapsibleMenu.jsx\"\nimport Icon from \"../fields/Icon.jsx\"\nimport SearchField from \"../fields/SearchField.jsx\"\n\nimport { remoteData } from \"../../store/data.js\"\n\nconst rawSeries = pattern => (pattern ? remoteData.Series.patternMatch(pattern, 2) : [])\nconst rawArtists = pattern =>\n\tpattern ? remoteData.Artists.remoteSearch(pattern, 3) : Promise.resolve([])\nconst rawUsers = pattern =>\n\tpattern ? remoteData.Users.remoteSearch(pattern, 3) : Promise.resolve([])\nconst body = dom => {\n\tif (!dom) throw new Error(\"not valid DOM\", dom)\n\tif (dom.nodeName === \"BODY\") return dom\n\treturn body(dom.parentNode)\n}\nconst isHeader = (stopNode, el) => {\n\tif (stopNode.isSameNode(el)) return false\n\tif (el.classList.contains(\"ft-menu-item-header\")) return true\n\treturn isHeader(stopNode, el.parentNode)\n}\nconst SearchExapnse = vnode => {\n\tvar menuHidden = true\n\tvar menuLock = true\n\tvar menuItems = []\n\tvar lastRoute = \"\"\n\tconst hideMenu = dom => e => {\n\t\t//console.log(\"SearchExapnse dom e\", menuHidden, dom.contains(e.target))\n\t\tconst contained = dom.contains(e.target)\n\t\tconst excepted =\n\t\t\te.target.name === \"search-input\" || (contained && isHeader(dom, e.target))\n\t\t//console.log(\"hideMenu call\", excepted, e.target)\n\t\tif (excepted) {\n\t\t\te.stopPropagation()\n\t\t\treturn false\n\t\t}\n\t\tif (!contained) {\n\t\t\tmenuLock = true\n\t\t} else {\n\t\t\tmenuLock = !menuLock\n\t\t}\n\t\tm.redraw()\n\t}\n\tconst searchObject = {\n\t\tsetResults: function(pattern) {\n\t\t\tPromise.all([rawArtists(pattern), rawUsers(pattern)])\n\t\t\t\t.then(([artists, users]) => {\n\t\t\t\t\tconst series = rawSeries(pattern)\n\t\t\t\t\tconst seriesItems = series.map(s => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tname: s.name,\n\t\t\t\t\t\t\tpath: \"/series/pregame/\" + s.id,\n\t\t\t\t\t\t\tgroup: \"Festivals\"\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tconst artistItems = _.take(artists, 3).map(a => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tname: a.name,\n\t\t\t\t\t\t\tpath: \"/artists/pregame/\" + a.id,\n\t\t\t\t\t\t\tgroup: \"Artists\"\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tconst userItems = _.take(users, 3).map(a => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tname: a.username,\n\t\t\t\t\t\t\tpath: \"/users/pregame/\" + a.id,\n\t\t\t\t\t\t\tgroup: \"People\"\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tconst seriesGroup = seriesItems.length\n\t\t\t\t\t\t? [{ name: \"Festivals\", header: true }].concat(seriesItems)\n\t\t\t\t\t\t: []\n\t\t\t\t\tconst artistGroup = artistItems.length\n\t\t\t\t\t\t? [{ name: \"Artists\", header: true }].concat(artistItems)\n\t\t\t\t\t\t: []\n\t\t\t\t\tconst userGroup = userItems.length\n\t\t\t\t\t\t? [{ name: \"People\", header: true }].concat(userItems)\n\t\t\t\t\t\t: []\n\t\t\t\t\tmenuItems = [...seriesGroup, ...artistGroup, ...userGroup]\n\t\t\t\t\t//console.log(\"setResults menuItems\", pattern, menuItems) || menuItems\n\t\t\t\t})\n\t\t\t\t.then(() => m.redraw())\n\t\t\t\t.catch(console.error)\n\t\t},\n\t\tgetResults: function() {\n\t\t\tif (menuItems.length) menuHidden = false\n\t\t\treturn menuItems\n\t\t}\n\t}\n\treturn {\n\t\toninit: vnode => (lastRoute = m.route.get()),\n\t\tonbeforeupdate: vnode => {\n\t\t\tif (lastRoute !== m.route.get()) {\n\t\t\t\tmenuHidden = true\n\t\t\t\tlastRoute = m.route.get()\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\t\t/*\n\t\toncreate: ({dom}) => {\n\t\t\tconst vpw = document.body.offsetWidth\n\t\t\tconst elWidth = vpw > 799 ? '10em' : '50px'\n\t\t\tdom.style.width = elWidth\n\n\t\t},\n\t\t*/\n\t\toncreate: ({ attrs, dom }) => {\n\t\t\tbody(dom).addEventListener(\"click\", hideMenu(dom))\n\t\t},\n\t\tonremove: ({ attrs, dom }) => {\n\t\t\tbody(dom).removeEventListener(\"click\", hideMenu(dom))\n\t\t},\n\t\tview: vnode => (\n\t\t\t<div class=\"ft-search-expanse\">\n\t\t\t\t<BannerButton\n\t\t\t\t\ticon={<Icon name=\"search\" />}\n\t\t\t\t\tclickFunction={e => {\n\t\t\t\t\t\t//console.log(\"Search Icon Click\", menuLock, menuHidden)\n\t\t\t\t\t\tmenuLock = false\n\t\t\t\t\t\tmenuHidden = false\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\tsearchObject.setResults(``)\n\t\t\t\t\t}}\n\t\t\t\t\tclasses={!menuLock && !menuHidden ? \"hidden\" : \"\"}\n\t\t\t\t/>\n\t\t\t\t<CollapsibleMenu\n\t\t\t\t\tmenu={searchObject.getResults()}\n\t\t\t\t\tcollapsed={menuLock || menuHidden}\n\t\t\t\t\tleft={true}\n\t\t\t\t\titemClicked={() => {\n\t\t\t\t\t\tvnode.dom.querySelector('input[name=\"search-input\"]').value = ``\n\t\t\t\t\t\tsearchObject.setResults(``)\n\t\t\t\t\t\t//menuHidden = true\n\t\t\t\t\t}}\n\t\t\t\t\theader={\n\t\t\t\t\t\t<SearchField\n\t\t\t\t\t\t\tpatternChange={searchObject.setResults}\n\t\t\t\t\t\t\tcollapsed={menuLock || menuHidden}\n\t\t\t\t\t\t\t//fieldBlur={(e) => {console.log('blurring', e);if(e.explicitOriginalTarget) menuLock = true;}}\n\t\t\t\t\t\t\t//fieldFocus={() => {menuLock = false;}}\n\t\t\t\t\t\t\t//ph={`Festivals & Artists`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default SearchExapnse\n","// src/components/ui/ LauncherBanner.jsx\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n\nimport { remoteData } from \"../../store/data\"\n\nimport StageTitle from \"./StageTitle.jsx\"\nimport DisplayButton from \"./DisplayButton.jsx\"\nimport LiveButton from \"./LiveButton.jsx\"\nimport BannerButton from \"./BannerButton.jsx\"\nimport CollapsibleMenu from \"./CollapsibleMenu.jsx\"\nimport SearchExpanse from \"./SearchExpanse.jsx\"\nimport Icon from \"../fields/Icon.jsx\"\n\nconst { Flags: flags, Dates: dates } = remoteData\n\nconst title = attrs => (attrs.titleGet() ? attrs.titleGet() : `FestiGram`)\nconst event = attrs => {\n\t//const key = m.route.get()\n\t//const cached = _.get(eventCache, key)\n\t//if(cached) return cached\n\tconst event = attrs.eventGet && attrs.eventGet() ? attrs.eventGet() : {}\n\t//console.log(\"LauncherBanner event\", event)\n\t//_.set(eventCache, key, event)\n\treturn event\n}\nconst LauncherBanner = () => {\n\treturn {\n\t\tview: ({ attrs, children }) => (\n\t\t\t<div class=\"ft-stage-banner-container\">\n\t\t\t\t<div class=\"ft-stage-banner\">\n\t\t\t\t\t{_.uniqBy(\n\t\t\t\t\t\t[...dates.checkedIn(attrs.userId), ...dates.intended()],\n\t\t\t\t\t\t\"id\"\n\t\t\t\t\t).map(d => (\n\t\t\t\t\t\t<LiveButton date={d} />\n\t\t\t\t\t))}\n\t\t\t\t\t{\n\t\t\t\t\t\t//console.log('LauncherBanner focusSubject', attrs.focusSubject())\n\t\t\t\t\t}\n\t\t\t\t\t{event(attrs) && event(attrs).src ? (\n\t\t\t\t\t\t<BannerButton\n\t\t\t\t\t\t\ticon={<img src={event(attrs).src} />}\n\t\t\t\t\t\t\tclickFunction={\n\t\t\t\t\t\t\t\tevent(attrs).buyModal\n\t\t\t\t\t\t\t\t\t? e => {\n\t\t\t\t\t\t\t\t\t\t\tattrs.popModal(\"access\", attrs.focusSubject())\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: e => {}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t\t<StageTitle title={title(attrs)} />\n\n\t\t\t\t\t<SearchExpanse />\n\t\t\t\t\t{/*\n\t\t\t<CollapsibleMenu \n\t\t\t\tmenu={menuList.concat([userValid ? validUserItem : invalidUserItem])} \n\t\t\t\tcollapsed={menuHidden}\n\t\t\t\titemClicked={() => menuHidden = true}\n\t\t\t/>\n\n<i \n\t\t\t\t\t\t\t\tclass=\"fas fa-flag\" \n\t\t\t\t\t\t\t\tstyle=\"color:white;\" \n\t\t\t\t\t\t\t\tdata-fa-transform=\"shrink-8 up-3.8 left-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t*/}\n\n\t\t\t\t\t{attrs.userRoles.includes(\"user\") ? (\n\t\t\t\t\t\t<BannerButton\n\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t<span class=\"fa-layers fa-fw ft-icon-stack\">\n\t\t\t\t\t\t\t\t\t<Icon name=\"envelop\" />\n\t\t\t\t\t\t\t\t\t{flags.pending([attrs.userId, attrs.userRoles])\n\t\t\t\t\t\t\t\t\t\t.length ? (\n\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\tname=\"flag\"\n\t\t\t\t\t\t\t\t\t\t\tclasses=\"ft-icon-stack-upper-left c44-c-fw\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclickFunction={e => m.route.set(\"/messages\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t\t{attrs.userRoles.length ? (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<BannerButton\n\t\t\t\t\t\t\ticon={<Icon name=\"enter\" />}\n\t\t\t\t\t\t\tclickFunction={e =>\n\t\t\t\t\t\t\t\tm.route.set(\"/auth\", { prev: m.route.get() })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<DisplayButton\n\t\t\t\t\t\ticon={<Icon name=\"menu\" />}\n\t\t\t\t\t\tuserRoles={attrs.userRoles}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default LauncherBanner\n","// src/components/layout/CardContainer.jsx\n\nimport m from 'mithril'\n\nconst CardContainer = {\n  view: ({ children }) => {\n    return (\n      <div class=\"ft-card-container\">\n        {children}\n      </div>\n    )\n  }\n};\n\nexport default CardContainer;","// src/components/layout/ConfirmLogout.jsx\n\nimport m from 'mithril'\nimport Auth from '../../services/auth.js';\nconst auth = Auth;\n\nimport UIButton from '../ui/UIButton.jsx'\n\nconst ConfirmLogout = (vnode) => { return {\n\tview: (vnode) =>\n\t\t<div class=\"main-stage\">\n\t\t\tConfirm Logout\n\t\t\t<UIButton action={() => auth.logout()} buttonName={'Logout'} />\n\t\t\t<UIButton action={() => m.route.set('/launcher')} buttonName={'Back to Launcher'} />\n\n\t\t</div>\n}};\n\nexport default ConfirmLogout;","// SeriesView.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport CardContainer from '../../components/layout/CardContainer.jsx';\nimport SeriesCard from '../../components/cards/SeriesCard.jsx';\n\nimport {remoteData} from '../../store/data';\n\nconst user = _.memoize(attrs => _.isInteger(attrs.userId) ? attrs.userId : 0, attrs => attrs.userId)\nconst roles = attrs => _.isArray(attrs.userRoles) ? attrs.userRoles : []\n\nconst SeriesView = {\n\toninit: ({attrs}) => {\n\t\tremoteData.Series.remoteCheck()\n\n\t\tif (attrs.titleSet) attrs.titleSet(`Festivals`)\n\t\tif (attrs.eventSet) attrs.eventSet()\n\t},\n\tview: ({attrs}) => <div class=\"main-stage\">\n\t\t<CardContainer>\n\t\t\t{\n\n\t\t\t\tremoteData.Series.list\n\t\t\t\t\t.map(series => <SeriesCard data={series} eventId={series.id}/>)\n\t\t\t}\n\t\t</CardContainer>\n\t</div>\n}\nexport default SeriesView;\n","// UserView.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport CardContainer from '../../components/layout/CardContainer.jsx';\nimport UserCard from '../../components/cards/UserCard.jsx';\n\nimport {remoteData} from '../../store/data';\n\nconst user = _.memoize(attrs => _.isInteger(attrs.userId) ? attrs.userId : 0, attrs => attrs.userId)\nconst roles = attrs => _.isArray(attrs.userRoles) ? attrs.userRoles : []\n\nconst UserView = {\n\toninit: ({attrs}) => {\n\n\t\tif (attrs.titleSet) attrs.titleSet(`People`)\n\t\treturn remoteData.Users.recent(10)\n\t\t\t.then(ids => remoteData.Users.getManyPromise(ids))\n\t},\n\tview: ({attrs}) => <div class=\"main-stage\">\n\t\t<CardContainer>\n\t\t\t{\n\n\t\t\t\tremoteData.Users.list\n\t\t\t\t\t.map(user => <UserCard \n                    contextObject={{subjectType: USER, subject: user.id}} \n                    data={user} \n                    small={false}\n                    gametime={false}\n                  />)\n\t\t\t}\n\t\t</CardContainer>\n\t</div>\n}\nexport default UserView;\n","// SeriesWebsiteField.jsx\n\nimport m from 'mithril'\n\nimport {remoteData} from '../../../../store/data'\n\nconst SeriesWebsiteField = {\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-name-field\">Description:\n\t\t\t<p>{remoteData.Series.get(attrs.id).description}</p>\n\t\t</div >\n};\n\nexport default SeriesWebsiteField;\n","// SeriesWebsiteField.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport {remoteData} from '../../../../store/data'\n\nconst getSeriesId = ({id, festivalId}) => {\n\tif(id) return id\n\tconst upOne = remoteData.Festivals.getSeriesId(festivalId)\n\t//console.log(`SeriesWebsiteField festivalId: ${festivalId} and seriesId:${upOne}`)\n\tif(festivalId) return upOne\n\treturn 0\n}\n\nconst website = attrs => _.get(remoteData.Series.get(getSeriesId(attrs)), 'website')\nconst SeriesWebsiteField = {\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-name-field\">Website: {\n\t\t\twebsite(attrs) ? \n\t\t\t\t<a href={website(attrs)} target=\"_blank\">\n\t\t\t\t\t{website(attrs)}\n\n\t\t\t\t</a>\n\t\t\t: ''}\n\t\t</div >\n};\n\nexport default SeriesWebsiteField;\n","// src/components/detailViewsPregame/SeriesDetail.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n// Services\n\n\nimport CardContainer from '../../components/layout/CardContainer.jsx';\nimport FestivalCard from '../../components/cards/FestivalCard.jsx';\nimport ToggleControl from '../../components/ui/ToggleControl.jsx';\n\nimport {remoteData} from '../../store/data';\n\n\nimport SeriesDescriptionField from './fields/series/SeriesDescriptionField.jsx'\nimport SeriesWebsiteField from './fields/series/SeriesWebsiteField.jsx'\n\nconst user = _.memoize(attrs => _.isInteger(attrs.userId) ? attrs.userId : 0, attrs => attrs.userId)\nconst roles = attrs => _.isArray(attrs.userRoles) ? attrs.userRoles : []\nconst id = () => parseInt(m.route.param('id'), 10)\nconst series = () => remoteData.Series.get(id())\n\nconst SeriesDetail = { \n\tname: 'SeriesDetail',\n\tpreload: (rParams) => {\n\t\t//if a promise returned, instantiation of component held for completion\n\t\t//route may not be resolved; use rParams and not m.route.param\n\t\tconst seriesId = parseInt(rParams.id, 10)\n\t\t//messages.forArtist(seriesId)\n\t\t//console.log('Research preload', seriesId, festivalId, rParams)\n\t\tremoteData.Festivals.remoteCheck(true)\n\t\tif(seriesId) return remoteData.Series.subjectDetails({subject: seriesId, subjectType: SERIES})\n\t},\n\toninit: ({attrs}) => {\n\t\tif (attrs.titleSet) attrs.titleSet(remoteData.Series.getEventName(id()))\n\n\t},\n\tview: ({attrs}) => <div class=\"main-stage\">\n\t\t{series() ? <ToggleControl\n\t\t\toffLabel={'Active'}\n\t\t\tonLabel={'On hiatus'}\n\t\t\tgetter={() => _.get(series(), 'hiatus')}\n\t\t\tsetter={newState => {\n\t\t\t\tremoteData.Series.updateInstance({hiatus: newState}, id())\n\t\t\t}}\n\t\t\tpermission={roles(attrs) && roles(attrs).includes('admin')}\n\t\t/> : ''}\n\t\t{series() ? <SeriesDescriptionField id={id()} /> : ''}\n\t\t{series() ? <SeriesWebsiteField id={id()} /> : ''}\n\t\t<CardContainer>\n\t\t\t{roles(attrs) && roles(attrs).includes('admin') ? <FestivalCard  seriesId={id()} eventId={'new'}/> : ''}\n\t\t\t{\n\t\t\t\t(remoteData.Festivals.getMany(\n\t\t\t\t\t\tremoteData.Series.getSubIds(id()))\n\t\t\t\t\t)\n\t\t\t\t\t.sort((a, b) => parseInt(b.year, 10) - parseInt(a.year, 10))\n\t\t\t\t\t.map(data => <FestivalCard  \n\t\t\t\t\t\tseriesId={data.series}\n\t\t\t\t\t\tfestivalId={data.id}\n\t\t\t\t\t\teventId={data.id}\n\t\t\t\t\t/>)\n\t\t\t}\n\t\t</CardContainer>\n\t</div>\n}\nexport default SeriesDetail;\n","// src/components/widgets/canned/LineupWidget.jsx\n\n//given a list of bands to research, this widget \n//filters out unneded ones, sorts the rest and displays artist cards\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport smartSearch from 'smart-search'\n// Services\nimport Auth from '../../../services/auth.js';\nconst auth = Auth;\n\nimport ArtistCard from '../../../components/cards/ArtistCard.jsx';\nimport SearchCard from '../../../components/cards/SearchCard.jsx';\nimport FixedCardWidget from '../FixedCard.jsx';\nimport  ReviewModal from '../../modals/ReviewModal.jsx';\nimport {remoteData} from '../../../store/data';\n\nconst artistData = ({festivalId, search, recordCount, prefilter}) => {\n\tconst baseData = remoteData.Festivals.getResearchList(festivalId)\n\t\t.filter(prefilter ? prefilter : x => true)\n\tconst searchMatches = search ? \n\t\tsmartSearch(baseData, search.pattern, search.fields)\n\t\t\t.map(x => x.entry)\n\t : baseData\n\treturn _.take(searchMatches, recordCount)\n}\n\nconst LineupWidget = vnode => {\n\tconst routeId = parseInt(m.route.param(\"id\"), 10)\n\tvar reviewing = false\n\tvar subjectObject = {}\n\tvar removed = []\n\tlet pattern;\n\tconst patternChange = e => {\n\t\tpattern = e.target.value\n\t\t//console.log('ArtistSearchWidget pattern ' + pattern)\n\t}\n\treturn {\n\t\tview: (vnode) => <FixedCardWidget header=\"Festival Lineup\" tall={vnode.attrs.tall}>\n\t\t{\n\t\t\t/*\n\t\t\t\t<ReviewModal \n\t\t\t\tdisplay={reviewing} \n\t\t\t\thide={sub => {if(sub) removed.push(sub.sub);reviewing = false;}}\n\t\t\t\tsubject={subjectObject}\n\t\t    />\n\t\t\t*/\n\t\t}\n\t\t\t\n\t\t\t<SearchCard patternChange={patternChange} />\n\n\n\t\t\t{\n\t\t\t\tartistData({\n\t\t\t\t\tfestivalId: vnode.attrs.festivalId ? vnode.attrs.festivalId : parseInt(m.route.param('id'), 10),\n\t\t\t\t\tsearch: pattern ? {pattern: [pattern], fields: {name: true}} : undefined, \n\t\t\t\t\trecordCount: Infinity\n\t\t\t\t})\n\t\t\t\t\t.filter(x => x)\n\t\t\t\t\t.sort(_.memoize((a, b) => {\n\t\t\t\t\t\tconst festivalId = vnode.attrs.festivalId ? vnode.attrs.festivalId : parseInt(m.route.param('id'), 10)\n\t\t\t\t\t\tconst aPriId = remoteData.Lineups.getPriFromArtistFest(a.id, festivalId)\n\t\t\t\t\t\tconst bPriId = remoteData.Lineups.getPriFromArtistFest(b.id, festivalId)\n\t\t\t\t\t\tif(aPriId === bPriId) return a.name.localeCompare(b.name)\n\t\t\t\t\t\tconst aPriLevel = remoteData.ArtistPriorities.getLevel(aPriId)\n\t\t\t\t\t\tconst bPriLevel = remoteData.ArtistPriorities.getLevel(bPriId)\n\t\t\t\t\t\treturn aPriLevel - bPriLevel\n\t\t\t\t\t}, (a, b) => '' + a.id + '.' + b.id))\n\t\t\t\t\t.map(data => <ArtistCard \n\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\treviewSubject={vnode.attrs.clickFunctionForData || !vnode.attrs.popModal ? undefined : s => vnode.attrs.popModal('review', {subjectObject: s})}\n\t\t\t\t\t\tclickFunction={vnode.attrs.clickFunctionForData ? vnode.attrs.clickFunctionForData(data) : undefined}\n\t\t\t\t\t\tfestivalId={vnode.attrs.festivalId ? vnode.attrs.festivalId : parseInt(m.route.param('id'), 10)}\n\t\t\t\t\t/>)\n\t\t\t}\n\n\t\t</FixedCardWidget>\t\n}};\n\nexport default LineupWidget;","// src/components/ui/canned/IntentToggle.jsx\n\n//given a list of bands to research, this widget \n//filters out unneded ones, sorts the rest and displays artist cards\n\n\nimport Auth from '../../../services/auth.js'\n\nimport m from 'mithril'\n\nimport {remoteData} from '../../../store/data';\nimport ToggleControl from '../ToggleControl.jsx';\n\nconst IntentToggle = {\n\t\tview: ({attrs}) => <ToggleControl\n\t\t\toffLabel={attrs.offLabel ? attrs.offLabel : 'Not going'}\n\t\t\tonLabel={attrs.onLabel ? attrs.onLabel : 'I\\'m going'}\n\t\t\t\n\t\t\tgetter={() => remoteData.Intentions.forSubject(attrs.subjectObject).length}\n\t\t\tsetter={newState => {\n\t\t\t\t//console.log('FestivalDetail ToggleControl setter')\n\t\t\t\t//console.log(newState)\n\t\t\t\tconst intentionMethod = newState  ? 'setIntent' : 'clearIntent'\n\t\t\t\tremoteData.Intentions[intentionMethod](attrs.subjectObject)\n\t\t\t}}\n\t\t\tpermission={attrs.permission}\n\t\t\tunauth={Auth.login}\n\n\t\t/>\n}\n\nexport default IntentToggle;","// src/components/detailViewsPregame/FestivalDetail.jsx\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n\nimport CardContainer from \"../../components/layout/CardContainer.jsx\"\nimport SeriesCard from \"../../components/cards/SeriesCard.jsx\"\nimport DateCard from \"../../components/cards/DateCard.jsx\"\nimport NavCard from \"../../components/cards/NavCard.jsx\"\nimport ArtistCard from \"../../components/cards/ArtistCard.jsx\"\n\nimport WidgetContainer from \"../../components/layout/WidgetContainer.jsx\"\nimport FixedCardWidget from \"../../components/widgets/FixedCard.jsx\"\nimport ResearchWidget from \"../../components/widgets/canned/ResearchWidget.jsx\"\nimport LineupWidget from \"../../components/widgets/canned/LineupWidget.jsx\"\nimport ActivityWidget from \"../../components/widgets/canned/ActivityWidget.jsx\"\nimport IntentToggle from \"../../components/ui/canned/IntentToggle.jsx\"\n\nimport SeriesWebsiteField from \"./fields/series/SeriesWebsiteField.jsx\"\n\nimport { remoteData } from \"../../store/data\"\n\nconst festivals = remoteData.Festivals\n\nconst jsx = () => {\n\treturn {\n\t\tview: ({ attrs }) => (\n\t\t\t<div class=\"main-stage\">\n\t\t\t\t{attrs.festivalId ? (\n\t\t\t\t\t<SeriesWebsiteField festivalId={attrs.festivalId} />\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t{attrs.festivalId ? (\n\t\t\t\t\t<IntentToggle\n\t\t\t\t\t\tsubjectObject={{\n\t\t\t\t\t\t\tsubject: attrs.festivalId,\n\t\t\t\t\t\t\tsubjectType: FESTIVAL\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tpermission={attrs.userRoles.includes(\"user\")}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\n\t\t\t\t<WidgetContainer>\n\t\t\t\t\t<LineupWidget festivalId={attrs.festivalId} />\n\t\t\t\t\t<ActivityWidget\n\t\t\t\t\t\tfestivalId={attrs.festivalId}\n\t\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t\t/>\n\t\t\t\t\t<ResearchWidget\n\t\t\t\t\t\tlist={[]}\n\t\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t\t/>\n\t\t\t\t\t<FixedCardWidget header=\"Related Events\">\n\t\t\t\t\t\t{remoteData.Dates.getMany(festivals.getSubIds(attrs.festivalId))\n\t\t\t\t\t\t\t.sort((a, b) => a.basedate - b.basedate)\n\t\t\t\t\t\t\t.map(data => (\n\t\t\t\t\t\t\t\t<DateCard eventId={data.id} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t<SeriesCard\n\t\t\t\t\t\t\tdata={remoteData.Series.get(\n\t\t\t\t\t\t\t\tfestivals.getSuperId(attrs.festivalId)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\teventId={festivals.getSuperId(attrs.festivalId)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t</WidgetContainer>\n\t\t\t</div>\n\t\t)\n\t}\n}\nconst FestivalDetail = {\n\tname: \"FestivalDetail\",\n\tpreload: rParams => {\n\t\t//if a promise returned, instantiation of component held for completion\n\t\t//route may not be resolved; use rParams and not m.route.param\n\t\tconst festivalId = parseInt(rParams.id, 10)\n\t\t//messages.forArtist(festivalId)\n\t\t///console.log('FestivalDetail preload', festivalId, rParams)\n\t\treturn festivals\n\t\t\t.subjectDetails({ subject: festivalId, subjectType: FESTIVAL })\n\t\t\t.then(() => rParams.titleSet(festivals.getEventName(festivalId)))\n\t\t\t.then(() => {\n\t\t\t\tconst decoded = rParams.gtt\n\t\t\t\tconst accessible = decoded && !festivals.sellAccess(festivalId, decoded)\n\t\t\t\tconst evtString = accessible ? \"hasAccess\" : \"noAccess\"\n\t\t\t\t//console.log(\"FestivalDetail\", evtString)\n\t\t\t\trParams.eventSet(evtString)\n\t\t\t})\n\t\t\t.then(() => m.redraw())\n\t\t\t.catch(err => console.error(\"FestivalDetail load incomplete\"))\n\t},\n\toncreate: ({ dom }) => {\n\t\tconst height = dom.clientHeight\n\t\t//console.log('ArtistDetail DOM height', height)\n\t\tconst scroller = dom.querySelector(\".ft-widget-container\")\n\t\tscroller.style[\"height\"] = `${height - 270}px`\n\t\tscroller.style[\"flex-grow\"] = 0\n\t},\n\tview: ({ attrs }) => {\n\t\tconst festivalId = parseInt(m.route.param(\"id\"), 10)\n\n\t\tconst so = { subjectType: FESTIVAL, subject: festivalId }\n\t\tattrs.focusSubject(so)\n\t\tconst decoded = attrs.auth.gtt()\n\t\tconst accessible = decoded && !festivals.sellAccess(festivalId, decoded)\n\t\tconst evtString = accessible ? \"hasAccess\" : \"noAccess\"\n\t\tattrs.eventSet(evtString)\n\t\t//console.log(\"FestivalDetail ciew evtString, decoded\", evtString, decoded)\n\t\t//hasAccess if:\n\t\t//event not restricted OR\n\t\t//gtt token has access\n\t\t//console.log('FestivalDetail', attrs.gtt)\n\n\t\tconst mapping = {\n\t\t\tuserId: attrs.userId,\n\t\t\tuserRoles: attrs.userRoles,\n\t\t\tpopModal: attrs.popModal,\n\t\t\tfestivalId: festivalId\n\n\t\t\t//sets: activeDateSets\n\t\t}\n\t\treturn m(jsx, mapping)\n\t}\n}\nexport default FestivalDetail\n","// DateVenueField.jsx\n\nimport m from 'mithril'\n\nimport {remoteData} from '../../../../store/data'\n\nconst DateVenueField = {\n\toninit: ({attrs}) => {\n\t},\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-name-field\">\n\t\t\t{remoteData.Venues.getPlaceName(remoteData.Dates.get(attrs.id) ? remoteData.Dates.get(attrs.id).venue : 0)}\n\t\t</div >\n};\n\nexport default DateVenueField;\n","// DateBaseField.jsx\n\nimport m from 'mithril'\n\nimport {remoteData} from '../../../../store/data'\n\nconst DateBaseField = {\n\toninit: ({attrs}) => {\n\t},\n\tview: ({ attrs }) =>\n\t\t<div class=\"ft-date-field\">\n\t\t\t{remoteData.Dates.get(attrs.id) ? (new Date(remoteData.Dates.get(attrs.id).basedate)).toUTCString() : ''}\n\t\t</div >\n};\n\nexport default DateBaseField;\n","// src/components/detailViewsPregame/DateDetail.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n// Services\nimport Auth from '../../services/auth.js';\nconst auth = Auth;\n\nimport DaySchedule from '../layout/DaySchedule.jsx';\nimport IntentToggle from '../ui/canned/IntentToggle.jsx';\nimport CheckinToggle from '../ui/canned/CheckinToggle.jsx';\nimport CardContainer from '../../components/layout/CardContainer.jsx';\nimport DateVenueField from './fields/date/DateVenueField.jsx'\nimport DateBaseField from './fields/date/DateBaseField.jsx'\nimport FestivalCard from '../../components/cards/FestivalCard.jsx';\nimport DayCard from '../../components/cards/DayCard.jsx';\nimport SetCard from '../../components/cards/SetCard.jsx';\nimport ArtistCard from '../../components/cards/ArtistCard.jsx';\n\nimport WidgetContainer from '../../components/layout/WidgetContainer.jsx';\nimport FixedCardWidget from '../../components/widgets/FixedCard.jsx';\nimport LineupWidget from '../../components/widgets/canned/LineupWidget.jsx';\n\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData';\n\nconst dates = remoteData.Dates\nconst messages = remoteData.Messages\nconst intentions = remoteData.Intentions\nconst places = remoteData.Places\nconst lineups = remoteData.Lineups\n\nconst id = () => parseInt(m.route.param('id'), 10)\nconst date = () => dates.get(id())\nconst dso = dateId => {return {subject: dateId, subjectType: DATE}}\nconst festivalId = dateId => dates.getSuperId(dateId)\nconst sets = () => {\n\tconst dayIds = dates.getSubDayIds(id())\n\treturn remoteData.Sets.getFiltered(s => dayIds.includes(s.day))\n}\nconst user = attrs => _.isInteger(attrs.userId) ? attrs.userId : 0\nconst roles = attrs => _.isArray(attrs.userRoles) ? attrs.userRoles : []\nconst lineup = lineups.forFestival\n\n\n\nconst DateDetail = {\n\tname: 'DateDetail',\n\t\tpreload: (rParams) => {\n\t\t\t//if a promise returned, instantiation of component held for completion\n\t\t\t//route may not be resolved; use rParams and not m.route.param\n\t\t\tconst dateId = parseInt(rParams.id, 10)\n\t\t\t//messages.forArtist(dateId)\n\t\t\t//console.log('DateDetail preload', dateId, rParams)\n\t\t\t\n\t\t\tif(dateId) return dates.subjectDetails({subject: dateId, subjectType: DATE})\n\n\t\t},\n\t\toninit: ({attrs}) => {\n\t\t\tconst dateId = id()\n\t\t\t//if (attrs.titleSet) attrs.titleSet(dates.getEventName(dateId))\n\t\t\t//const endMoment = \n\t\t\tconst so = {subject: dateId, subjectType: DATE}\n\t\t\tattrs.focusSubject(so)\n\t\t\tconst decoded = attrs.auth.gtt()\n\t\t\tconst accessible = decoded && !dates.sellAccess(dateId, decoded)\n\t\t\tconst evtString = accessible ? 'hasAccess' : 'noAccess'\n\t\t\tattrs.eventSet(evtString)\n\n\n\t\t},\n\tview: ({attrs}) => <div class=\"main-stage\">\n\t\t{date() ? <DateVenueField id={id()} /> : ''}\n\t\t{date() ? <DateBaseField id={id()} /> : ''}\n\t\t<FestivalCard seriesId={(dates.getSeriesId(id())\n\t\t\t\t\t\t)\n\t\t\t}\n\t\t\tfestivalId={festivalId(id())}\n\t\t\teventId={(dates.getSuperId(id()))}\n\t\t/>\n\t\t{\n\t\t//show the intent toggle if:\n\t\t\t//there is a valid date id\n\t\t\t//the date has not ended\n\t\t\t//there is no checkin for the date \n\t\t}\n\t\t{\n\t\t\t//console.log('user roles', roles(attrs))\n\n\n\t\t}\n\t\t{ date() && !dates.ended(id()) && !messages.implicit(dso(id())) ? \n\t\t\t<IntentToggle \n\t\t\t\tsubjectObject={dso(id())}\n\t\t\t\tpermission={attrs.userRoles.includes('user')}\n\t\t\t/> \n\t\t: '' }\n\t\t{\n\t\t//show the checkin toggle if:\n\t\t\t//there is a valid date id\n\t\t\t//there is a valid user\n\t\t\t//the date has not ended\n\t\t\t//one of:\n\t\t\t\t//there is an implicit checkin for the date\n\t\t\t\t//there is an intent for the date\n\t\t\t\t/*\n\t\t\tconsole.log('DateDetail show checkin toggle', date() , \n\t\t\troles(attrs).includes('user') , \n\t\t\t!dates.ended(id()) , \n\t\t\tdates.active(id()) , (\n\t\t\t\tmessages.implicit(dso(id())) ||\n\t\t\t\tintentions.find(dso(id()))\n\t\t\t))\n\t\t\t*/\n\t\t}\n\t\t{ date() && \n\t\t\troles(attrs).includes('user') && \n\t\t\t!dates.ended(id()) && \n\t\t\tdates.active(id()) && (\n\t\t\t\tmessages.implicit(dso(id())) ||\n\t\t\t\tintentions.find(dso(id()))\n\t\t\t) ? \n\t\t\t<CheckinToggle \n\t\t\t\tsubjectObject={dso(id())}\n\t\t\t\tpermission={roles(attrs).includes('user')}\n\t\t\t\tuserId={user(attrs)}\n\t\t\t/> \n\t\t: '' }\n\t\t\n\t\t\t{sets().length ? '' : <WidgetContainer>\n\t\t<LineupWidget festivalId={festivalId(id())} />\n\t\t\t</WidgetContainer>}\n\t\t\t{\n\t\t\t\t//console.log(`DateDetail sets ${sets().length}`, id())\n\t\t\t}\n\t\t{sets().length ? \n\t\t\t<DaySchedule\n\t\t\t\tdateId={id()}\n\t\t\t\tsets={sets()}\n\t\t\t\tstages={places.getFiltered(s => s.festival === festivalId(id()))}\n\t\t/> : ''}\n\t\t\n\t</div>\n}\nexport default DateDetail;\n","// src/components/detailViewsPregame/DayDetail.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n// Services\nimport Auth from '../../services/auth.js';\nconst auth = Auth;\n\nimport DateCard from '../../components/cards/DateCard.jsx';\nimport CardContainer from '../../components/layout/CardContainer.jsx';\nimport SetCard from '../../components/cards/SetCard.jsx';\n\nimport {remoteData} from '../../store/data';\nimport {subjectData} from '../../store/subjectData'\n\n\nimport DaySchedule from '../layout/DaySchedule.jsx'\n\nconst sets = remoteData.Sets\nconst dates = remoteData.Dates\nconst days = remoteData.Days\nconst festivals = remoteData.Festivals\nconst places = remoteData.Places\n\nconst event = () => {return {\n\tsubject: parseInt(attrs.id, 10), \n\tsubjectType: DAY\n}}\nconst id = () => parseInt(m.route.param('id'), 10)\nconst setsD = (yid = id()) => sets.getFiltered(s => s.day === yid)\nconst stages = () => places.getMany(\n\t_.uniq(setsD().map(s => s.stage))\t)\n\t.sort((a, b) => a.priority - b.priority)\nconst festivalId = (yid = id()) => days.getFestivalId(yid)\n\n\nconst DayDetail = { \n\tname: 'DayDetail',\n\tpreload: (rParams) => {\n\t\t//console.log('dayDetails preload')\n\t\t//if a promise returned, instantiation of component held for completion\n\t\t//route may not be resolved; use rParams and not m.route.param\n\t\tconst dayId = parseInt(rParams.id, 10)\n\t\t//messages.forArtist(dayId)\n\t\t//console.log('Research preload', seriesId, festivalId, rParams)\n\t\tif(dayId) return days.subjectDetails({subject: dayId, subjectType: DAY})\n\t},\n\toninit: ({attrs}) => {\n\t\t//console.log('dayDetails init')\n\t\tconst dayId = id()\n\t\tconst so = {subject: dayId, subjectType: DAY}\n\t\tattrs.focusSubject(so)\n\t\t\tconst decoded = attrs.auth.gtt()\n\t\t\tconst accessible = decoded && !days.sellAccess(dayId, decoded)\n\t\t\tconst evtString = accessible ? 'hasAccess' : 'noAccess'\n\t\t\tattrs.eventSet(evtString)\n\n\t},\n\toncreate: ({dom}) => {\n\t\tconst height = dom.clientHeight\n\t\t//console.log('ArtistDetail DOM height', height)\n\t\tconst scroller = dom.querySelector('.ft-schedule')\n\t\tif(!scroller) return\n\t\tscroller.style['height'] = `${height - 270}px`\n\t\tscroller.style['flex-grow'] = 0\n\n\t},\n\tview: () => <div class=\"main-stage\">\n\n\t\t\t\n\t\t\t{\n\t\t\t\t//console.log(`DayDetail sets ${days.getDateId(id())}`, id(), setsD().map(s => s.stage))\n\t\t\t}\n\t\t\t{days.getDateId(id()) ? \n\t\t<DateCard eventId={days.getDateId(id())} />\n\t\t : ''}\n\t\t\n\t\t{days.getDateId(id()) ? \n\t\t\t<DaySchedule\n\t\t\t\tdateId={days.getDateId(id())}\n\t\t\t\tdayId={id()}\n\t\t\t\tsets={setsD()}\n\t\t\t\tstages={stages()}\n\t\t/> : ''}\n\t\t\n\t</div>\n}\nexport default DayDetail;\n","// src/components/detailViewsPregame/SetDetail.jsx\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n\nimport {remoteData} from '../../store/data';\n\nconst SetDetail = (auth) => { return {\n\toninit: ({attrs}) => {\n\t\tif (attrs.titleSet) attrs.titleSet(remoteData.Sets.getEventName(parseInt(m.route.param('id'), 10)))\n\t\tif (attrs.eventSet) attrs.eventSet(remoteData.Sets.getEventName(parseInt(m.route.param('id'), 10)))\n\t},\n\tview: () => <div class=\"main-stage\">\n\t\t<span>\n\n\t\t</span>\n\t</div>\n}}\nexport default SetDetail;\n","// src/components/cards/SpotifyCard.jsx\n\nimport m from 'mithril'\n\nimport  ComposedNameField from '../fields/ComposedNameField.jsx';\n\nconst SpotifyCard = {\n  view: ({ attrs }) => <a href={'https://open.spotify.com/search/' + attrs.fieldValue} target=\"_blank\">\n    <div class={\"ft-card \" + (attrs.uiClass ? attrs.uiClass : '')} >\n      <div class=\"ft-fields\">\n        <ComposedNameField fieldValue={'Search Spotify for ' + attrs.fieldValue} />\n      </div>\n    </div>\n    </a>\n};\n\nexport default SpotifyCard;","// src/components/widgets/canned/WikiWidget.jsx\n\nimport m from 'mithril'\n\nimport FixedCardWidget from '../FixedCard.jsx';\nimport BannerButton from '../../ui/BannerButton.jsx';\nimport Icon from '../../fields/Icon.jsx'\n\n\n\nconst WikiWidget = {\n\t\tview: ({attrs}) => <FixedCardWidget \n\t\t\t\theader=\"Wikipedia\" \n\t\t\tbutton={<BannerButton \n\t\t\t\ticon={<a href={attrs.link} target=\"_blank\"><Icon name=\"wikipedia\" /></a>}\n\t\t\t\t/>}\n\t\t\t\t>\n\n\t\t\t\t\n\n\t\t\t\t{\n\t\t\t\t\tm.trust(attrs.text)\n\t\t\t\t}\n\t\t\t</FixedCardWidget>\t\n};\n\nexport default WikiWidget;","// src/components/widgets/Admin.jsx\n\n\nimport m from 'mithril'\n\nconst AdminWidget = {\n  view: (vnode) => {\n    return (\n<section class={(vnode.attrs.quarter ? 'ft-quarter ' : '')}>\n  <header>{vnode.attrs.header}</header>\n  <div class={\"ft-card-container \" + (vnode.attrs.containerClasses ? vnode.attrs.containerClasses : '')}>  \n    { vnode.children }\n  </div>\n  <footer>{vnode.attrs.footer}</footer>\n</section>\n    )\n  }\n};\n\nexport default AdminWidget;","// src/components/detailViewsPregame/ArtistDetail.jsx\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport { reviewSorter, festivalIdsByEndTimeSort } from \"../../services/sorts\"\n\nimport CardContainer from \"../../components/layout/CardContainer.jsx\"\nimport FestivalCard from \"../../components/cards/FestivalCard.jsx\"\nimport DateCard from \"../../components/cards/DateCard.jsx\"\nimport NavCard from \"../../components/cards/NavCard.jsx\"\nimport ReviewCard from \"../../components/cards/ReviewCard.jsx\"\nimport SpotifyCard from \"../../components/cards/SpotifyCard.jsx\"\n\nimport WidgetContainer from \"../../components/layout/WidgetContainer.jsx\"\nimport FixedCardWidget from \"../../components/widgets/FixedCard.jsx\"\nimport WikiWidget from \"../../components/widgets/canned/WikiWidget.jsx\"\nimport DiscussionWidget from \"../../components/widgets/canned/DiscussionWidget.jsx\"\nimport AdminWidget from \"../../components/widgets/Admin.jsx\"\nimport UIButton from \"../../components/ui/UIButton.jsx\"\n\nimport CloudImageField from \"../../components/fields/CloudImageField.jsx\"\n\nimport { remoteData } from \"../../store/data\"\n\nconst {\n\tArtists: artists,\n\tMessages: messages,\n\tMessagesMonitors: messagesMonitors,\n\tInteractions: interactions,\n\tFestivals: festivals,\n\tUsers: users\n} = remoteData\n\nconst artist = id => artists.get(id)\nconst comments = id =>\n\tmessages\n\t\t.getFiltered({\n\t\t\tsubjectType: ARTIST,\n\t\t\tsubject: id,\n\t\t\tmessageType: COMMENT\n\t\t})\n\t\t.filter(m => users.get(m.fromuser))\n\nconst messageSorter = reviewSorter(interactions)\n\nconst jsx = () => {\n\tlet count = 5\n\treturn {\n\t\tview: ({ attrs }) => (\n\t\t\t<div class=\"main-stage\">\n\t\t\t\t<WidgetContainer>\n\t\t\t\t\t<FixedCardWidget>\n\t\t\t\t\t\t<CloudImageField\n\t\t\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t\t\t\tuserRoles={attrs.userRoles}\n\t\t\t\t\t\t\tsubjectType={2}\n\t\t\t\t\t\t\tsubject={attrs.artistId}\n\t\t\t\t\t\t\tsources={[\"url\"]}\n\t\t\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t\t\t\taddDisabled={!attrs.userRoles.includes(\"admin\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t\t{\n\t\t\t\t\t\t//if this artist playing an active date and the user has an implicit checkin to the date, show a link to the artists sets in gametime\n\t\t\t\t\t}\n\t\t\t\t\t{attrs.wiki.length && attrs.wiki[0].length ? (\n\t\t\t\t\t\t<WikiWidget text={attrs.wiki[0]} link={attrs.wiki[1]} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t\t{attrs.artist ? (\n\t\t\t\t\t\t<FixedCardWidget header=\"Listen & Review\">\n\t\t\t\t\t\t\t<SpotifyCard fieldValue={attrs.artist.name} />\n\t\t\t\t\t\t\t<ReviewCard\n\t\t\t\t\t\t\t\ttype=\"artist\"\n\t\t\t\t\t\t\t\tdata={attrs.artist}\n\t\t\t\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t\t{_.isArray(attrs.userRoles) && attrs.userRoles.includes(\"admin\") ? (\n\t\t\t\t\t\t<AdminWidget header=\"Artist Admin\">\n\t\t\t\t\t\t\t<NavCard\n\t\t\t\t\t\t\t\tfieldValue=\"Fix Artist Names\"\n\t\t\t\t\t\t\t\taction={() =>\n\t\t\t\t\t\t\t\t\tm.route.set(\"/artists/pregame/fix/\" + attrs.artistId)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</AdminWidget>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t\t<FixedCardWidget header=\"Festival Lineups\">\n\t\t\t\t\t\t{remoteData.Lineups.festivalsForArtist(attrs.artistId)\n\t\t\t\t\t\t\t.sort(festivalIdsByEndTimeSort(festivals))\n\t\t\t\t\t\t\t.map(f => (\n\t\t\t\t\t\t\t\t<FestivalCard eventId={f} artistId={attrs.artistId} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t\t{//find each message about this attrs.artist and order by user\n\t\t\t\t\t_.map(\n\t\t\t\t\t\t_.take(\n\t\t\t\t\t\t\tmessageSorter(attrs.userId)(comments(attrs.artistId)),\n\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t),\n\t\t\t\t\t\tme => (\n\t\t\t\t\t\t\t<DiscussionWidget\n\t\t\t\t\t\t\t\tmessageArray={[me]}\n\t\t\t\t\t\t\t\tuserId={attrs.userId}\n\t\t\t\t\t\t\t\tpopModal={attrs.popModal}\n\t\t\t\t\t\t\t\tdiscussSubject={(so, me) =>\n\t\t\t\t\t\t\t\t\tattrs.popModal(\"discuss\", {\n\t\t\t\t\t\t\t\t\t\tmessageArray: me,\n\t\t\t\t\t\t\t\t\t\tsubjectObject: so,\n\t\t\t\t\t\t\t\t\t\treviewer: me[0].fromuser\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t\t{comments(attrs.artistId).length > count ? (\n\t\t\t\t\t\t<UIButton\n\t\t\t\t\t\t\taction={e => {\n\t\t\t\t\t\t\t\t//attrs.hide()\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t//console.log('pre rating ' + rating)\n\t\t\t\t\t\t\t\tcount += 3\n\t\t\t\t\t\t\t\tm.redraw()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tbuttonName=\"Show More\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t</WidgetContainer>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst ArtistDetail = {\n\tpreload: rParams => {\n\t\t//if a promise returned, instantiation of component held for completion\n\t\t//route may not be resolved; use rParams and not m.route.param\n\t\tconst artistId = parseInt(rParams.id, 10)\n\n\t\t//messages.forArtist(artistId)\n\t\t//console.log(\"Artist Detail preload\", artistId)\n\t\treturn Promise.all([\n\t\t\tartists\n\t\t\t\t.subjectDetails({ subject: artistId, subjectType: ARTIST })\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst artist = artists.get(artistId)\n\t\t\t\t\tif (artist) rParams.titleSet(artist.name)\n\t\t\t\t\t//console.log(\"ArtistDetail preload complete\", artist.name)\n\t\t\t\t\treturn\n\t\t\t\t}),\n\t\t\tmessagesMonitors.remoteCheck(true),\n\t\t\tartists.getWikiPromise(artistId)\n\t\t])\n\t\t\t.then(m.redraw)\n\t\t\t.catch(console.error)\n\t},\n\toncreate: ({ dom }) => {\n\t\tconst height = dom.clientHeight\n\t\t//console.log('ArtistDetail DOM height', height)\n\t\tconst scroller = dom.querySelector(\".ft-widget-container\")\n\t\tscroller.style[\"height\"] = `${height - 270}px`\n\t\tscroller.style[\"flex-grow\"] = 0\n\t},\n\tview: ({ attrs }) => {\n\t\tconst artistId = parseInt(m.route.param(\"id\"), 10)\n\t\tconst artist = artists.get(artistId)\n\t\tif (artist) attrs.titleSet(artist.name)\n\t\t/*\n\t\t\tconst activeDateSets = remoteData.Sets.getFiltered({band: attrs.artistId})\n\t\t\t\t.filter(s => remoteData.Dates.active(remoteData.Days.getDateId(s.day)))\n\t\t\t\t*/\n\t\t//console.log('ArtistDetail view', parseInt(m.route.param('id'), 10), artists.get(parseInt(m.route.param('id'), 10)))\n\t\tconst mapping = {\n\t\t\tuserId: attrs.userId,\n\t\t\tuserRoles: attrs.userRoles,\n\t\t\tpopModal: attrs.popModal,\n\t\t\tartistId: artistId,\n\t\t\tartist: artist,\n\t\t\twiki: artists.getWiki(artistId)\n\t\t\t//sets: activeDateSets\n\t\t}\n\t\treturn m(jsx, mapping)\n\t}\n}\nexport default ArtistDetail\n","// ProfileHighlights.js\n// components: login/components\n\n/*\nuserData | Object | No | userData to construct the form\n*/\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nconst emptyUser = `data:image/svg+xml;utf8,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3C!-- Written by Treer (gitlab.com/Treer) --%3E%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='600' height='600' fill='white' color='%2300d7d7'%3E%3Ctitle%3EAbstract user icon%3C/title%3E%3Cdefs%3E%3CclipPath id='circular-border'%3E%3Ccircle cx='300' cy='300' r='280' /%3E%3C/clipPath%3E%3CclipPath id='avoid-antialiasing-bugs'%3E%3Crect width='100%25' height='498' /%3E%3C/clipPath%3E%3C/defs%3E%3Ccircle cx='300' cy='300' r='280' fill='currentcolor' clip-path='url(%23avoid-antialiasing-bugs)' /%3E%3Ccircle cx='300' cy='230' r='115' /%3E%3Ccircle cx='300' cy='550' r='205' clip-path='url(%23circular-border)' /%3E%3C/svg%3E`\n\nconst ProfileHighlights = {\n\t//oncreate: console.log('Launched'),\n\t//onupdate: () => console.log('ProfileHighlights update'),\n\tview: ({attrs}) => \n        m('.c44-h-m160px.c44-w-480px.c44-tac.c44-ca.c44-l-0.c44-r-0.c44-b-0.c44-mla.c44-mra.c44-fvf.c44-fjcsa', {},\n            m('h1.c44-pr', {}, \n                _.get(attrs, 'userData.name', 'User Name')\n            ),\n            m('.c44-df.c44-fjcsa', {}, \n                _.take(_.get(attrs, 'userData.bites', [\n                    {\n                        title: 'Quick Stat',\n                        value: 1E6\n                    },\n                    {\n                        title: 'Another Stat',\n                        value: 0\n                    },\n                    {\n                        title: 'Final Stat',\n                        value: 4.1\n                    }\n                ]), 3)\n                    .map(b => m('.c44-df.c44-fvf.c44-bl1ca.c44-br1ca.c44-fg1', {}, \n                        m('span', {}, b.title),\n                        m('span', {}, b.value)\n                    ))\n            )\n        )\n}\nexport default ProfileHighlights;\n","// Profile.js\n// components: user-profile/components\n\n/*\nuserData | Object | No | userData to construct the form |\nself | boolean | No | Show private fields |\nprivate | Array<ContentItem> | No | Array of content item objects |\nmixed | Array<ContentItem> | No | Array of content item objects |\n*/\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport Highlights from './ProfileHighlights'\nimport Item from './ContentItem'\n\nconst emptyUser = `data:image/svg+xml;utf8,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3C!-- Written by Treer (gitlab.com/Treer) --%3E%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='600' height='600' fill='white' color='%2300d7d7'%3E%3Ctitle%3EAbstract user icon%3C/title%3E%3Cdefs%3E%3CclipPath id='circular-border'%3E%3Ccircle cx='300' cy='300' r='280' /%3E%3C/clipPath%3E%3CclipPath id='avoid-antialiasing-bugs'%3E%3Crect width='100%25' height='498' /%3E%3C/clipPath%3E%3C/defs%3E%3Ccircle cx='300' cy='300' r='280' fill='currentcolor' clip-path='url(%23avoid-antialiasing-bugs)' /%3E%3Ccircle cx='300' cy='230' r='115' /%3E%3Ccircle cx='300' cy='550' r='205' clip-path='url(%23circular-border)' /%3E%3C/svg%3E`\n\nconst Profile = {\n\t//oncreate: console.log('Launched'),\n\t//onupdate: () => console.log('Profile update'),\n\tview: ({attrs}) => m('div.c44-up-container.c44-fvf.c44-fjcc.c44-w-600px', {},\n        //console.log('Profile attrs', attrs),\n        m('header.c44-up-header.c44-pr.c44-fvf', {}, \n            m(`img.c44-h-ma50vh.c44-of-con`, {src: _.get(attrs, 'userData.imgs.profile.src', emptyUser)}),\n            m(Highlights, {userData: attrs.userData})\n        ),\n        attrs.interactive ? m('hr.c44-w-100') : '',\n        attrs.interactive ? attrs.interactive : '',\n        m('hr.c44-w-100'),\n        !attrs.own ? '' : m('section.c44-up-content-private', {}, \n            (_.isArray(attrs.private) ? attrs.private : [])\n                .map(i => m(Item, i))\n\n        ),\n        !attrs.own ? '' : m('hr.c44-w-100'),\n        m('section.c44-up-content-mixed', {}, \n            m('section.c44-up-mixed-public', {},\n            (_.isArray(attrs.mixed) ? attrs.mixed : [])\n                .filter(i => i.public)\n                .map(i => m(Item, i))\n\n            ),\n            m('section.c44-up-mixed-private', {},\n            (_.isArray(attrs.mixed) ? attrs.mixed : [])\n                .filter(i => !i.public)\n                .map(i => m(Item, i))\n\n            ),\n        ),\n        m('header.c44-up-header')\n    )\n}\nexport default Profile;\n","// src/components/fields/buttons/BarButton.jsx\n\nimport m from 'mithril'\n\n\nconst BarButton = vnode => { \n\treturn {\n\t  view: ({ attrs}) =>\n\t    <button \n\t    \tclass=\"c44-fjcsa c44-h-10vh c44-w-10wh c44-ca c44-bca c44-dif c44-fdc c44-tac c44-faic\" \n\t    \tonclick={attrs.itemClicked}\n\t    >\n\t    {\n\t    \t//console.log('BarButton icon', attrs.icon.attrs.className)\n\t    }\n\t      {attrs.icon}\n\t      {attrs.name}\n\t    </button>\n}}\n\nexport default BarButton","// src/components/ui/InteractionBar.jsx\n\nimport m from \"mithril\"\nimport BarButton from \"../fields/buttons/BarButton.jsx\"\nimport { remoteData } from \"../../store/data\"\n\nconst { Users: users, Interactions: interactions } = remoteData\n\n//a follow/unfollow button\n//a block/unblock button\n\nconst InteractionBar = {\n\tview: ({ attrs, children }) => (\n\t\t<div class=\"c44-df c44-fjcsa\">\n\t\t\t{!interactions.lastRemoteLoad\n\t\t\t\t? []\n\t\t\t\t: users.interactOptions(attrs.targetId).map(opt => m(BarButton, opt))}\n\t\t</div>\n\t)\n}\n\nexport default InteractionBar\n","// services/bites.js\nimport m from 'mithril'\nimport _ from 'lodash'\nimport ActivityCard from '../components/cards/ActivityCard.jsx';\nimport SetCard from '../components/cards/SetCard.jsx';\nimport ArtistCard from '../components/cards/ArtistCard.jsx';\nimport {subjectCard} from '../components/cards/subjectCard.js';\n\nconst biteCache = {}\nconst biteTimes = {}\n/************\n\nUser subjects\n\n*************/\n//artists researched\nconst artistsResearchedPostProcess = ms => _.uniqBy(ms, 'subject')\n\nconst artistsResearchedCount = (researcherId, messages) => messages\n\t.lbfilter({\n\tfields: {id: true, subject: true, subjectType: true},\n\twhere: { and: [\n\t\t{fromuser: researcherId},\n\t\t{subjectType: ARTIST},\n\t\t{or: [\n\t\t\t\t\t{messageType: RATING},\n\t\t\t\t\t{messageType: COMMENT}\n\t\t\t\t]}\n\t]}\n})\n\t.then(artistsResearchedPostProcess)\n\t.then(ar => ar.length)\n\t.then(count => {\n\t\t_.set(biteTimes, `users.artistsResearched[${researcherId}]`, Date.now())\n\t\t_.set(biteCache, `users.artistsResearched[${researcherId}]`, count ? count : 0)\n\t})\nconst artistsResearched = (researcherId, messages) => {\n\tconst cacheTime = _.get(biteTimes, `users.artistsResearched[${researcherId}]`, 0)\n\tconst cacheOk = cacheTime + 60000 > Date.now()\n\tif (!cacheOk) artistsResearchedCount(researcherId, messages)\n\t\t.catch(console.log)\n\treturn _.get(biteCache, `users.artistsResearched[${researcherId}]`, 0)\n}\nconst artistsResearchedBite = (researcherId, messages) => {\n\tconst value = artistsResearched(researcherId, messages)\n\tconst title = 'Artists Researched'\n\treturn {\n\t\tvalue: value,\n\t\ttitle: title\n\t}\n}\n//sets watched\nconst setsWatchedPostProcess = ms => _.uniqBy(ms, 'subject')\n\nconst setsWatchedCount = (watcherId, messages) => messages\n\t.lbfilter({\n\tfields: {id: true, subject: true, subjectType: true},\n\twhere: { and: [\n\t\t{fromuser: watcherId},\n\t\t{subjectType: SET},\n\t\t{or: [\n\t\t\t\t\t{messageType: RATING},\n\t\t\t\t\t{messageType: COMMENT},\n\t\t\t\t\t{messageType: CHECKIN}\n\t\t\t\t]}\n\t]}\n})\n\t.then(setsWatchedPostProcess)\n\t.then(ar => ar.length)\n\t.then(count => {\n\t\t_.set(biteTimes, `users.setsWatched[${watcherId}]`, Date.now())\n\t\t_.set(biteCache, `users.setsWatched[${watcherId}]`, count ? count : 0)\n\t})\nconst setsWatched = (watcherId, messages) => {\n\tconst cacheTime = _.get(biteTimes, `users.setsWatched[${watcherId}]`, 0)\n\tconst cacheOk = cacheTime + 60000 > Date.now()\n\tif (!cacheOk) setsWatchedCount(watcherId, messages)\n\t\t.catch(console.log)\n\treturn _.get(biteCache, `users.setsWatched[${watcherId}]`, 0)\n}\nconst setsWatchedBite = (watcherId, messages) => {\n\tconst value = setsWatched(watcherId, messages)\n\tconst title = 'Sets Watched'\n\treturn {\n\t\tvalue: value,\n\t\ttitle: title\n\t}\n}\n//recent favorite\nconst recentFavoriteCount = (reviewerId, messages) => messages\n\t.lbfilter({\n\twhere: { and: [\n\t\t{fromuser: reviewerId},\n\t\t{messageType: RATING},\n\t\t{or: [\n\t\t\t\t\t{subjectType: SET},\n\t\t\t\t\t{subjectType: ARTIST}\n\t\t\t\t]},\n\t\t{content: '5'}\n\t]},\n\t\torder: [\n\t\t\t'subjectType DESC',\n\t\t\t'id DESC'\n\t\t],\n\t\tlimit: 1\n})\n\t.then(fav => {\n\t\t_.set(biteTimes, `users.recentFavorite[${reviewerId}]`, Date.now())\n\t\t_.set(biteCache, `users.recentFavorite[${reviewerId}]`, fav[0] ? fav[0] : 0)\n\t\treturn fav[0]\n\t})\n\t.then(fav => fav && messages.subjectDetails({subjectType: MESSAGE, subject: fav.id}))\nconst recentFavorite = (reviewerId, messages) => {\n\tconst cacheTime = _.get(biteTimes, `users.recentFavorite[${reviewerId}]`, 0)\n\tconst cacheOk = cacheTime + 60000 > Date.now()\n\tif (!cacheOk) recentFavoriteCount(reviewerId, messages)\n\t\t.catch(console.log)\n\treturn _.get(biteCache, `users.recentFavorite[${reviewerId}]`, 0)\n}\nconst recentFavoriteBite = (reviewerId, messages, artists, subjectData) => {\n\tconst baseValue = recentFavorite(reviewerId, messages)\n\t//console.log('recentFavoriteBite', baseValue)\n\tconst value = baseValue ? subjectCard(baseValue, {\n\t\tuserId: reviewerId,\n\t\tuiClass:''\n\n\n\t}) : ''\n\t/*\n\tconst value = m(subjectCard, baseValue)\n\tconst value = m(ActivityCard ,{\n\t\tmessageArray: [baseValue],\n\t\tdiscusser: baseValue.fromuser,\n\t\t//userId: vnode.attrs.userId,\n\t\trating: artists.getRating(baseValue.subject, baseValue.fromuser),\n\t\t//overlay: 'discuss',\n\t\tshortDefault: true,\n\t\theadline: subjectData.name(baseValue.subject, baseValue.subjectType),\n\t\theadact: e => {\n\t\t\tif(messages.baseSubjectType(baseValue.id) === 2) m.route.set(\"/artists\" + \"/pregame\" + '/' + messages.baseSubject(baseValue.id))\n\t\t},\n\t\t//popModal: vnode.attrs.popModal,\n\t\t/*\n\t\tdiscussSubject: (so, me) => vnode.attrs.popModal('discuss', {\n\t\t\tmessageArray: me,\n\t\t\tsubjectObject: so,\n\t\t\treviewer: me[0].fromuser\n\t\t})\n\t})\n\t\t\n*/\n\tconst title = 'Recent Favorite'\n\treturn {\n\t\tvalue: value,\n\t\ttitle: title\n\t}\n}\n\n// returns given number of random bites about the subject in an array\n\nexport default function (so, {Messages: messages, Artists: artists}, subjectData, count = 3) {\n\treturn [\n\t\tartistsResearchedBite(so.subject, messages),\n\t\tsetsWatchedBite(so.subject, messages),\n\t\trecentFavoriteBite(so.subject, messages, artists, subjectData)\n\t]\n}","// services/bites/events/nextFestival.js\n\n//get the FestivalCard for the next festival the user intends\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\nimport { subjectCard } from \"../../../../components/cards/subjectCard\"\nimport { festivalIdsByEndTimeSort } from \"../../../sorts.js\"\n\nconst biteCache = {}\nconst biteTimes = {}\n\n//get future dates\n//check if user has an intention for any festivals\n\nconst festivalIntentions = (goerId, intentions, festivals) =>\n\tintentions\n\t\t.lbfilter({\n\t\t\twhere: {\n\t\t\t\tand: [\n\t\t\t\t\t{ user: goerId },\n\t\t\t\t\t{ subjectType: FESTIVAL },\n\t\t\t\t\t{ subject: { inq: festivals.future().map(x => x.id) } }\n\t\t\t\t]\n\t\t\t},\n\t\t\tfields: { subject: true }\n\t\t})\n\t\t.then(intendedFestivalIds =>\n\t\t\tintendedFestivalIds\n\t\t\t\t.map(x => x.subject)\n\t\t\t\t.sort(festivalIdsByEndTimeSort(festivals))\n\t\t)\n\t\t.then(\n\t\t\tintendedFestivalIds =>\n\t\t\t\t(intendedFestivalIds[0] &&\n\t\t\t\t\tfestivals.getLocalPromise(intendedFestivalIds[0])) || [false, false]\n\t\t)\n\t\t.then(([fest, upd]) => fest)\n\t\t.then(fav => {\n\t\t\t_.set(biteTimes, `users.festivalIntentions[${goerId}]`, Date.now())\n\t\t\t_.set(biteCache, `users.festivalIntentions[${goerId}]`, fav)\n\t\t\treturn fav\n\t\t})\nconst intendedFestival = (goerId, intentions, festivals) => {\n\tconst cacheTime = _.get(biteTimes, `users.festivalIntentions[${goerId}]`, 0)\n\tconst cacheOk = cacheTime + 60000 > Date.now()\n\tif (!cacheOk) festivalIntentions(goerId, intentions, festivals).catch(console.log)\n\treturn _.get(biteCache, `users.festivalIntentions[${goerId}]`, 0)\n}\nexport default (goerId, intentions, festivals) => {\n\tconst baseValue = intendedFestival(goerId, intentions, festivals)\n\t//console.log(\"recentFavoriteBite\", goerId, baseValue)\n\tconst value = baseValue\n\t\t? subjectCard(\n\t\t\t\t{ subject: baseValue.id, subjectType: FESTIVAL },\n\t\t\t\t{\n\t\t\t\t\tuserId: goerId,\n\t\t\t\t\tuiClass: \"\",\n\t\t\t\t\teventId: baseValue.id\n\t\t\t\t}\n\t\t  )\n\t\t: \"\"\n\n\tconst title = \"Next Festival\"\n\treturn {\n\t\tvalue: value,\n\t\ttitle: title,\n\t\tpublic: true,\n\t\tname: title\n\t}\n}\n","// services/bites/favorites/favArtists.js\n\n//get the FestivalCard for the next festival the user intends\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport {subjectCard} from '../../../../components/cards/subjectCard'\n\nconst biteCache = {}\nconst biteTimes = {}\n\n//get future dates\n//check if user has an intention for any festivals\n\n\nconst favoriteArtists = (raterId, artists, sets, messages) => messages\n\t.lbfilter({\n\t\twhere: { and: [\n\t\t\t{fromuser: raterId},\n\t\t\t{subjectType: ARTIST},\n\t\t\t{messageType: RATING},\n\t\t\t{content: '5'}\n\t\t]},\n\t\tfields: {subject: true}\n\t})\n\t.then(favArtistRaw => favArtistRaw.map(x => x.subject))\n\t.then(_.uniq)\n\t.then(allFavArtistIds => Promise.all([allFavArtistIds, (sets\n\t\t.lbfilter({\n\t\t\twhere: { and: [\n\t\t\t{band: {inq: allFavArtistIds}}\n\t\t]},\n\t\tfields: {id: true}\n\t\t}))]\n\n\t))\n\t.then(([allFavArtistIds, allArtistSetRaw]) => [allFavArtistIds, _.uniq(allArtistSetRaw.map(x => x.id))])\n\t.then(([allFavArtistIds, allArtistSetIds]) => Promise.all([allFavArtistIds, messages\n\t\t\t.lbfilter({\n\t\t\t\twhere: { and: [\n\t\t\t\t\t{fromuser: raterId},\n\t\t\t\t\t{subjectType: SET},\n\t\t\t\t\t{messageType: RATING},\n\t\t\t\t\t{subject: {inq: allArtistSetIds}},\n\t\t\t\t\t{content: '5'}\n\t\t\t\t]},\n\t\t\t\tfields: {subject: true}\n\t\t\t})\n\t\t]))\n\t.then(([allFavArtistIds, favSetRaw]) => [allFavArtistIds, _.uniq(favSetRaw.map(x => x.subject))])\n\t.then(([allFavArtistIds, favSetIds]) => Promise.all([allFavArtistIds, sets\n\t\t\t.lbfilter({\n\t\t\t\twhere: { and: [\n\t\t\t\t\t{id: {inq: favSetIds}}\n\t\t\t\t]},\n\t\t\t\tfields: {band: true},\n\t\t\t\torder: [\n\t\t\t\t\t'id DESC'\n\t\t\t\t]\n\t\t\t})\n\t\t]))\n\t.then(([allFavArtistIds, favSetArtistRaw]) => [allFavArtistIds, _.uniq(favSetArtistRaw.map(x => x.band))])\n\t.then(([allFavArtistIds, favSetArtistIds]) => favSetArtistIds.length ? favSetArtistIds : allFavArtistIds)\n\t.then(favArtistIds => artists.getManyPromise(favArtistIds))\n\t.then(fav => {\n\t\t_.set(biteTimes, `users.favoriteArtists[${raterId}]`, Date.now())\n\t\t_.set(biteCache, `users.favoriteArtists[${raterId}]`, fav)\n\t\treturn fav\n\t})\nconst foundArtists = (raterId, artists, sets, messages) => {\n\tconst cacheTime = _.get(biteTimes, `users.favoriteArtists[${raterId}]`, 0)\n\tconst cacheOk = cacheTime + 60000 > Date.now()\n\tif (!cacheOk) favoriteArtists(raterId, artists, sets, messages)\n\t\t.catch(console.log)\n\treturn _.get(biteCache, `users.favoriteArtists[${raterId}]`, [])\n}\nexport default  (raterId, artists, sets, messages) => {\n\tconst value = foundArtists(raterId, artists, sets, messages)\n\t\t//.filter(x => console.log('foundArtist', x) || true)\n\t\t.map(baseValue => subjectCard({subject: baseValue.id, subjectType: ARTIST}, {\n\t\t\tuserId: raterId,\n\t\t\tuiClass:''\n\t\t}))\n\t\t/*\n\t\t.map(baseValue => baseValue ? subjectCard({subject: baseValue.id, subjectType: ARTIST}, {\n\t\tuserId: raterId,\n\t\tuiClass:''\n\n\t}) : '')\n\t*/\n\t//console.log('recentFavoriteBite', baseValue)\n\n\tconst title = 'Favorite Artists'\n\treturn {\n\t\tvalue: value,\n\t\ttitle: title,\n\t\tpublic: true,\n\t\tname: title\n\t}\n}","// services/bites/counts/mostDiscussed.js\n\n//get the subjectCard for the three subjects the user has discussed most\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport {subjectCard} from '../../../../components/cards/subjectCard'\n\nconst biteCache = {}\nconst biteTimes = {}\n\n//get all user discussion\n//count the discussion comments for the subject of each base message\n//take the three most discussed subjects\n\n\nconst discussedSubjects = (discusserId, messages) => messages\n\t.lbfilter({\n\t\twhere: { and: [\n\t\t\t{fromuser: discusserId},\n\t\t\t{messageType: DISCUSSION}\n\t\t]},\n\t\tfields: {baseMessage: true, id:true},\n\t\torder: 'id DESC',\n\t\tlimit: '500'\n\t})\n\t.then(discussionBaseRaw => discussionBaseRaw.map(x => x.baseMessage))\n\t.then(allDiscussBaseIds => Promise.all([allDiscussBaseIds, (messages\n\t\t.lbfilter({\n\t\t\twhere: { and: [\n\t\t\t{id: {inq: _.uniq(allDiscussBaseIds)}},\n\t\t\t{subjectType: {nin: [FLAG, USER, MESSAGE]}}\n\t\t]},\n\t\tfields: {subject: true, subjectType: true, id:true}\n\t\t}))]\n\n\t))\n\t.then(([allDiscussBaseIds, discussSubjectsRaw]) => [allDiscussBaseIds, discussSubjectsRaw.reduce((idMap, x) => {\n\t\tidMap[x.id] = `[${x.subjectType}][${x.subject}]`\n\t\treturn idMap\n\t}, {})])\n\t.then(([allDiscussBaseIds, discussSubjectKeys]) => [\n\t\tallDiscussBaseIds, \n\t\tallDiscussBaseIds.reduce((total, baseId) => {\n\t\t\tconst key = discussSubjectKeys[baseId]\n\t\t\ttotal[key] = 1 + (total[key] ? total[key] : 0)\n\t\t\treturn total\n\t\t}, {})\n\t])\n\t.then(([allDiscussBaseIds, discussSubjectCounts]) => [allDiscussBaseIds, _.toPairs(discussSubjectCounts)])\n\t//.then(([allDiscussBaseIds, discussSubjectCounts]) => [allDiscussBaseIds, discussSubjectCounts])\n\t.then(([allDiscussBaseIds, discussSubjectCountsUnsorted]) => [allDiscussBaseIds, discussSubjectCountsUnsorted.filter(x => x[0] && x[0] !== 'undefined' && x[1]).sort((a, b) => b[1] - a[1])])\n\t//.then(x => console.log(`[allDiscussBaseIds, discussSubjectCountsSorted]`, x) || x)\n\t.then(([allDiscussBaseIds, discussSubjectCountsSorted]) => _.take(discussSubjectCountsSorted, 3)\n\t\t\t.map(dsc => Array.from(dsc[0].matchAll(/\\[([0-9]{1,})\\]/g)))\n\t\t\t//.filter(x => console.log('discussionCounts', x) || true)\n\t\t\t.map(x => [parseInt(x[0][1], 10), parseInt(x[1][1], 10)])\n\t\t\t.map(([subjectType, subject]) => {return {subjectType: subjectType, subject: subject}})\n\t)\n\t.then(fav => {\n\t\t_.set(biteTimes, `users.discussedSubjects[${discusserId}]`, Date.now())\n\t\t_.set(biteCache, `users.discussedSubjects[${discusserId}]`, fav)\n\t\treturn fav\n\t})\nconst cachedBite = (discusserId, messages) => {\n\tconst cacheTime = _.get(biteTimes, `users.discussedSubjects[${discusserId}]`, 0)\n\tconst cacheOk = cacheTime + 60000 > Date.now()\n\tif (!cacheOk) discussedSubjects(discusserId, messages)\n\t\t.catch(console.log)\n\treturn _.get(biteCache, `users.discussedSubjects[${discusserId}]`, [])\n}\nexport default  (discusserId, messages) => {\n\tconst value = cachedBite(discusserId, messages)\n\t\t//.filter(x => console.log('discussedSubjects cachedBite', x) || true)\n\t\t.map(baseValue => subjectCard(baseValue, {\n\t\t\tuserId: discusserId,\n\t\t\tuiClass:''\n\t\t}))\n\t\t/*\n\t\t.map(baseValue => baseValue ? subjectCard({subject: baseValue.id, subjectType: ARTIST}, {\n\t\tuserId: discusserId,\n\t\tuiClass:''\n\n\t}) : '')\n\t*/\n\t//console.log('recentFavoriteBite', baseValue)\n\n\tconst title = 'Most Discussed'\n\treturn {\n\t\tvalue: value,\n\t\ttitle: title,\n\t\tpublic: true,\n\t\tname: title\n\t}\n}","import m from \"mithril\"\nimport Profile from \"./profiles/Profile\"\nimport Tract from \"../tracts/Tract.jsx\"\nimport { subjectCard } from \"../cards/subjectCard\"\nimport InteractionBar from \"../ui/InteractionBar.jsx\"\nimport bites from \"../../services/bites\"\nimport nextFestival from \"../../services/bites/user/events/nextFestival\"\nimport favArtists from \"../../services/bites/user/favorites/favArtists\"\nimport mostDiscussed from \"../../services/bites/user/counts/mostDiscussed\"\nimport WidgetContainer from \"../../components/layout/WidgetContainer.jsx\"\n\nimport { remoteData } from \"../../store/data\"\nimport { subjectData } from \"../../store/subjectData\"\n\nconst {\n\tUsers: users,\n\tIntentions: intentions,\n\tFestivals: festivals,\n\tArtists: artists,\n\tSets: sets,\n\tMessages: messages,\n\tInteractions: interactions\n} = remoteData\n\nconst tractStates = {\n\tFollows: false,\n\tFollowedBy: false,\n\tBlocks: false,\n\tFollowingDetails: false\n}\nconst UserDetail = {\n\tpreload: rParams => {\n\t\t//if a promise returned, instantiation of component held for completion\n\t\t//route may not be resolved; use rParams and not m.route.param\n\t\tconst userId = parseInt(rParams.id, 10)\n\t\t//messages.forArtist(userId)\n\t\t//console.log('Research preload', seriesId, festivalId, rParams)\n\t\tif (userId) return users.subjectDetails({ subject: userId, subjectType: USER })\n\t},\n\toninit: ({ attrs }) => {\n\t\t//console.log('UserDetail init', _.keys(attrs))\n\t\tconst userId = parseInt(attrs.id, 10)\n\n\t\treturn users.getLocalPromise(userId).then(() => {\n\t\t\tif (attrs.titleSet)\n\t\t\t\tattrs.titleSet(users.get(userId) ? users.get(userId).username : \"\")\n\t\t})\n\t},\n\tname: \"UserDetail\",\n\tview: ({ attrs }) => {\n\t\t//console.log('UserDetail attrComp', attrs, users.get(attrs.id))\n\t\tconst user = users.get(attrs.id)\n\t\tif (!user) return \"\"\n\t\tconst picField = user.picture\n\t\tconst mapping = {\n\t\t\town: attrs.id === attrs.userId,\n\t\t\tprivate: [\n\t\t\t\t{\n\t\t\t\t\tname: \"email\",\n\t\t\t\t\tvalue: user.email,\n\t\t\t\t\tpublic: false\n\t\t\t\t}\n\t\t\t],\n\t\t\tmixed: [\n\t\t\t\tnextFestival(attrs.id, intentions, festivals),\n\t\t\t\tmostDiscussed(attrs.id, messages),\n\t\t\t\tfavArtists(attrs.id, artists, sets, messages)\n\t\t\t],\n\t\t\tuserData: {\n\t\t\t\tname: user.username,\n\t\t\t\timgs: {\n\t\t\t\t\tprofile: {\n\t\t\t\t\t\tsrc: picField ? picField : undefined\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbites: bites(\n\t\t\t\t\t{ subject: attrs.id, subjectType: USER },\n\t\t\t\t\tremoteData,\n\t\t\t\t\tsubjectData\n\t\t\t\t)\n\t\t\t},\n\t\t\tinteractive: !attrs.userId\n\t\t\t\t? \"\"\n\t\t\t\t: attrs.id === attrs.userId\n\t\t\t\t? m(\n\t\t\t\t\t\tTract,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\textracted: tractStates.FollowingDetails,\n\t\t\t\t\t\t\theadline: `Following and Blocking`,\n\t\t\t\t\t\t\ttractToggle: e => {\n\t\t\t\t\t\t\t\ttractStates.FollowingDetails = !tractStates.FollowingDetails\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tm(\n\t\t\t\t\t\t\tTract,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\textracted: tractStates.Follows,\n\t\t\t\t\t\t\t\theadline: `Followed By ${user.username}`,\n\t\t\t\t\t\t\t\ttractToggle: e => {\n\t\t\t\t\t\t\t\t\ttractStates.Follows = !tractStates.Follows\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tinteractions\n\t\t\t\t\t\t\t\t.getFiltered({ user: attrs.id, type: FOLLOW })\n\t\t\t\t\t\t\t\t.map(i =>\n\t\t\t\t\t\t\t\t\tusers.get(i.subject)\n\t\t\t\t\t\t\t\t\t\t? subjectCard(i, {\n\t\t\t\t\t\t\t\t\t\t\t\tuserId: attrs.id,\n\t\t\t\t\t\t\t\t\t\t\t\tdata: users.get(i.subject)\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tm(\n\t\t\t\t\t\t\tTract,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\textracted: tractStates.FollowedBy,\n\t\t\t\t\t\t\t\theadline: `Followers Of ${user.username}`,\n\t\t\t\t\t\t\t\ttractToggle: e => {\n\t\t\t\t\t\t\t\t\ttractStates.FollowedBy = !tractStates.FollowedBy\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tinteractions\n\t\t\t\t\t\t\t\t.getFiltered({\n\t\t\t\t\t\t\t\t\tsubject: attrs.id,\n\t\t\t\t\t\t\t\t\tsubjectType: USER,\n\t\t\t\t\t\t\t\t\ttype: FOLLOW\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t//.map(x => console.log(\"Follower interaction\", x) || x)\n\t\t\t\t\t\t\t\t.map(i =>\n\t\t\t\t\t\t\t\t\tusers.get(i.user)\n\t\t\t\t\t\t\t\t\t\t? subjectCard(i, {\n\t\t\t\t\t\t\t\t\t\t\t\tuserId: attrs.id,\n\t\t\t\t\t\t\t\t\t\t\t\tdata: users.get(i.user)\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tm(\n\t\t\t\t\t\t\tTract,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\textracted: tractStates.Blocks,\n\t\t\t\t\t\t\t\theadline: `Blocked By ${user.username}`,\n\t\t\t\t\t\t\t\ttractToggle: e => {\n\t\t\t\t\t\t\t\t\ttractStates.Blocks = !tractStates.Blocks\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tinteractions\n\t\t\t\t\t\t\t\t.getFiltered({ user: attrs.id, type: BLOCK })\n\t\t\t\t\t\t\t\t.map(i =>\n\t\t\t\t\t\t\t\t\tusers.get(i.subject)\n\t\t\t\t\t\t\t\t\t\t? subjectCard(i, {\n\t\t\t\t\t\t\t\t\t\t\t\tuserId: attrs.id,\n\t\t\t\t\t\t\t\t\t\t\t\tdata: users.get(i.subject)\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t  )\n\t\t\t\t: m(InteractionBar, {\n\t\t\t\t\t\ttargetId: user.id\n\t\t\t\t  })\n\t\t}\n\t\t//console.log('UserDetail attrComp mapping', mapping)\n\n\t\treturn m(\n\t\t\t\".main-stage\",\n\t\t\t{},\n\t\t\tm(\".c44-oys.c44-h-80vh.c44-w-100\", {}, m(Profile, mapping))\n\t\t)\n\t}\n}\nexport default UserDetail\n","// createSeries.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport DetailBanner from '../../ui/DetailBanner.jsx';\nimport CardContainer from '../../../components/layout/CardContainer.jsx';\nimport FestivalCard from '../../../components/cards/FestivalCard.jsx';\n\n\nimport {remoteData} from '../../../store/data';\n\nimport SeriesDescriptionField from '../../detailViewsPregame/fields/series/SeriesDescriptionField.jsx'\nimport SeriesWebsiteField from '../../detailViewsPregame/fields/series/SeriesWebsiteField.jsx'\n\nimport {setMockData} from \"../../../store/data\";\nimport UIButton from '../../ui/UIButton.jsx';\n\nconst entryFormHandler = (formDOM) => {\n\n\tconst formData = new FormData(formDOM);\n\tconst newEntry = {};\n\n\tArray.from(formData.entries()).map((entryValue) => {\n\t\tconst key = entryValue[0];\n\t\tconst value = entryValue[1];\n\n\t\tswitch (value) {\n      case \"false\":\n\t      newEntry[key] = false;\n        break;\n      case \"true\":\n\t      newEntry[key] = true;\n        break;\n      default:\n\t      newEntry[key] = value;\n        break;\n    }\n\t});\n\n\tremoteData.Series.create(newEntry)\n\t\t.then(newSeries => m.route.set('/series/pregame/' + newSeries.id))\n\t\t.catch(err => {\n\t\t\tconsole.log('createSeries.jsx create err')\n\t\t\tconsole.log(err)\n\t\t})\n\n\tformDOM.reset();\n};\n\nconst consoleLog = str => console.log(str)\n\n\nconst CreateSeries = () => { \n\n\treturn {\n\toninit: ({attrs}) => {\n\t\t\tif (attrs.titleSet) attrs.titleSet(`Create Series`)\n\t},\n\tview: ({attrs}) => <div class=\"main-stage\">\n\t\t\t\t<div class=\"main-stage-content-scroll\">\n    <form name=\"entry-form\" id=\"entry-form\">\n      <label for=\"series-name\">\n        {`Series Name`}\n      </label>\n      <input id=\"series-name\" type=\"text\" name=\"name\" />\n      <label for=\"description\">\n        {`Description`}\n      </label>\n      <input id=\"description\" type=\"text\" name=\"description\" />\n      <label for=\"website\">\n        {`Website`}\n      </label>\n      <input id=\"website\" type=\"text\" name=\"website\" />\n\t    <UIButton action={() => entryFormHandler(document.getElementById('entry-form'))} buttonName=\"SAVE\" />\n\t  </form>\n\t  </div>\n\t  </div>\n    \n}}\nexport default CreateSeries;\n","// createFestival.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport DetailBanner from '../../ui/DetailBanner.jsx';\nimport CardContainer from '../../../components/layout/CardContainer.jsx';\nimport FestivalCard from '../../../components/cards/FestivalCard.jsx';\n\n\nimport {remoteData} from '../../../store/data';\n\nimport SeriesDescriptionField from '../../detailViewsPregame/fields/series/SeriesDescriptionField.jsx'\nimport SeriesWebsiteField from '../../detailViewsPregame/fields/series/SeriesWebsiteField.jsx'\n\nimport {setMockData} from \"../../../store/data\";\nimport UIButton from '../../ui/UIButton.jsx';\n\nconst entryFormHandler = (formDOM) => {\n\n\tconst formData = new FormData(formDOM);\n\tconst newEntry = {};\n\n\tArray.from(formData.entries()).map((entryValue) => {\n\t\tconst key = entryValue[0];\n\t\tconst value = entryValue[1];\n\n\t\tswitch (value) {\n      case \"false\":\n\t      newEntry[key] = false;\n        break;\n      case \"true\":\n\t      newEntry[key] = true;\n        break;\n      default:\n\t      newEntry[key] = value;\n        break;\n    }\n\t});\n\n\n\t//console.log(newEntry);\n\n\tremoteData.Festivals.create(newEntry)\n\t\t.then(newFestival => _.isNumber(newFestival.id) && m.route.set('/dates/pregame/new/' + newFestival.id) || console.log('newFestival', newFestival) && false || m.route.set('/admin'))\n\n\t\t.catch(err => {\n\t\t\tconsole.log('createFestivals.jsx create err')\n\t\t\tconsole.log(err)\n\t\t});\n\n\tformDOM.reset();\n};\n\nconst consoleLog = str => console.log(str)\n\nconst CreateFestival = {\n\toninit: ({attrs}) => {\n\t\t\tif (attrs.titleSet) attrs.titleSet(`Add year`)\n\t\t\treturn parseInt(m.route.param('seriesId'), 10) && remoteData.Festivals.subjectDetails({subjectType: FESTIVAL, subject: parseInt(m.route.param('seriesId'), 10)}).catch(console.error)\n\t},\n\tview: ({attrs}) => <div class=\"main-stage\">\n\t\t\t\t<div class=\"main-stage-content-scroll\">\n    \n    <form name=\"entry-form\" id=\"entry-form\" class={attrs.userId > 0 ? '' : 'hidden' }>\n      <label for=\"series\">\n        {`Festival Series`}\n      </label>\n\t      <select id=\"series\" name=\"series\">\n      \t\t{parseInt(m.route.param('seriesId'), 10) ?\n\t\t      \t<option value={parseInt(m.route.param('seriesId'), 10)}>\n\t\t      \t\t{remoteData.Series.getEventName(parseInt(m.route.param('seriesId'), 10))}\n\t\t      \t</option> :\n\t\t      \tremoteData.Series.getEventNamesWithIds()\n\t\t      \t\t.map(s => <option value={s[1]}>{s[0]}</option>)\n\t      \t}\n      </select>\n      <label for=\"event-name\">\n        {`Festival Year`}\n      </label>\n      <input id=\"event-name\" type=\"text\" name=\"year\" />\n\t    <UIButton action={() => entryFormHandler(document.getElementById('entry-form'))} buttonName=\"SAVE\" />\n\t  </form>\n\t  </div>\n\t  </div>\n    \n}\nexport default CreateFestival;\n","// createDate.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport moment from 'dayjs';\n\nimport DetailBanner from '../../ui/DetailBanner.jsx';\nimport CardContainer from '../../../components/layout/CardContainer.jsx';\nimport DateCard from '../../../components/cards/DateCard.jsx';\n\n\nimport {remoteData} from '../../../store/data';\n\nimport SeriesDescriptionField from '../../detailViewsPregame/fields/series/SeriesDescriptionField.jsx'\nimport SeriesWebsiteField from '../../detailViewsPregame/fields/series/SeriesWebsiteField.jsx'\n\nimport {setMockData} from \"../../../store/data\";\nimport UIButton from '../../ui/UIButton.jsx';\n\nconst entryFormHandler = (formDOM) => {\n\n\tconst formData = new FormData(formDOM);\n\tconst newEntry = {};\n\n\tArray.from(formData.entries()).map((entryValue) => {\n\t\tconst key = entryValue[0];\n\t\tconst value = entryValue[1];\n\n\t\tswitch (value) {\n      case \"false\":\n\t      newEntry[key] = false;\n        break;\n      case \"true\":\n\t      newEntry[key] = true;\n        break;\n      default:\n\t      newEntry[key] = value;\n        break;\n    }\n\t});\n\n\t//convert startdate and enddate into moments\n\tconst startMoment = moment.utc(newEntry.startdate)\n\tconst endMoment = moment.utc(newEntry.enddate)\n\t//store the difference + 1 between start and end as dayCount\n\tnewEntry.dayCount = 1 + endMoment.diff(startMoment, 'days')\n\t//store startdate as midnight UTC Date object in basedate\n\tnewEntry.basedate = startMoment.toDate()\n\n\t//console.log(newEntry);\n\n\tremoteData.Dates.createWithDays(newEntry)\n\t\t//.then(x => remoteData.Dates.loadList(true)\n\t\t\t//.then(result => x.data))\n\t\t\t/*\n\t\t.then(res => {\n\t\t    console.log('createDates.jsx create loadList newDate')\n\t\t    console.log(res)\n\t\t    return res\n\t\t})\n\t\t*/\n\t\t.then(newDate => newDate.festival && m.route.set('/fests/pregame/' + newDate.festival) || console.log('newDate', newDate) && false || m.route.set('/admin'))\n\n\t\t.catch(err => {\n\t\t\tconsole.log('createDates.jsx create err')\n\t\t\tconsole.log(err)\n\t\t});\n\n\tformDOM.reset();\n};\n\nconst consoleLog = str => console.log(str)\nconst previousVenueIds = _.memoize(festivalId => remoteData.Series.getVenueIds(remoteData.Festivals.getSeriesId(festivalId)))\nlet festivalId\n\nconst CreateDate = {\n\toninit: ({attrs}) => {\n\t\tconsole.log('initing CreateDate')\n\t\tfestivalId = parseInt(m.route.param('festivalId'), 10)\n\t\tif (attrs.titleSet) attrs.titleSet(`Add Date`)\n\t\tremoteData.Series.remoteCheck(true)\n\t\tremoteData.Festivals.remoteCheck(true)\n\t\tremoteData.Venues.remoteCheck(true)\n\t},\n\tview: (vnode) => <div class=\"main-stage\">\n\t\t\t\t<div class=\"main-stage-content-scroll\">\n\t\t\t\t\t{console.log('CreateDate')}\n    \n    <form name=\"entry-form\" id=\"entry-form\" >\n      <label for=\"festival\">\n        {`Festival`}\n      </label>\n\t      <select id=\"festival\" name=\"festival\" onchange={e => {\n\t      \tfestivalId = parseInt(e.target.value, 10)\n\t      }}>\n      \t{\n\t      \tremoteData.Festivals.getEventNamesWithIds()\n\t\t  \t\t.map(s => <option value={s[1]} selected={festivalId === s[1]}>\n\t\t  \t\t\t{s[0]}\n\t\t  \t\t</option>)\n  \t\t}\n      </select>\n      <label for=\"venue\">\n        {`Venue`}\n        <button onclick={e => {e.preventDefault();m.route.set('/venues/pregame/new');}}>New venue</button>\n      </label>\n\t      <select id=\"venue\" name=\"venue\">\n      \t\t{remoteData.Venues.getPlaceNamesWithIds()\n      \t\t\t.sort((a, b) => {\n      \t\t\t\tif(!festivalId) return 0\n      \t\t\t\treturn previousVenueIds(festivalId).indexOf(b[1]) - previousVenueIds(festivalId).indexOf(a[1])\n      \t\t\t})\n\t      \t\t.map(s => <option value={s[1]}>{s[0]}</option>)\n\t      \t}\n      </select>\n      <label for=\"event-name\">\n        {`Date Name (City name for travelling fests; Weekend # for stationary)`}\n      </label>\n      <input id=\"event-name\" type=\"text\" name=\"name\" />\n      <label for=\"event-start\">\n        {`Start Date`}\n      </label>\n      <input id=\"event-start\" type=\"date\" name=\"startdate\" />\n      <label for=\"event-end\">\n        {`End Date (same as start date for single day festival)`}\n      </label>\n      <input id=\"event-end\" type=\"date\" name=\"enddate\" />\n\t    <UIButton action={() => entryFormHandler(document.getElementById('entry-form'))} buttonName=\"SAVE\" />\n\t  </form>\n\t  </div>\n\t  </div>\n    \n}\nexport default CreateDate;\n","// createVenue.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport moment from 'dayjs'\n\n\nimport {remoteData} from '../../../store/data';\n\nimport UIButton from '../../ui/UIButton.jsx';\n\nconst entryFormHandler = (formDOM) => {\n\n\tconst formData = new FormData(formDOM);\n\tconst newEntry = {};\n\n\tArray.from(formData.entries()).map((entryValue) => {\n\t\tconst key = entryValue[0];\n\t\tconst value = entryValue[1];\n\n\t\tswitch (value) {\n      case \"false\":\n\t      newEntry[key] = false;\n        break;\n      case \"true\":\n\t      newEntry[key] = true;\n        break;\n      default:\n\t      newEntry[key] = value;\n        break;\n    }\n\t});\n\n\tconsole.log(newEntry);\n\n\n\tconst submit = remoteData.Venues.create(newEntry)\n    .then(newVenue => m.route.set('/launcher'))\n    .catch(err => {\n      console.log('createVenues.jsx create err')\n      console.log(err)\n    })\n\t\t.then(() => formDOM.reset())\n\n\t\n};\n\nconst consoleLog = str => console.log(str)\n\n\nconst CreateVenue = (auth) => { return {\n\toninit: ({attrs}) => {\n    if (attrs.titleSet) attrs.titleSet(`Create new Venue`)\n\t},\n\tview: (vnode) => <div class=\"main-stage\">\n    <div class=\"main-stage-content-scroll\">\n      <form name=\"entry-form\" id=\"entry-form\" >\n        <label for=\"venue-name\">\n          {`Venue Name`}\n        </label>\n        <input id=\"venue-name\" type=\"text\" name=\"name\" />\n        <label for=\"description\">\n          {`Description`}\n        </label>\n        <input id=\"description\" type=\"text\" name=\"description\" />\n        <label for=\"timezone\">\n          {`Timezone`}\n        </label>\n        <select id=\"timezone\" name=\"timezone\">\n        \t   \t{moment.tz.names()\n  \t      \t\t.map(s => <option value={s}>{s}</option>)\n  \t      \t}\n        </select>\n        <label for=\"country\">\n          {`Country`}\n        </label>\n        <input id=\"country\" type=\"text\" name=\"country\" />\n        <label for=\"state\">\n          {`State`}\n        </label>\n        <input id=\"state\" type=\"text\" name=\"state\" />\n        <label for=\"city\">\n          {`City`}\n        </label>\n        <input id=\"city\" type=\"text\" name=\"city\" />\n        <label for=\"street-address\">\n          {`Street Address`}\n        </label>\n        <input id=\"street-address\" type=\"text\" name=\"streetAddress\" />\n  \t    <UIButton action={() => entryFormHandler(document.getElementById('entry-form'))} buttonName=\"SAVE\" />\n  \t  </form>\n    </div>\n  </div>\n    \n}}\nexport default CreateVenue;\n","// src/components/createFestivals/lineups/AddSingleArtist.jsx\n\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport UIButton from '../../../components/ui/UIButton.jsx';\n\nimport {remoteData} from '../../../store/data'\n\nconst artists = remoteData.Artists\nconst lineups = remoteData.Lineups\n\nvar addingArtist = false\nconst AddSingleArtist = {\n\t\toninit: ({attrs}) => {\n\t\t\treturn Promise.all([\n\t\t\t\tlineups.remoteCheck(true),\n\t\t\t\tartists.remoteCheck(true)\n\t\t\t\t])\n\t\t},\n\t\tview: ({attrs}) => <div>\n\t\t<UIButton action={() => {\n\t\t\tattrs.popModal('artist', {\n\t\t\t\tfestivalId: attrs.festivalId,\n\t\t\t\taction: x => x\n\t\t\t})\n\t\t}} buttonName=\"Add Single Artist\" />\n\n\t\t</div>\n}\nexport default AddSingleArtist;\n","// AssignDays.jsx\n\n\n//copy from earlier date (this will copy all set data and overwrite all existing set data for this day)\n\n\n//draw a table where each row is:\n\t//artist name\n\t//checkbox for each artist\n\n//table headers are day names for the date\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n// Services\nimport Auth from '../../../services/auth.js';\nconst auth = Auth;\n\nimport {remoteData} from '../../../store/data';\n\nimport {seriesChange, festivalChange, dateChange} from '../../../store/action/event'\nimport EventSelector from '../../detailViewsPregame/fields/event/EventSelector.jsx'\nimport ToggleControl from '../../ui/ToggleControl.jsx';\nimport AddSingleArtist from '../lineups/AddSingleArtist.jsx'\n\n\nimport UIButton from '../../ui/UIButton.jsx';\n\n\nconst series = remoteData.Series\nconst festivals = remoteData.Festivals\nconst dates = remoteData.Dates\nconst days = remoteData.Days\nconst sets = remoteData.Sets\nconst lineups = remoteData.Lineups\n\n\nconst dateId = () => parseInt(m.route.param('dateId'), 10)\nconst festivalId = () => parseInt(m.route.param('festivalId'), 10)\nconst seriesId = () => parseInt(m.route.param('seriesId'), 10)\nconst user = attrs => _.isInteger(attrs.userId) ? attrs.userId : 0\nconst roles = attrs => _.isArray(attrs.userRoles) ? attrs.userRoles : []\nconst lineup = (fid = festivalId()) => lineups.forFestival(fid)\n\n\nconst entryFormHandler = (formDOM, dateId) => {\n\n\tconst formData = new FormData(formDOM);\n\tconst newEntry = {};\n\n\tArray.from(formData.entries()).map((entryValue) => {\n\t\tconst key = entryValue[0];\n\t\tconst value = entryValue[1];\n\n\t\tswitch (value) {\n      case \"false\":\n\t      newEntry[key] = false;\n        break;\n      case \"true\":\n\t      newEntry[key] = true;\n        break;\n      default:\n\t      newEntry[key] = value;\n        break;\n    }\n\t});\n\tconst dataSet = sets.getMany(dates.getSubSetIds(\n\t\t\t\t\t\t\tdateId))\n\t\t\t\t\t\t\n\tconst checked = Object.keys(newEntry)\n\t\t.filter(x => x)\n\t\t.filter(k => /^box/.test(k))\n\t\t//skip creating a set for unscheduled artists\n\t\t.filter(k => !/unscheduled/.test(k))\n\t\t.map(k => {\n\t\t\tconst split = k.split('-')\n\t\t\treturn {\n\t\t\t\tband: parseInt(split[1], 10),\n\t\t\t\tday: parseInt(split[2], 10)\n\t\t}})\n\t//deleteSets: delete any sets that are in the dataset but not checked\n\tconst deleteSets = dataSet\n\t\t.filter(s => !_.find(checked, c => c.band === s.band && c.day === s.day))\n\t\t.reduce((pv, cv) => {\n\t\t\tpv.setIds.push(cv.id)\n\t\t\treturn pv\n\t\t}, {setIds: []})\n\t//createSets: create any set that is checked but is not in the dataset\n\tconst createSets = checked\n\t\t.filter(s => !sets.find(c => c.band === s.band && c.day === s.day))\n\t\t.reduce((pv, cv) => {\n\t\t\tif(!pv[cv.day]) pv[cv.day] = []\n\t\t\tpv[cv.day].push(cv.band)\n\t\t\treturn pv\n\t\t}, {})\n\n\t//console.log('AssignDays Set changes')\n\t//console.log(newEntry);\n\t//console.log(dataSet);\n\t//console.log(checked);\n\t//console.log(deleteSets);\n\t//console.log(createSets);\n\n\tsets.createForDays(createSets);\n\tdeleteSets.length && sets.batchDelete(deleteSets);\n\n\tconst festivalId = dates.getFestivalId(dateId)\n\n\tconst currentlyUnscheduledLineups = lineups.getUnscheduledForFestival(festivalId)\n\n\n\tconst unscheduled = Object.keys(newEntry)\n\t\t.filter(k => /unscheduled/.test(k))\n\t\t.map(k => {\n\t\t\tconst split = k.split('-')\n\t\t\treturn {\n\t\t\t\tband: parseInt(split[1], 10),\n\t\t\t\tfestival: festivalId,\n\t\t\t\tunscheduled: 1\n\t\t}})\n\n\t//remove unscheduled form any lineup object that has it currently but not in unscheduled\n\tconst removeUnscheduled = currentlyUnscheduledLineups\n\t\t.filter(l => !_.some(unscheduled, updated => l.band === updated.band))\n\t\t.map(l => {\n\t\t\tl.unscheduled = 0\n\t\t\treturn l\n\t\t})\n\n\tconst addUnscheduled = unscheduled\n\t\t.filter(updated => !_.some(currentlyUnscheduledLineups, l => l.band === updated.band))\n\t\t.map(updated => _.assign(lineups.getFromArtistFest(updated.band, festivalId), updated))\n\t\t.filter(newL => newEl && newEl.id || console.error('new lineup update missing id', newEl, festivalId) && false)\n\n\n\t//console.log('Delete lineup ids')\n\t// deleteLineups\n\tconst deleteLineupIds = Object.keys(newEntry)\n\t\t.filter(k => /delete/.test(k))\n\t\t.map(k => parseInt(k.split('-')[1], 10))\n\t\t.map(v => {console.log('delete lineup', v, festivalId, _.get(lineups.find({band: v, festival: festivalId}), 'id'));return v;})\n\t\t.map(v => _.get(lineups.find({band: v, festival: festivalId}), 'id'))\n\t\t.filter(x => x)\n\n\t// updateLineups\n\tconst updateLineups = [...removeUnscheduled, ...addUnscheduled]\n\n\n\n\t//console.log('Lineups changes')\n\t//console.log(festivalId)\n\t//console.log(deleteLineupIds)\n\t//console.log(updateLineups)\n\n\tdeleteLineupIds.length && lineups.batchDelete({ids: deleteLineupIds})\n\tupdateLineups.length && lineups.batchUpdate(updateLineups)\n\tm.route.set('/launcher')\n\t//formDOM.reset();\n};\n\t\nconst hideRows = vnode => {\n\t//console.log('AssignDays.onupdate')\n\tconst rows = Array.from(vnode.dom.querySelectorAll('tr'))\n\tif(hideSelected) {\n\t\tconst rowsToHide = rows\n\t\t\t.filter(r => r.querySelectorAll('input:checked').length)\n\t\t\t.filter(r => !/hidden/.test(r.className))\n\t\t\n\t\trowsToHide\n\t\t\t.forEach(r => r.className += ' hidden')\n\n\t\tconst rowsToShow = rows\n\t\t\t.filter(r => !r.querySelectorAll('input:checked').length)\n\t\t\t.filter(r => /hidden/.test(r.className))\n\t\t\n\t\trowsToShow.forEach(r => r.className.replace(' hidden', ''))\n\n\t//console.log(rowsToShow.length)\n\t} else {\n\t\trows\n\t\t.filter(r => /hidden/.test(r.className))\n\t\t.forEach(r => r.className = r.className.replace('hidden', ''))\n\t}\n}\n\nconst dayHeaders = dateId => days.getMany(\n\tdates.getSubIds(dateId))\n\t.sort((a, b) => a.daysOffset - b.daysOffset)\n\n\nvar hideSelected = false\nvar lineupIds = []\nvar lastLineupIds = []\nvar setIds = []\nvar lastSetIds = []\nvar displayArtists = []\nvar lastDisplaySets = []\nvar displaySets = []\nvar lastDisplayArtists = []\nconst AssignDays = {\n\t\tname: 'AssignDays',\n\t\tpreload: (rParams) => {\n\t\t\t//console.log('dayDetails preload')\n\t\t\t//if a promise returned, instantiation of component held for completion\n\t\t\t//route may not be resolved; use rParams and not m.route.param\n\t\t\tconst seriesId = parseInt(rParams.seriesId, 10)\n\t\t\tconst festivalId = parseInt(rParams.festivalId, 10)\n\t\t\tconst dateId = parseInt(rParams.dateId, 10)\n\t\t\t//messages.forArtist(dateId)\n\t\t\t//console.log('Research preload', seriesId, festivalId, rParams)\n\t\t\treturn Promise.all([\n\t\t\t\t!seriesId ? series.remoteCheck(true) : true,\n\t\t\t\tseriesId && !festivalId ? Promise.all([\n\t\t\t\t\tseries.subjectDetails({subject: seriesId, subjectType: SERIES}),\n\t\t\t\t\tfestivals.remoteCheck(true)\n\t\t\t\t\t]) : true,\n\t\t\t\tfestivalId && !dateId ? Promise.all([\n\t\t\t\t\tfestivals.subjectDetails({subject: festivalId, subjectType: FESTIVAL}),\n\t\t\t\t\tdates.remoteCheck(true)\n\t\t\t\t\t]) : true,\n\t\t\t\tdateId ? dates.subjectDetails({subject: dateId, subjectType: DATE}) : true,\n\t\t\t\tfestivalId ? lineups.maintainList({where: {festival: festivalId}}) : true,\n\t\t\t\tdateId ? sets.maintainList({where: {day: {inq: dates.getSubDayIds(dateId)}}}) : true\n\t\t\t])\n\t\t},\n\t\toninit: ({attrs}) => {\n\t\t\tif (attrs.titleSet) attrs.titleSet(`Assign artists to days`)\n\t\t\tlineupIds = remoteData.Lineups.getFestivalArtistIds(festivalId()).sort((a, b) => a - b)\n\t\t\tsetIds = dateId() ? remoteData.Dates.getSubSetIds(dateId()).sort((a, b) => a - b) : []\n\t\t\tdisplayArtists = remoteData.Artists.getMany(lineupIds)\n\t\t\tdisplaySets = sets.getMany(setIds)\n\t\t\n\t\t},\n\t\tonupdate: vnode => {\n\t\t\thideRows(vnode)\n\n\t\t},\n\tonbeforeupdate: () => {\n\t\tlastLineupIds = lineupIds\n\t\tlineupIds = remoteData.Lineups.getFestivalArtistIds(festivalId()).sort((a, b) => a - b)\n\t\tlastDisplayArtists = displayArtists\n\t\tdisplayArtists = remoteData.Artists.getMany(lineupIds)\n\t\tlastDisplaySets = displaySets\n\t\tsetIds = dateId() ? remoteData.Dates.getSubSetIds(dateId()).sort((a, b) => a - b) : []\n\t\tdisplaySets = sets.getMany(setIds)\n\t\t\n\t\tconst sameLineup = _.isEqual(lastDisplayArtists, displayArtists)\n\t\tconst sameSets = _.isEqual(lastDisplaySets, displaySets)\n\t\t//console.log('update set lineup', sameLineup, lastLineupIds, lineupIds)\n\t\treturn !sameLineup || !sameSets\n\t},\n\t\tview: vnode => <div class=\"main-stage\">\n\t\t\t<EventSelector \n\t\t\t\tseriesId={seriesId()}\n\t\t\t\tfestivalId={festivalId()}\n\t\t\t\tdateId={dateId()}\n\t\t\t\tseriesChange={seriesChange}\n\t\t\t\tfestivalChange={festivalChange(seriesId())}\n\t\t\t\tdateChange={dateChange(seriesId(), festivalId())}\n\t\t\t/>\n\t\t\t{dateId() ? <div>\n\t\t\t\t<AddSingleArtist festivalId={festivalId()} popModal={vnode.attrs.popModal} />\n\t\t    <ToggleControl\n\t\t\t\toffLabel={'Show All'}\n\t\t\t\tonLabel={'Hide assigned'}\n\t\t\t\t\n\t\t\t\tgetter={() => hideSelected}\n\t\t\t\tsetter={newState => {\n\t\t\t\t\thideSelected = newState\n\t\t\t\t\t//console.log('AssignDays hideSelected ' +  hideSelected)\n\t\t\t\t\thideRows(vnode)\n\t\t\t\t}}\n\t\t\t\tpermission={roles(vnode.attrs).includes('admin')}\n\n\t\t\t/>\n\t\t<UIButton action={() => entryFormHandler(document.getElementById('entry-form'), dateId())} buttonName=\"SAVE\" />\n\t\t\t\t\n\t\t\t\t<div class=\"main-stage-content-scroll\">\n\t\t\t    {!dateId() ? '' : <form name=\"entry-form\" id=\"entry-form\" class={roles(vnode.attrs).includes('admin') ? '' : 'hidden' }>\n\t\t\t    \t<table>\n\t\t\t    \t\t<tr><th>Remove from lineup</th><th>Artist</th>{\n\t\t\t    \t\t\t//list of day names, ordered by daysOffset\n\t\t\t    \t\t\tdayHeaders(dateId())\n\t\t\t    \t\t\t\t.map(h =>  <th>{h.name}</th>)\n\t\t\t    \t\t}<th>Off-schedule Set</th></tr>\n\t\t\t\t    \t{\n\t\t\t\t    \t\t//map each artist in the festival lineup\n\t\t\t\t    \t\tremoteData.Artists.getMany(\n\t\t\t\t\t\t\t\tdates.getLineupArtistIds(dateId()))\n\t\t\t\t\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name))\n\t\t\t\t\t\t\t\t.map(data => <tr>\n\t\t\t\t\t\t\t\t\t<td><input \n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \n\t\t\t\t\t\t\t\t\t\tname={'delete-' + data.id} \n\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t<td>{data.name}</td>\n\t\t\t\t\t\t\t\t\t{dayHeaders(dateId())\n\t\t\t\t\t\t\t\t\t\t.map(h => <td><input \n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \n\t\t\t\t\t\t\t\t\t\t\tname={'box-' + data.id + '-' + h.id} \n\t\t\t\t\t\t\t\t\t\t\tchecked={_.find(sets.getMany(days.getSubSetIds(\n\t\t\t\t\t\t\t\t\t\t\t\th.id)), s => s.band === data.id) ? true : false}/>\n\t\t\t\t\t\t\t\t\t\t</td>)}\n\t\t\t\t\t\t\t\t\t<td><input \n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \n\t\t\t\t\t\t\t\t\t\tname={'box-' + data.id + '-unscheduled'} \n\t\t\t\t\t\t\t\t\t\tchecked={_.some(lineups.getUnscheduledForFestival(festivalId()), l => l.band === data.id)}\n\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t</tr>)\n\t\t\t\t    \t}\n\t\t\t    \t</table>\n\t\t\t\t\t</form>}\n\t\t\t</div>\n\t\t\t</div> : ''}\n\t\t\t</div>\n\t    \n}\nexport default AssignDays;\n","// AssignStages.jsx\n\n\n//copy from earlier date (this will copy all set data and overwrite all existing set data for this day)\n\n\n//draw a table where each row is:\n\t//artist name\n\t//checkbox for each artist\n\n//table headers are day names for the date\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\nimport {remoteData} from '../../../store/data';\n\nimport {seriesChange, festivalChange, dateChange, dayChange} from '../../../store/action/event'\nimport EventSelector from '../../detailViewsPregame/fields/event/EventSelector.jsx'\n\nimport ToggleControl from '../../ui/ToggleControl.jsx';\n\n\nimport UIButton from '../../ui/UIButton.jsx';\n\nconst series = remoteData.Series\nconst festivals = remoteData.Festivals\nconst dates = remoteData.Dates\nconst days = remoteData.Days\nconst sets = remoteData.Sets\n\nconst dayId = () => parseInt(m.route.param('dayId'), 10)\nconst dateId = () => parseInt(m.route.param('dateId'), 10)\nconst festivalId = () => parseInt(m.route.param('festivalId'), 10)\nconst seriesId = () => parseInt(m.route.param('seriesId'), 10)\nconst user = attrs => _.isInteger(attrs.userId) ? attrs.userId : 0\nconst roles = attrs => _.isArray(attrs.userRoles) ? attrs.userRoles : []\n\nvar hideSelected = false\nconst entryFormHandler = (formDOM, dayId) => {\n\n\tconst formData = new FormData(formDOM);\n\tconst newEntry = {};\n\n\tArray.from(formData.entries()).map((entryValue) => {\n\t\tconst key = entryValue[0];\n\t\tconst value = entryValue[1];\n\n\t\tswitch (value) {\n      case \"false\":\n\t      newEntry[key] = false;\n        break;\n      case \"true\":\n\t      newEntry[key] = true;\n        break;\n      default:\n\t      newEntry[key] = value;\n        break;\n    }\n\t});\n\tconst dataSet = sets.getMany(days.getSubSetIds(\n\t\t\t\t\t\t\tdayId))\n\tconst checked = Object.keys(newEntry)\n\t\t.filter(k => !k.indexOf('box'))\n\t\t.map(k => {\n\t\t\tconst split = k.split('-')\n\t\t\treturn {\n\t\t\t\tid: \tparseInt(split[1], 10),\n\t\t\t\tstage: \tparseInt(split[2], 10)\n\t\t}})\n\t//unstageSets: clear stage from any sets that are in the dataset but not checked\n\tconst unstageSets = dataSet\n\t\t//only delete se\n\t\t.filter(s => s.stage)\n\t\t.filter(s => !_.some(checked, c => c.id === s.id))\n\t\t.map(s => {\n\t\t\ts.stage = 0\n\t\t\treturn s\n\t\t})\n\t//count each checked set id\n\tconst countObject = _.countBy(checked, 'id')\n\tconst createNewSetsFor = Object.keys(_.filter(countObject, c => c > 1))\n\tconst simpleUpdates = checked.filter(s => createNewSetsFor.indexOf(s.id) < 0)\n\tconst mixed = checked.filter(s => createNewSetsFor.indexOf(s.id) > -1)\n\tconst sorted = mixed.reduce((pv, cv) => {\n\t\tconst pvField = _.some(pv.update, s => s.id === cv.id) ? 'create' : 'update'\n\t\tpv[pvField].push(cv)\n\t\treturn pv\n\t}, {update: [], create: []})\n\n\tconst updateSets = [...simpleUpdates, ...sorted.update, ...unstageSets]\n\n\t//createSets: create any set that is checked more than once\n\tconst createSets = sorted.create.map(x => {\n\t\tconst base = sets.get(x.id)\n\t\treturn {\n\t\t\tband: base.band,\n\t\t\tday: base.day,\n\t\t\tstage: x.stage\n\t\t}\n\t})\n\n\t//console.log(newEntry);\n\t//console.log(createSets);\n\t//console.log(updateSets);\n\n\tsets.batchCreate(createSets);\n\tsets.batchUpdate(updateSets);\n\n\tm.route.set('/launcher')\n\t//formDOM.reset();\n};\nconst stageHeaders = festivalId => remoteData.Places.forFestival(festivalId)\n\t.sort((a, b) => a.priority - b.priority)\n\nconst hideRows = vnode => {\n\t//console.log('AssignDays.onupdate')\n\tconst rows = Array.from(vnode.dom.querySelectorAll('tr'))\n\tif(hideSelected) {\n\t\tconst rowsToHide = rows\n\t\t\t.filter(r => r.querySelectorAll('input:checked').length)\n\t\t\t.filter(r => !/hidden/.test(r.className))\n\t\t\n\t\trowsToHide\n\t\t\t.forEach(r => r.className += ' hidden')\n\n\t\tconst rowsToShow = rows\n\t\t\t.filter(r => !r.querySelectorAll('input:checked').length)\n\t\t\t.filter(r => /hidden/.test(r.className))\n\t\t\n\t\trowsToShow.forEach(r => r.className.replace(' hidden', ''))\n\n\t//console.log(rowsToShow.length)\n\t} else {\n\t\trows\n\t\t.filter(r => /hidden/.test(r.className))\n\t\t.forEach(r => r.className = r.className.replace('hidden', ''))\n\t}\n}\n// Fix table head\nfunction tableFixHead (e) {\n    const el = e.target,\n          sT = el.scrollTop;\n    el.querySelectorAll(\"thead th\").forEach(th => \n      th.style.transform = `translateY(${sT}px)`\n    );\n}\nvar lineupIds = []\nvar lastLineupIds = []\nvar setIds = []\nvar lastSetIds = []\nvar displayArtists = []\nvar lastDisplaySets = []\nvar displaySets = []\nvar lastDisplayArtists = []\nconst AssignSetStages = {\n\t\tname: 'AssignStages',\n\t\tpreload: (rParams) => {\n\t\t\t//console.log('dayDetails preload')\n\t\t\t//if a promise returned, instantiation of component held for completion\n\t\t\t//route may not be resolved; use rParams and not m.route.param\n\t\t\tconst seriesId = parseInt(rParams.seriesId, 10)\n\t\t\tconst festivalId = parseInt(rParams.festivalId, 10)\n\t\t\tconst dateId = parseInt(rParams.dateId, 10)\n\t\t\tconst dayId = parseInt(rParams.dayId, 10)\n\t\t\t//messages.forArtist(dateId)\n\t\t\t//console.log('Research preload', seriesId, festivalId, rParams)\n\t\t\treturn Promise.all([\n\t\t\t\t\t!seriesId ? series.remoteCheck(true) : true,\n\t\t\t\t\tseriesId && !festivalId ? Promise.all([\n\t\t\t\t\t\tseries.subjectDetails({subject: seriesId, subjectType: SERIES}),\n\t\t\t\t\t\tfestivals.remoteCheck(true)\n\t\t\t\t\t\t]) : true,\n\t\t\t\t\tfestivalId && !dateId ? Promise.all([\n\t\t\t\t\t\tfestivals.subjectDetails({subject: festivalId, subjectType: FESTIVAL}),\n\t\t\t\t\t\tdates.remoteCheck(true)\n\t\t\t\t\t\t]) : true,\n\t\t\t\t\tdateId && !dayId  ? dates.subjectDetails({subject: dateId, subjectType: DATE}) : true,\n\t\t\t\t\tdayId ? days.subjectDetails({subject: dayId, subjectType: DAY}) : true\n\t\t\t])\n\t\t},\n\t\toninit: ({attrs}) => {\n\t\t\tif (attrs.titleSet) attrs.titleSet(`Assign artists to stages`)\n\t\t\t\tlineupIds = remoteData.Lineups.getFestivalArtistIds(festivalId()).sort((a, b) => a - b)\n\t\t\tsetIds = dateId() ? remoteData.Dates.getSubSetIds(dateId()).sort((a, b) => a - b) : []\n\t\t\tdisplayArtists = remoteData.Artists.getMany(lineupIds)\n\t\t\tdisplaySets = sets.getMany(setIds)\n\t\t\n\t\t},\n\t\tonupdate: vnode => {\n\t\t\thideRows(vnode)\n\t\t},\n\tonbeforeupdate: () => {\n\t\tlastLineupIds = lineupIds\n\t\tlineupIds = remoteData.Lineups.getFestivalArtistIds(festivalId()).sort((a, b) => a - b)\n\t\tlastDisplayArtists = displayArtists\n\t\tdisplayArtists = remoteData.Artists.getMany(lineupIds)\n\t\tlastDisplaySets = displaySets\n\t\tsetIds = dateId() ? remoteData.Dates.getSubSetIds(dateId()).sort((a, b) => a - b) : []\n\t\tdisplaySets = sets.getMany(setIds)\n\t\t\n\t\tconst sameLineup = _.isEqual(lastDisplayArtists, displayArtists)\n\t\tconst sameSets = _.isEqual(lastDisplaySets, displaySets)\n\t\t//console.log('update set lineup', sameLineup, lastLineupIds, lineupIds)\n\t\treturn !sameLineup || !sameSets\n\t},\n\t\toncreate: vnode => {\n\t\t\t\n\t\t\tvnode.dom.querySelectorAll(\".tableFixHead\").forEach(el => \n\t\t\t    el.addEventListener(\"scroll\", tableFixHead)\n\t\t\t);\n\t\t},\n\t\tview: vnode => <div class=\"main-stage\">\n\t\t\t\t<EventSelector \n\t\t\t\t\tseriesId={seriesId()}\n\t\t\t\t\tfestivalId={festivalId()}\n\t\t\t\t\tdateId={dateId()}\n\t\t\t\t\tdayId={dayId()}\n\t\t\t\t\tseriesChange={seriesChange}\n\t\t\t\t\tfestivalChange={festivalChange(seriesId())}\n\t\t\t\t\tdateChange={dateChange(seriesId(), festivalId())}\n\t\t\t\t\tdayChange={dayChange(seriesId(), festivalId(), dateId())}\n\t\t\t\t/>\n\t\t\t    <ToggleControl\n\t\t\toffLabel={'Show All'}\n\t\t\tonLabel={'Hide assigned'}\n\t\t\t\n\t\t\tgetter={() => hideSelected}\n\t\t\tsetter={newState => {\n\t\t\t\thideSelected = newState\n\t\t\t\t//console.log('AssignDays hideSelected ' +  hideSelected)\n\t\t\t\thideRows(vnode)\n\t\t\t}}\n\t\t\tpermission={roles(vnode.attrs).includes('admin')}\n\n\t\t/>\n\t\t\t<UIButton action={() => entryFormHandler(document.getElementById('entry-form'), dayId())} buttonName=\"SAVE\" />\n\t\t\t\t\n\t\t\t\t<div class=\"main-stage-content-scroll\">\n\t\t\t    {!dayId() ? '' : <form name=\"entry-form\" id=\"entry-form\" class={roles(vnode.attrs).includes('admin') ? '' : 'hidden' }>\n\t\t\t    \t<table>\n\t\t\t    \t\t<thead><th>Artist</th>{\n\t\t\t    \t\t\t//list of day names, ordered by daysOffset\n\t\t\t    \t\t\tstageHeaders(festivalId())\n\t\t\t    \t\t\t\t.map(h =>  <th>{h.name}</th>)\n\t\t\t    \t\t}</thead>\n\t\t\t\t    \t{\n\t\t\t\t    \t\t//map each set to an artist\n\t\t\t\t    \t\tsets.getMany(days.getSubSetIds(\n\t\t\t\t\t\t\t\tdayId()))\n\t\t\t\t\t\t\t\t.sort((a, b) => {\n\t\t\t\t\t\t\t\t\tconst aPriId = remoteData.Lineups.getPriFromArtistFest(a.band, festivalId())\n\t\t\t\t\t\t\t\t\tconst bPriId = remoteData.Lineups.getPriFromArtistFest(b.band, festivalId())\n\t\t\t\t\t\t\t\t\tif(aPriId === bPriId) {\n\t\t\t\t\t\t\t\t\t\tconst an = sets.getArtistName(a.id)\n\t\t\t\t\t\t\t\t\t\tconst bn = sets.getArtistName(b.id)\n\t\t\t\t\t\t\t\t\t\treturn (an ? an : '').localeCompare(bn ? bn : '')\n\t\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\t\tconst aPriLevel = remoteData.ArtistPriorities.getLevel(aPriId)\n\t\t\t\t\t\t\t\t\tconst bPriLevel = remoteData.ArtistPriorities.getLevel(bPriId)\n\t\t\t\t\t\t\t\t\treturn aPriLevel - bPriLevel\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.map(data => <tr><td>{sets.getArtistName(data.id)}</td>\n\t\t\t\t\t\t\t\t\t{stageHeaders(festivalId())\n\t\t\t\t\t\t\t\t\t\t.map(h => <td><input \n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \n\t\t\t\t\t\t\t\t\t\t\t\tname={'box-' + data.id + '-' + h.id} \n\t\t\t\t\t\t\t\t\t\t\t\tchecked={data.stage === h.id}/>\n\t\t\t\t\t\t\t\t\t\t</td>)}\n\t\t\t\t\t\t\t\t\t</tr>)\n\t\t\t\t    \t}\n\t\t\t    \t</table>\n\t\t\t\t\t</form>}\n\t\t\t</div>\n\t\t\t</div>\n\t    \n}\nexport default AssignSetStages;\n","// AssignTimes.jsx\n\n\n//copy from earlier date (this will copy all set data and overwrite all existing set data for this day)\n\n\n//draw a table where each row is:\n\t//artist name\n\t//checkbox for each artist\n\n//table headers are day names for the date\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n// Services\n\nimport {remoteData} from '../../../store/data';\n\nimport {seriesChange, festivalChange, dateChange, dayChange, stageChange} from '../../../store/action/event'\nimport EventSelector from '../../detailViewsPregame/fields/event/EventSelector.jsx'\n\nimport ArtistCard from '../../cards/ArtistCard.jsx'\nimport ScheduleSet from '../../fields/ScheduleSet.jsx'\nimport SetScheduleModal from '../../modals/SetScheduleModal.jsx'\n\nimport AddSingleArtist from '../lineups/AddSingleArtist.jsx'\n\nimport ScheduleLadder from '../../layout/ScheduleLadder.jsx'\nimport WidgetContainer from '../../layout/WidgetContainer.jsx'\n\nimport FixedCardWidget from '../../widgets/FixedCard.jsx'\nimport LineupWidget from '../../widgets/canned/LineupWidget.jsx'\n\nimport UIButton from '../../ui/UIButton.jsx';\n\nconst {\n\tSeries: series,\n\t Festivals: festivals,\n\t Dates: dates,\n\t Days: days,\n\t Sets: sets,\n\t Lineups: lineups,\n\t Artists: artists,\n\t Places: places\n\t} = remoteData\n\n/*\nconst series = remoteData. Series\nconst festivals = remoteData. Festivals\nconst dates = remoteData. Dates\nconst days = remoteData. Days\nconst sets = remoteData. Sets\nconst lineups = remoteData. Lineups\nconst artists = remoteData. Artists\nconst places = remoteData. Places\n*/\n\nconst dayId = () => parseInt(m.route.param('dayId'), 10)\nconst dateId = () => parseInt(m.route.param('dateId'), 10)\nconst festivalId = () => parseInt(m.route.param('festivalId'), 10)\nconst seriesId = () => parseInt(m.route.param('seriesId'), 10)\nconst stageId = () => parseInt(m.route.param('stageId'), 10)\nconst user = attrs => _.isInteger(attrs.userId) ? attrs.userId : 0\nconst roles = attrs => _.isArray(attrs.userRoles) ? attrs.userRoles : []\n\nconst dayAndStageUnscheduled = (dayId, stageId) => sets.getFiltered({day: dayId, stage: stageId})\n\t\t\t.filter(x => !x.end)\nconst scheduledSets = (dayId, stageId) => sets.getFiltered({day: dayId, stage: stageId})\n\t\t\t.filter(x => x.end)\nconst stageHeaders = festivalId => places.forFestival(festivalId)\n\t\t\t.sort((a, b) => a.priority - b.priority)\n\nvar schedulingSet = false\nvar addSet = {}\nconst AssignTimes = {\n\t\tname: 'AssignTimes',\n\t\tpreload: (rParams) => {\n\t\t\t//console.log('dayDetails preload')\n\t\t\t//if a promise returned, instantiation of component held for completion\n\t\t\t//route may not be resolved; use rParams and not m.route.param\n\t\t\tconst seriesId = parseInt(rParams.seriesId, 10)\n\t\t\tconst festivalId = parseInt(rParams.festivalId, 10)\n\t\t\tconst dateId = parseInt(rParams.dateId, 10)\n\t\t\tconst dayId = parseInt(rParams.dayId, 10)\n\t\t\t//messages.forArtist(dateId)\n\t\t\t//console.log('Research preload', seriesId, festivalId, rParams)\n\t\t\treturn Promise.all([\n\t\t\t\t\t!seriesId ? series.remoteCheck(true) : true,\n\t\t\t\t\tseriesId && !festivalId ? Promise.all([\n\t\t\t\t\t\tseries.subjectDetails({subject: seriesId, subjectType: SERIES}),\n\t\t\t\t\t\tfestivals.remoteCheck(true)\n\t\t\t\t\t\t]) : true,\n\t\t\t\t\tfestivalId && !dateId ? Promise.all([\n\t\t\t\t\t\tfestivals.subjectDetails({subject: festivalId, subjectType: FESTIVAL}),\n\t\t\t\t\t\tdates.remoteCheck(true)\n\t\t\t\t\t\t]) : true,\n\t\t\t\t\tdateId && !dayId  ? dates.subjectDetails({subject: dateId, subjectType: DATE}) : true,\n\t\t\t\t\tdayId ? days.subjectDetails({subject: dayId, subjectType: DAY}) : true\n\t\t\t])\n\t\t},\n\t\toninit: ({attrs}) => {\n\t\t\tif (attrs.titleSet) attrs.titleSet(`Assign set times`)\n\t\t},\n\t\tview: ({attrs}) => <div class=\"main-stage\">\n\t\t\t<EventSelector \n\t\t\t\tseriesId={seriesId()}\n\t\t\t\tfestivalId={festivalId()}\n\t\t\t\tdateId={dateId()}\n\t\t\t\tdayId={dayId()}\n\t\t\t\tstageId={stageId()}\n\t\t\t\tseriesChange={seriesChange}\n\t\t\t\tfestivalChange={festivalChange(seriesId())}\n\t\t\t\tdateChange={dateChange(seriesId(), festivalId())}\n\t\t\t\tdayChange={dayChange(seriesId(), festivalId(), dateId())}\n\t\t\t\tstageChange={stageChange(seriesId(), festivalId(), dateId(), dayId())}\n\t\t\t/>\n\t\t    {!dayId() || !stageId() ? '' : <div>\n\t\t    <AddSingleArtist festivalId={festivalId()} popModal={attrs.popModal} />\n\t\t    \n\t\t    \t<WidgetContainer>\t\n\t\t    \t<LineupWidget \n\t\t    \t\tfestivalId={festivalId()} \n\t\t    \t\ttall={true}\n\t\t    \t\tclickFunctionForData={data => (e) => {\n\t\t\t\t\taddSet = {\n\t\t\t\t\t\tband: data.id,\n\t\t\t\t\t\tday: dayId(),\n\t\t\t\t\t\tstage: stageId()\n\t\t\t\t\t}\n\t\t\t\t\tschedulingSet = true\n\t\t\t\t\t//feed data to schedule new set to modal\n\t\t\t\t\t//feed data to eliminate this ArtistCard to new modal\n\t\t\t\t\t//make modal visible\n\t\t\t\t}} />\n\t\t\t\t\t{/*\n\t\t\t\t\t<FixedCardWidget header=\"Festival Lineup\" quarter={true} containerClasses={'artist-pool'}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tartists.getMany(lineups.getFiltered(l => l.festival === festivalId()).map(x => x.band))\n\t\t\t\t\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name))\n\t\t\t\t\t\t\t\t.map(data => <ArtistCard \n\t\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\t\tclickFunction={}\n\t\t\t\t\t\t\t\t/>)\n\t\t\t\t\t\t}\n\t\t\t\t\t</FixedCardWidget>\t\n\t\t\t\t\t*/}\n\t\t\t\t\t{ dayId() && stageId() ? <FixedCardWidget header=\"Day and Stage Lineup\" quarter={true} containerClasses={'artist-pool'}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdayAndStageUnscheduled(dayId(), stageId())\n\t\t\t\t\t\t\t//.filter(x => console.log('dsu', x) || true)\n\t\t\t\t\t\t\t\t.map(data => <ArtistCard \n\t\t\t\t\t\t\t\t\tdata={artists.get(data.band)}\n\t\t\t\t\t\t\t\t\tclickFunction={() => {\n\t\t\t\t\t\t\t\t\t\taddSet = data\n\t\t\t\t\t\t\t\t\t\tschedulingSet = true\n\t\t\t\t\t\t\t\t\t\t//feed data to schedule new set to modal\n\t\t\t\t\t\t\t\t\t\t//feed data to eliminate this ArtistCard to new modal\n\t\t\t\t\t\t\t\t\t\t//make modal visible\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>)\n\t\t\t\t\t\t}\n\t\t\t\t\t</FixedCardWidget>\t: ''}\n\t\t\t\t\t<ScheduleLadder>\n\t\t\t\t\t\t{scheduledSets(dayId(), stageId())\n\t\t\t\t\t\t\t.filter(data => data.end)\n\t\t\t\t\t\t\t//.filter(x => console.log('scheduledSets', x) || true)\n\t\t\t\t\t\t\t.map(data => <ScheduleSet \n\t\t\t\t\t\t\t\tset={data}\n\t\t\t\t\t\t\t\tclickFunction={() => {\n\t\t\t\t\t\t\t\t\taddSet = data\n\t\t\t\t\t\t\t\t\tschedulingSet = true\n\t\t\t\t\t\t\t\t\t//feed data to schedule new set to modal\n\t\t\t\t\t\t\t\t\t//feed data to eliminate this ArtistCard to new modal\n\t\t\t\t\t\t\t\t\t//make modal visible\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>)}\n\t\t\t\t\t</ScheduleLadder>\n\t\t\t\t</WidgetContainer>\n\t\t\t\t</div>}\n\t\t\t\t\t<SetScheduleModal \n\t\t\t\t\t\tdisplay={schedulingSet} \n\t\t\t\t\t\thide={() => schedulingSet = false}\n\t\t\t\t\t\taction={(data, verb) => promise => promise\n\t\t\t\t\t\t\t.then(result => {\n\n\t\t\t\t\t\t\t\tm.redraw()\n\t\t\t\t\t\t\t\treturn result\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(err => {console.error(err);console.log(verb);console.log(data);})}\n\t\t\t\t\t\tset={addSet}\n\t\t\t\t\t/>\n\t\t</div>\n\t    \n}\nexport default AssignTimes;\n","// \tSetStages.jsx\n// Services\nimport Auth from '../../../services/auth.js';\nconst auth = Auth;\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nconst dragula = require(\"dragula\");\n\nimport WidgetContainer from '../../../components/layout/WidgetContainer.jsx';\nimport FixedCardWidget from '../../../components/widgets/FixedCard.jsx';\nimport NavCard from '../../../components/cards/NavCard.jsx';\nimport EventSelector from '../../detailViewsPregame/fields/event/EventSelector.jsx'\nimport UIButton from '../../ui/UIButton.jsx';\nimport TextEntryModal from '../../modals/TextEntryModal.jsx';\nimport SeriesWebsiteField from '../../detailViewsPregame/fields/series/SeriesWebsiteField.jsx'\n\nimport {remoteData} from '../../../store/data';\nimport {seriesChange, festivalChange} from '../../../store/action/event'\n\nconst captureStages = (els, festivalId) => {\n\t//console.log(els)\n\tconst stageData = _.reduce(els, (pv, el, i) => { \n\t\tpv.push({\n\t\t\tname: el.textContent, \n\t\t\tpriority: i + 1,\n\t\t\tfestival: festivalId,\n\t\t\ttype: 1\n\t\t})\n\t\treturn pv\n\t}, [])\n\t//console.log(stageData)\n\tconst deleteStages = remoteData.Places.list\n\t\t.filter(p => p.type === 1)\n\t\t.filter(p => p.festival === festivalId)\n\t\t.filter(p => !_.some(stageData, {name: p.name, festival: festivalId}))\n\n\n\tconst addPromise = stageData.length ? remoteData.Places.batchCreate(stageData, festivalId) : undefined\n\tconst delPromise = deleteStages.length ? remoteData.Places.batchDelete(deleteStages) : undefined\n\n\tPromise.all([addPromise, delPromise])\n\t\t//.then(() => console.log('captureStages promises resolved'))\n\n\n}\nconst {Series: series, Festivals: festivals, Dates: dates, Places: places, Sets: sets} = remoteData\n\nconst seriesId = () => parseInt(m.route.param('seriesId'), 10)\nconst festivalId = () => parseInt(m.route.param('festivalId'), 10)\nconst dateId = () => parseInt(m.route.param('dateId'), 10)\nconst SetStages = (vnode) => { \n\tvar currentStages = {}\n\tvar prevStages = {}\n\tvar allStages = {}\n\tvar newStageNames = []\n\tvar addingStage = false\n\tvar drake = {}\n\tconst clearMovedStages = e => {\n\t\twhile (currentStages.firstChild) {\n\t\t    currentStages.removeChild(currentStages.firstChild)\n\t}}\n\tconst seriesChangea = e => {\n\t\tclearMovedStages()\n\t\treturn seriesChange(e)\n\n\t\t//resetSelector('#date')\n\t}\n\tconst festivalChangea = seriesId => e => {\n\t\tnewStageNames = []\n\t\tclearMovedStages()\n\t\treturn festivalChange(seriesId)(e)\n\n\t\t//resetSelector('#date')\n\t}\n\tconst copyPreviousStages = () => {\n\t\tconst prevStages = remoteData.Places.prevPlaces(festivalId)\n\t\t//console.log('copyPreviousStages')\n\t\t//console.log(prevStages)\n\t\tnewStageNames = prevStages.map(p => p.name)\n\t}\n\n\treturn {\n\t\toncreate: vnode => {\n\t\t\tcurrentStages = vnode.dom.querySelector(`.ft-card-container`)\n\t\t\tdrake = dragula(\n\t\t\t\t[].slice.call(vnode.dom.querySelectorAll(`.ft-widget-dragula`))\n\t\t\t)\n\t\t\n\t\t},\n\t\toninit: ({attrs}) => {\n\t\t\tif (attrs.titleSet) attrs.titleSet(`Set up Stages`)\n\n\t\t\treturn Promise.all([\n\t\t\t\tfestivalId() ? places.maintainList({where: {festival: {inq: series.getSubFestivalIds(seriesId())}}}) : [],\n\t\t\t\tdateId() ? sets.maintainList({where: {day: {inq: dates.getSubDayIds(dateId)}}}) : true\n\t\t\t\n\t\t\t])\n\t\t},\n\t\tview: () => \n\t\t<div class=\"launcher-container\">\n\t\t\t<div class=\"ft-stage-banner-container\">\n\t\t\t\t\t<EventSelector \n\t\t\t\t\t\tseriesId={seriesId()}\n\t\t\t\t\t\tfestivalId={festivalId()}\n\t\t\t\t\t\tseriesChange={seriesChangea}\n\t\t\t\t\t\tfestivalChange={festivalChangea(seriesId())}\n\t\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SeriesWebsiteField id={seriesId()} />\n\t\t\t<div>\n\t\t\t\t<UIButton action={e => addingStage = true} buttonName=\"New Stage\" />\n\t  \t\t\t<UIButton action={copyPreviousStages} buttonName=\"Copy previous stages\" />\n\t\t\t\t<UIButton action={e => captureStages(currentStages.children, festivalId())} buttonName=\"SAVE\" />\n\t\t  </div>\n\t\t\t\t<div class=\"main-stage-content-scroll\">\n\t\t\t\t<WidgetContainer>\n\t\t\t\t\t<FixedCardWidget header=\"Current Stage Order\" containerClasses={'ft-widget-dragula'} tall={true}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(!newStageNames.length ? [] : newStageNames)\n\t\t\t\t\t\t\t\t.map(p => <NavCard fieldValue={p} key={p}/>)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{!festivalId() ? [] : remoteData.Places.forFestival(festivalId())\n\t\t\t\t\t\t\t.map(p => \n\t\t\t\t\t\t\t\t<NavCard fieldValue={p.name} key={p.id}/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t\t<FixedCardWidget header=\"Previous Stages\" containerClasses={'ft-widget-dragula'} tall={true}>\n\t\t\t\t\t\t{!festivalId() ? [] : _.uniqBy(remoteData.Places.list\n\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(p => remoteData.Festivals.getPeerIds(festivalId()).indexOf(p.festival) > -1), x => x.name)\n\t\t\t\t\t\t\t.map(p => \n\t\t\t\t\t\t\t\t<NavCard fieldValue={p.name} key={p.id}/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t{/*\n\t\t\t\t\t<FixedCardWidget header=\"All Stages\" containerClasses={'ft-widget-dragula'} tall={true}>\n\t\t\t\t\t\t{_.uniqBy(remoteData.Places.list, x => x.name).map(p => \n\t\t\t\t\t\t\t<NavCard fieldValue={p.name} key={p.id}/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t\t*/}\n\t\t\t\t</WidgetContainer>\n\t\t\t</div>\n\t\t\t<TextEntryModal \n\t\t\t\tprompt=\"New Stage Name\" \n\t\t\t\tdisplay={addingStage} \n\t\t\t\taction={newText => {\n\t\t\t\t\t//console.log('New Stage Name newText')\n\t\t\t\t\t//console.log(newText)\n\t\t\t\t\tnewStageNames.push(newText)\n\t\t\t\t}}\n\t\t\t\thide={() => addingStage = false}\n\t\t\t/>\n\t\t</div>\n}}\nexport default SetStages;\n","// \tsrc/components/createFestivals/lineups/SetLineup.jsx\n// Services\nimport Auth from '../../../services/auth.js';\nconst auth = Auth;\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nimport NavCard from '../../../components/cards/NavCard.jsx';\nimport EventSelector from '../../detailViewsPregame/fields/event/EventSelector.jsx'\nimport SeriesWebsiteField from '../../detailViewsPregame/fields/series/SeriesWebsiteField.jsx'\n\nimport ArtistEntryModal from '../../modals/ArtistEntryModal.jsx'\nimport UIButton from '../../../components/ui/UIButton.jsx';\nimport {remoteData} from '../../../store/data';\n\nimport {seriesChange, festivalChange} from '../../../store/action/event'\n\nconst festivals = remoteData.Festivals\nconst series = remoteData.Series\n\nvar addingArtist = false\n\nvar lineupIds = []\nvar lastLineupIds = []\nvar displayArtists = []\nvar lastDisplayArtists = []\n\nconst upload = festival => e => {\n\t//console.log('SetLineup', festival, e)\n    var file = e.target.files[0]\n    lineupIds = []\n    var data = new FormData()\n    data.append(\"myfile\", file)\n\n    return remoteData.Lineups.upload(data, festival)\n    \t.then(() => festivals.subjectDetails({subject: festival, subjectType: FESTIVAL}))\n}\n\nconst entryFormHandler = (formDOM, festivalId) => {\n\n\tconst formData = new FormData(formDOM);\n\tconst newEntry = {};\n\tlineupIds = []\n\tArray.from(formData.entries()).map((entryValue) => {\n\t\tconst key = entryValue[0];\n\t\tconst value = entryValue[1];\n\n\t\tswitch (value) {\n      case \"false\":\n\t      newEntry[key] = false;\n        break;\n      case \"true\":\n\t      newEntry[key] = true;\n        break;\n      default:\n\t      newEntry[key] = value;\n        break;\n    }\n\t});\n\tconst dataSet = remoteData.Lineups.forFestival(festivalId)\n\tconst checked = Object.keys(newEntry)\n\t\t.filter(k => !newEntry[k].indexOf('radio'))\n\t\t.map(k => {\n\t\t\tconst split = newEntry[k].split('-')\n\t\t\treturn {\n\t\t\t\tband: parseInt(split[1], 10),\n\t\t\t\tpriority:parseInt(split[2], 10),\n\t\t\t\tfestival: festivalId\n\t\t}})\n\t// deleteLineups\n\tconst deleteLineupIds = Object.keys(newEntry)\n\t\t.filter(k => !newEntry[k].indexOf('delete'))\n\t\t.map(k => parseInt(newEntry[k].split('-')[1], 10))\n\t\t//.map(v => {console.log(v);return v;})\n\t\t.map(v => remoteData.Lineups.getIdFromArtistFest(v, festivalId))\n\t// updateLineups\n\tconst updateLineups = checked\n\t\t.filter(l => !_.some(dataSet, l))\n\t\t.map(v => {_.set(v, 'id', remoteData.Lineups.getIdFromArtistFest(v.band, festivalId));return v;})\n\n\n\t//console.log('Lineups changes')\n\t//console.log(festivalId)\n\t//console.log(deleteLineupIds)\n\t//console.log(updateLineups)\n\tPromise.all([\n\t\tdeleteLineupIds.length ? remoteData.Lineups.batchDelete({ids: deleteLineupIds}) : true,\n\t\tupdateLineups.length ? remoteData.Lineups.batchUpdate(updateLineups) : true\n\t])\n\t//formDOM.reset();\n};\nconst seriesId = () => parseInt(m.route.param('seriesId'), 10)\nconst festivalId = () => parseInt(m.route.param('festivalId'), 10)\n\nconst SetLineup = {\n\tname: 'SetLineup',\n\t\tpreload: (rParams) => {\n\t\t\t//if a promise returned, instantiation of component held for completion\n\t\t\t//route may not be resolved; use rParams and not m.route.param\n\t\t\tconst seriesId = parseInt(rParams.seriesId, 10)\n\t\t\tconst festivalId = parseInt(rParams.festivalId, 10)\n\t\t\t//console.log('preload SetLineup', seriesId, festivalId, rParams)\n\t\t\tif(festivalId) return Promise.all([\n\t\t\t\tremoteData.ArtistPriorities.remoteCheck(),\n\t\t\t\tfestivalId ? festivals.subjectDetails({subject: festivalId, subjectType: FESTIVAL}) : '',\n\t\t\t\tseriesId ? series.subjectDetails({subject: seriesId, subjectType: SERIES}) : ''\n\t\t\t\t]) \n\t\t\t\t.catch(console.error)\n\t\t\t\n\t\t},\n\t\toninit: ({attrs}) => {\n\n\n\t\t\tif (attrs.titleSet) attrs.titleSet(`Artist Lineup`)\n\t\t\t//map each artist in the festival lineup\n\t\t\tlineupIds = remoteData.Lineups.getFestivalArtistIds(festivalId()).sort((a, b) => a - b)\n\t\t\tdisplayArtists = remoteData.Artists.getMany(lineupIds)\n\t\t},\n\t\n\tonbeforeupdate: () => {\n\t\tlastLineupIds = lineupIds\n\t\tlineupIds = remoteData.Lineups.getFestivalArtistIds(festivalId()).sort((a, b) => a - b)\n\t\tlastDisplayArtists = displayArtists\n\t\tdisplayArtists = remoteData.Artists.getMany(lineupIds)\n\t\tconst sameLineup = _.isEqual(lastDisplayArtists, displayArtists)\n\t\t//console.log('update set lineup', sameLineup, lastLineupIds, lineupIds)\n\t\treturn !sameLineup\n\t},\n\t\n\t\tview: () => <div class=\"main-stage\">\n\t\t{\n\t\t\t//console.log('view SetLineup', seriesId(), festivalId())\n\t\t}\n\t\t\t\t<EventSelector \n\t\t\t\t\tseriesId={seriesId()}\n\t\t\t\t\tfestivalId={festivalId()}\n\t\t\t\t\tfestivalChange={festivalChange(seriesId())}\n\t\t\t\t\tseriesChange={seriesChange}\n\t\t\t\t/>\n\n\t\t{series.get(seriesId()) ? <SeriesWebsiteField id={seriesId()} /> : ''}\n\t\t\t{festivalId() ? <div class=\"main-stage-content-scroll\">\n\t\t\t\t<label for=\"lineup-uploader\">\n\t\t\t        {`Upload a file with the artist list (one name per line)`}\n\t\t\t      </label>\n\t\t\t      <input id=\"lineup-uploader\" type=\"file\" name=\"lineup-file\" onchange={upload(festivalId())}/>\n\t\t\t      <UIButton action={() => addingArtist = true} buttonName=\"Add Single Artist\" />\n\t  \t\t\t\t<div><form name=\"entry-form\" id=\"entry-form\" ><table>\n\t\t\t    \t\t<tr><th>Artist</th>{\n\t\t\t    \t\t\t//list of day names, ordered by daysOffset\n\t\t\t    \t\t\tremoteData.ArtistPriorities.list\n\t\t\t    \t\t\t.sort((a, b) => a.level - b.level)\n\t\t\t    \t\t\t\t.map(h =>  <th>{h.name}</th>)\n\t\t\t    \t\t}<th class=\"delete-column\">Remove from Lineup</th></tr>\n\t\t\t\t    \t{\n\t\t\t\t    \t\tdisplayArtists\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\tconst aPriId = remoteData.Lineups.getPriFromArtistFest(a.id, festivalId())\n\t\t\t\t\tconst bPriId = remoteData.Lineups.getPriFromArtistFest(b.id, festivalId())\n\t\t\t\t\tif(aPriId === bPriId) return a.name.localeCompare(b.name)\n\t\t\t\t\tconst aPriLevel = remoteData.ArtistPriorities.getLevel(aPriId)\n\t\t\t\t\tconst bPriLevel = remoteData.ArtistPriorities.getLevel(bPriId)\n\t\t\t\t\treturn aPriLevel - bPriLevel\n\t\t\t\t})\n\t\t\t\t.map(data => <tr><td>{data.name}</td>\n\t\t\t\t\t{remoteData.ArtistPriorities.list\n\t\t\t\t\t\t.sort((a, b) => a.level - b.level)\n\t\t\t\t\t\t.map(h => <td><input \n\t\t\t\t\t\t\ttype=\"radio\" \n\t\t\t\t\t\t\tname={\"radio-\" + data.id}\n\t\t\t\t\t\t\tvalue={'radio-' + data.id + '-' + h.id} \n\t\t\t\t\t\t\tonclick={e => {\n\t\t\t\t\t\t\t\t//console.log('priChange artist:', data.id, data.name)\n\t\t\t\t\t\t\t\tconst l = remoteData.Lineups.getFiltered({\n\t\t\t\t\t\t\t\t\tfestival: festivalId(),\n\t\t\t\t\t\t\t\t\tband: data.id,\n\t\t\t\t\t\t\t\t\tdeleted: 0\n\t\t\t\t\t\t\t\t})[0]\n\t\t\t\t\t\t\t\tremoteData.Lineups.updateInstance({\n\t\t\t\t\t\t\t\t\tfestival: festivalId(), \n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\tpriority: h.id}, l.id\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.catch(console.error)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tchecked={h.id === remoteData.Lineups.getPriFromArtistFest(data.id, festivalId()) ? 'checked' : ''}/>\n\t\t\t\t</td>)}<td><input \n\t\t\t\t\t\t\ttype=\"button\" \n\t\t\t\t\t\t\tname={\"radio-\" + data.id}\n\t\t\t\t\t\t\tvalue={'delete-' + data.name} \n\t\t\t\t\t\t\tonclick={e => {\n\t\t\t\t\t\t\t\t//console.log('deleted artist:', data.id, data.name)\n\t\t\t\t\t\t\t\tremoteData.Lineups.delete(data.id)\n\t\t\t\t\t\t\t\t\t.catch(console.error)\n\t\t\t\t\t\t\t}} />\n\t\t\t\t</td></tr>)\n\t\t\t\t    \t}\n\t\t\t    \t</table></form>\n\t\t\t\t\t<ArtistEntryModal \n\t\t\t\t\t\tdisplay={addingArtist} \n\t\t\t\t\t\thide={() => addingArtist = false}\n\t\t\t\t\t\taction={artistPromise => artistPromise}\n\t\t\t\t\t\tfestivalId={festivalId()}\n\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t      {\n\n\t\t\t      //<UIButton action={() => entryFormHandler(document.getElementById('entry-form'), festivalId())} buttonName=\"Update Artist Priorities\" />\n\t\t\t      }\n\n\t\t\t      </div>\n\t\t\t\t\t\n\t\t\t\t\t\t\n       \t\t</div> : ''}\n\t\t</div>\n}\nexport default SetLineup;\n","// \tArtistSpelling.jsx\n// Services\nimport Auth from '../../../../services/auth.js'\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\nconst dragula = require(\"dragula\");\n//const Promise = require('promise-polyfill').default\n\nimport WidgetContainer from '../../../../components/layout/WidgetContainer.jsx';\nimport FixedCardWidget from '../../../../components/widgets/FixedCard.jsx';\nimport NavCard from '../../../../components/cards/NavCard.jsx';\nimport ArtistSelector from '../../../detailViewsPregame/fields/artist/ArtistSelector.jsx'\nimport UIButton from '../../../ui/UIButton.jsx';\nimport TextEntryModal from '../../../modals/TextEntryModal.jsx';\n\nimport {remoteData} from '../../../../store/data';\n\nconst getText = (pv, el) => pv.concat([el.textContent])\nconst captureArtistNames = (displayNameEls, otherNamesEls, removeNamesEls, artistId, userId) => {\n\t//console.log(displayNameEls)\n\tif(displayNameEls.length !== 1) return\n\tconst artist = remoteData.Artists.get(artistId)\n\tconst newName = displayNameEls[0].textContent\n\tconst nameChanged = artist.name !== newName\n\tconst artistAliases = remoteData.ArtistAliases.forArtist(artistId)\n\tconst existingAliases = artistAliases\n\t\t.map(x => x.alias)\n\tconst newAliases = _.reduce(otherNamesEls, getText, [])\n\t\t.filter(n => existingAliases.indexOf(n) < 0)\n\t\t.map(n => { return {\n\t\t\talias: n,\n\t\t\tband: artistId,\n\t\t\tuser: userId\n\t\t}})\n\tconst removeAliases = _.reduce(removeNamesEls, getText, [])\n\t\t.map(n => existingAliases.indexOf(n))\n\t\t.filter(i => i > -1)\n\t\t.map(i => artistAliases[i].id)\n\n\t//update artist if nameChanged\n\tconsole.log('nameChanged: ' + nameChanged)\n\tconsole.log(newAliases)\n\tconsole.log(removeAliases)\n\t//batchCreate newAliases\n\t//batchDelete removeAliases\n\n\n\tconst updPromise = nameChanged ? remoteData.Artists.update({name: newName, user: userId}, artistId) : Promise.resolve(true)\n\tconst addPromise = remoteData.ArtistAliases.batchCreate(newAliases, artistId)\n\tconst delPromise = remoteData.ArtistAliases.batchDelete(removeAliases)\n\n\tPromise.all([addPromise, delPromise, updPromise])\n\t\t.then(() => console.log('captureArtistNames promises resolved'))\n\t\t.then(m.redraw)\n\n}\n\nconst classes = attrs => 'ft-launcher-container ' + (attrs.display ? '' : 'hidden')\nconst ArtistSpelling = (vnode) => { \n\tvar artistId = 0\n\tvar artist = {}\n\tvar displayName = {}\n\tvar otherNames = {}\n\tvar removeNames = {}\n\tvar lastTarget = {}\n\tvar displayNameCount = 0\n\tvar prevStages = {}\n\tvar allStages = {}\n\tvar newArtistNames = []\n\tvar addingName = false\n\tvar drake = {}\n\tconst drakeDrop = function(el, target, source, sibling) {\n\t\tlastTarget = target\n\t\tm.redraw()\n    }\n\tconst clearMovedStages = e => {\n\t\twhile (displayName.firstChild) {\n\t\t    displayName.removeChild(displayName.firstChild)\n\t}}\n\tconst artistChange = e => {\n\t\t//console.log(e.target.value)\n\t\tartistId = parseInt(e.target.value, 10)\n\t\tartist = artistId ? remoteData.Artists.get(artistId) : {}\n\t\tnewArtistNames = []\n\t\tclearMovedStages()\n\t\tm.redraw()\n\n\t\t//resetSelector('#date')\n\t}\n\n\treturn {\n\t\toncreate: vnode => {\n\t\t\tdisplayName = vnode.dom.children[2].children[0].children[0].children[1]\n\t\t\totherNames = vnode.dom.children[2].children[0].children[1].children[1]\n\t\t\tremoveNames = vnode.dom.children[2].children[0].children[2].children[1]\n\t\t\tdrake = dragula([\n\t\t\t\tdisplayName,\n\t\t\t\totherNames,\n\t\t\t\tremoveNames\n\t\t\t])\n\t\t\t\n\t\t\t.on('drop', drakeDrop);\n\t\t    \n\t\t},\n\t\toninit: ({attrs}) => {\n\t\t\tartistId = parseInt(m.route.param('id'), 10)\n\t\t},\n\t\tonupdate: vnode => {\n\n\t\t\tartist = artistId ? remoteData.Artists.get(artistId) : {}\n\t\t\t//console.log('ArtistSpelling oninit')\n\t\t\t//console.log(artistId)\n\t\t},\n\t\tview: ({attrs}) => \n\t\t<div class={classes(attrs)}>\n\t\t\t<ArtistSelector \n\t\t\t\tlabel=\"Drag the artist names between boxes to fix:\"\n                sel={attrs.sel}\n\t\t\t\tartistChange={artistChange}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<UIButton action={e => addingName = true} buttonName=\"New Name\" />\n\t  \t\t</div>\n\t\t\t<div>\n\t\t\t\t<WidgetContainer>\n\t\t\t\t\t<FixedCardWidget header=\"Display Name\">\n\t\t\t\t\t\t{artist ? <NavCard fieldValue={artist.name} key={artist.id} /> : ''}\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t\t<FixedCardWidget header=\"Other Names\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(artistId ? remoteData.ArtistAliases.forArtist(artistId).map(x => x.alias) : []).concat(newArtistNames)\n\t\t\t\t\t\t\t\t.map(p => <NavCard fieldValue={p} />)\n\t\t\t\t\t\t}\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t\t<FixedCardWidget header=\"Remove Names\">\n\t\t\t\t\t\t{}\n\t\t\t\t\t</FixedCardWidget>\n\t\t\t\t</WidgetContainer>\n\t\t\t</div>\n\t\t\t<TextEntryModal \n\t\t\t\tprompt=\"New Artist Name\" \n\t\t\t\tdisplay={addingName} \n\t\t\t\taction={newText => {\n\t\t\t\t\t//console.log('New Artist Name newText')\n\t\t\t\t\t//console.log(newText)\n\t\t\t\t\tnewArtistNames.push(newText)\n\t\t\t\t}}\n\t\t\t\thide={() => addingName = false}\n\t\t\t/>\n\t\t\t<div>Display Name Length: {displayName.children ? displayName.children.length : 'NA'}</div>\n\t\t\t{displayName.children && displayName.children.length === 1 ? \n\t\t\t\t<UIButton action={e => captureArtistNames(displayName.children, otherNames.children, removeNames.children, artistId, Auth.userId())} buttonName=\"SAVE\" /> :\n\t\t\t\t<UIButton action={() => 0} buttonName=\"SAVE only with exactly one display name\" />\n\t\t\t}\n\t  \n\t\t</div>\n}}\nexport default ArtistSpelling;\n","// ArtistMerge.jsx\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n// change selections\nimport UIButton from '../../../../components/ui/UIButton.jsx';\nimport ArtistSelector from '../../../../components/detailViewsPregame/fields/artist/ArtistSelector.jsx'\nimport {remoteData} from '../../../../store/data';\n\nconst classes = attrs => 'ft-launcher-container ' + (attrs.display ? '' : 'hidden')\nvar textValue = ''\nvar selectedId1 = 0\nvar selectedId2 = 0\nvar resultPos = 0\nconst ArtistMerge = {\n        oninit: ({attrs}) => {\n        },\n\tview: ({attrs}) => <div class={classes(attrs)}>\n\n            <ArtistSelector \n                label=\"Select first artist to merge\"\n                defaultText=\"merge artist\"\n                artistChange={e => selectedId1 = parseInt(e.target.value, 10)}\n            />\n            <ArtistSelector \n                label=\"Select second artist to merge\"\n                defaultText=\"merge artist\"\n                artistChange={e => selectedId2 = parseInt(e.target.value, 10)}\n            />\n            <div class=\"ft-name-field\">\n                <label for=\"result-id\">\n                    {`Name of merged artist:`}\n                </label>\n                    <select id=\"result-id\" name=\"result-id\" onchange={e => resultPos = parseInt(e.target.value, 10)}>\n                        {selectedId1 ? <option value={1} >{remoteData.Artists.get(selectedId1).name}</option> : ''}\n                        {selectedId2 ? <option value={2} >{remoteData.Artists.get(selectedId2).name}</option> : ''}\n\n                    </select>\n            </div>\n            <UIButton action={e => {\n\n                remoteData.Artists.merge(selectedId1, selectedId2)\n                \n            }} buttonName=\"Accept\" />\n        </div>\n};\n\nexport default ArtistMerge;\n","// \tsrc/components/createFestivals/lineups/FixArtist.jsx\n\n\n\nimport m from 'mithril'\nimport _ from 'lodash'\n\n\nimport ArtistSpelling from '../../detailViewsPregame/fields/artist/ArtistSpelling.jsx'\nimport ArtistMerge from '../../detailViewsPregame/fields/artist/ArtistMerge.jsx'\n\n\nimport {remoteData} from '../../../store/data';\n\nconst FixArtist = (vnode) => { \n\tvar artistId = 0\n\tvar select = ''\n\tvar fixType = 0\n\tconst fixTypeChange = e => {\n\t\t//console.log(e.target.value)\n\t\tfixType = parseInt(e.target.value, 10)\n\t\tconst artistString = artistId ? '/' + artistId : ''\n\t\tconst fixString = fixType ? (fixType === 1 ? '?type=spelling' : '?type=merge') : ''\n\t\tm.route.set('/artists/pregame/fix' + artistString + fixString)\n\t}\n\treturn {\n\t\toninit: ({attrs}) => {\n\t\t\tartistId = parseInt(m.route.param('id'), 10)\n\t\t\tselect = m.route.param('type')\n\t\t\tfixType = select ? (select === 'spelling' ? 1 : (select === 'merge' ? 2 : 0) ) : 0\n\t\n\t\t\tif (attrs.titleSet) attrs.titleSet(`Fix Artist Names`)\n\t\t},\n\t\tview: () => \n\t\t<div class=\"ft-launcher-container\">\n\t\t\t<div class=\"ft-stage-banner-container\">\n\t\t\t</div>\n\t\t\t\t<div class=\"main-stage-content-scroll\">\n\t\t\t<div class=\"ft-name-field\">\n\t\t\t\t<label for=\"fix-type\">\n\t\t\t        {`Select the type of fix to make:`}\n\t\t\t    </label>\n\t\t\t\t    <select id=\"fix-type\" name=\"fix-type\" onchange={fixTypeChange}>\n\t\t\t\t    \t<option value={0} selected={!select ? \"selected\" : false}>{`Type of fix`}</option>\n\t\t\t\t\t\t<option value={1} selected={select === 'spelling' ? \"selected\" : false}>{`Spelling`}</option>\n\t\t\t\t\t\t<option value={2} selected={select === 'merge' ? \"selected\" : false}>{`Merge`}</option>\n\n\t\t\t    \t</select>\n\t\t\t</div>\n\t\t\t<ArtistSpelling display={fixType === 1} sel={artistId} />\n\t\t\t<ArtistMerge display={fixType === 2} sel={artistId} />\n\t\t</div>\n\t\t</div>\n}}\nexport default FixArtist;\n","// src/components/layout/App.jsx\n\nimport m from \"mithril\"\nimport _ from \"lodash\"\n/*\nimport { dom, config, library } from '@fortawesome/fontawesome-svg-core'\nimport { fas } from '@fortawesome/free-solid-svg-icons'\nconfig.autoReplaceSvg = true\nconfig.observeMutations = true\nlibrary.add(fas)\n*/\n\nimport { remoteData } from \"../../store/data\"\n\nimport MainStage from \"./MainStage.jsx\"\nimport DisplayBar from \"./DisplayBar.jsx\"\nimport Launcher from \"./Launcher.jsx\"\nimport ScheduleThemer from \"./ScheduleThemer.jsx\"\nimport Account from \"./Account.jsx\"\n\nimport Research from \"./Research.jsx\"\nimport Messages from \"./Messages.jsx\"\nimport Admin from \"./Admin.jsx\"\nimport Discussion from \"./Discussion.jsx\"\nimport ModalBox from \"../modals/ModalBox.jsx\"\nimport Gametime from \"../../components/gametime/Gametime.jsx\"\n// Components\nimport LauncherBanner from \"../../components/ui/LauncherBanner.jsx\"\nimport CardContainer from \"../../components/layout/CardContainer.jsx\"\nimport ConfirmLogout from \"../../components/layout/ConfirmLogout.jsx\"\nimport SeriesView from \"../../components/cardViews/SeriesView.jsx\"\nimport UserView from \"../../components/cardViews/UserView.jsx\"\nimport UIButton from \"../../components/ui/UIButton.jsx\"\n\nimport SeriesDetail from \"../../components/detailViewsPregame/SeriesDetail.jsx\"\nimport FestivalDetail from \"../../components/detailViewsPregame/FestivalDetail.jsx\"\nimport DateDetail from \"../../components/detailViewsPregame/DateDetail.jsx\"\nimport DayDetail from \"../../components/detailViewsPregame/DayDetail.jsx\"\nimport SetDetail from \"../../components/detailViewsPregame/SetDetail.jsx\"\nimport ArtistDetail from \"../../components/detailViewsPregame/ArtistDetail.jsx\"\nimport UserDetail from \"../../components/detailViewsPregame/UserDetail.js\"\n\nimport CreateSeries from \"../../components/createFestivals/series/createSeries.jsx\"\nimport CreateFestival from \"../../components/createFestivals/festivals/createFestival.jsx\"\nimport CreateDate from \"../../components/createFestivals/dates/createDate.jsx\"\nimport CreateVenue from \"../../components/createFestivals/venues/createVenue.jsx\"\nimport AssignDays from \"../../components/createFestivals/sets/AssignDays.jsx\"\nimport AssignSetStages from \"../../components/createFestivals/sets/AssignStages.jsx\"\nimport AssignTimes from \"../../components/createFestivals/sets/AssignTimes.jsx\"\nimport SetStages from \"../../components/createFestivals/festivals/SetStages.jsx\"\nimport SetLineup from \"../../components/createFestivals/lineups/SetLineup.jsx\"\nimport FixArtist from \"../../components/createFestivals/lineups/FixArtist.jsx\"\n\n// Services\nimport Auth from \"../../services/auth.js\"\nconst auth = Auth\n\nconst WelcomeView = ({ attrs }) => [\n\t<h1 class=\"app-title\">FestiGram</h1>,\n\t<h2 class=\"app-greeting\">Welcome</h2>,\n\t<span class=\"app-description\">A Festival App For The Rest Of Us</span>,\n\t<div class=\"login-button\">\n\t\t<UIButton action={() => auth.login(attrs.prev)} buttonName=\"LOGIN\" />\n\t</div>\n]\n\nconst forceLoginRoute = err => {\n\tconsole.error(err)\n\tm.route.set(\"/confirm/logout\")\n}\n\nconst rawUserData = status =>\n\tstatus\n\t\t? Promise.all([auth.getFtUserId(), auth.getRoles()]).then(([u, r]) => [\n\t\t\t\t_.isNumber(u) ? u : 0,\n\t\t\t\t_.isArray(r) ? r : []\n\t\t  ])\n\t\t: [0, []]\n\nvar titleCache = {}\nvar eventCache = {}\nvar focusCache = {}\nconst title = attrs => {\n\tconst key = m.route.get()\n\tconst cached = _.get(titleCache, key)\n\tif (cached) return cached\n\tif (attrs.titleGet()) return attrs.titleGet()\n\treturn `FestiGram`\n}\nconst bannerTitle = title => {\n\tconst key = \"banner\"\n\tif (_.isString(title)) _.set(titleCache, key, title)\n\tconst cached = _.get(titleCache, key, `FestiGram Launcher`)\n\t//console.log(\"bannerTitle\", title, cached)\n\treturn cached\n}\nconst eventBadge = selection => {\n\tconst key = m.route.get()\n\tconst eventRoute = /(fests|dates|days|sets)\\/pregame/.test(key)\n\t//console.log(\"eventBadge\", selection, key, eventRoute, _.get(eventCache, key, \"nada\"))\n\tif (!eventRoute) return\n\tconst cached = _.get(eventCache, key)\n\tif (!_.isString(selection) && cached) return cached\n\tconst badge =\n\t\tselection === `hasAccess`\n\t\t\t? { src: `img/has-access.svg` }\n\t\t\t: selection === \"\"\n\t\t\t? undefined\n\t\t\t: { src: `img/live-access.svg`, buyModal: true }\n\t//console.log(\"eventBadge\", key, selection, badge)\n\tif (_.isString(selection)) _.set(eventCache, key, badge)\n\treturn badge\n}\nconst focusSubject = so => {\n\tif (_.isUndefined(so)) return focusCache\n\t//console.log('focusSubject', so)\n\tfocusCache = so\n\treturn so\n}\nconst bucksUpdate = () => {\n\teventCache = {}\n\n\treturn auth\n\t\t.getGttRawRemote(true)\n\t\t.then(t => console.log(\"bucksUpdate token\", t))\n\t\t.then(m.redraw)\n}\n//console.log(`app here`)\nvar lastUser = [0, []]\nvar lastAttrs = {}\nconst popModal = (...popRequestArgs) => {\n\tif (!lastUser[1].includes(\"user\")) return auth.login(m.route.get())\n\treturn ModalBox.popRequest(...popRequestArgs)\n}\nconst authorize = (resolveComponent, rejectComponent) => rParams => {\n\tconst params = { titleSet: bannerTitle, eventSet: eventBadge, gtt: auth.gtt() }\n\treturn (\n\t\tPromise.all([\n\t\t\tauth.getValidToken(),\n\t\t\tresolveComponent.preload\n\t\t\t\t? resolveComponent.preload(Object.assign({}, rParams, params))\n\t\t\t\t: undefined\n\t\t])\n\t\t\t.then(([token, ...rest]) => token)\n\n\t\t\t//.then(t => console.log(\"authorize isAuthenticated\", t) || t)\n\t\t\t.then(rawUserData)\n\t\t\t//.then(t => console.log(\"authorize rawUserData\", t) || t)\n\t\t\t.then(acb => {\n\t\t\t\tacb[0] && remoteData.Users.getLocalPromise(acb[0])\n\t\t\t\tacb[0] && remoteData.Flags.remoteCheck()\n\t\t\t\tacb[0] && remoteData.Intentions.remoteCheck()\n\t\t\t\tacb[0] && remoteData.Interactions.remoteCheck()\n\t\t\t\tacb[0] && remoteData.MessagesMonitors.remoteCheck()\n\t\t\t\tacb[0] &&\n\t\t\t\t\tremoteData.Messages.acquireListSupplement(\n\t\t\t\t\t\t\"filter=\" +\n\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\tfromuser: acb[0],\n\t\t\t\t\t\t\t\t\tmessageType: CHECKIN\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t)\n\t\t\t\treturn acb\n\t\t\t})\n\t\t\t.catch(err => [0, []])\n\t\t\t//.then(t => console.log(\"authorize userSet\", t) || t)\n\t\t\t.then(user =>\n\t\t\t\tPromise.all([(lastUser = user), user[0] && auth.getGttDecoded()])\n\t\t\t)\n\t\t\t.then(([userDataRaw, gtt]) => {\n\t\t\t\t//console.log(`route resolved`, rParams, userDataRaw, gtt)\n\t\t\t\treturn {\n\t\t\t\t\toninit: () => {\n\t\t\t\t\t\t//console.log(`component init`, userDataRaw, resolveComponent)\n\t\t\t\t\t\t/*\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('init fail', rParams)\n\t\t\t\n\t\t\t\t})\n\t\t\t\t*/\n\t\t\t\t\t},\n\t\t\t\t\tview: ({ attrs }) => {\n\t\t\t\t\t\t//console.log(`component resolving`, attrs.filter, resolveComponent)\n\t\t\t\t\t\tconst attrIds = _.reduce(\n\t\t\t\t\t\t\tattrs,\n\t\t\t\t\t\t\t(passing, v, k) => {\n\t\t\t\t\t\t\t\tif (passing[k]) return passing\n\t\t\t\t\t\t\t\tconst kOk =\n\t\t\t\t\t\t\t\t\t/^id$/.test(k) || /Id$/.test(k) || /^subject/.test(k)\n\t\t\t\t\t\t\t\tconst useV = kOk && (_.isInteger(v) || /^\\d+$/.test(v))\n\t\t\t\t\t\t\t\tpassing[k] = _.isInteger(v) ? v : _.toInteger(v)\n\t\t\t\t\t\t\t\treturn passing\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t)\n\t\t\t\t\t\tconst baseAttrs = {\n\t\t\t\t\t\t\ttitleSet: bannerTitle,\n\t\t\t\t\t\t\teventSet: eventBadge,\n\t\t\t\t\t\t\tfocusSubject: focusSubject,\n\t\t\t\t\t\t\tuserId: userDataRaw[0],\n\t\t\t\t\t\t\tuserRoles: userDataRaw[1],\n\t\t\t\t\t\t\tgtt: gtt ? gtt : {},\n\t\t\t\t\t\t\tauth: auth,\n\t\t\t\t\t\t\tpopModal: popModal,\n\t\t\t\t\t\t\tfilter: attrs.filter,\n\t\t\t\t\t\t\tappStartTime: appStartTime\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst mainAttrs = Object.assign({}, attrIds, baseAttrs)\n\t\t\t\t\t\tlastAttrs = attrIds\n\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\tm(ModalBox, {\n\t\t\t\t\t\t\t\tauth: auth,\n\t\t\t\t\t\t\t\tbucksUpdate: bucksUpdate\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tm(resolveComponent, mainAttrs)\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err)\n\t\t\t\tbannerTitle(\"\")\n\t\t\t\teventBadge(\"\")\n\t\t\t\treturn rejectComponent ? rejectComponent : Launcher\n\t\t\t})\n\t)\n}\nconst appStartTime = Date.now()\n\nconst App = {\n\tname: \"App\",\n\toncreate: vnode => {\n\t\tconst mainStage = vnode.dom.querySelector(\"#main-stage\")\n\t\t//font awesome watching for icons to rpelace\n\t\t//dom.watch({autoReplaceSvgRoot: vnode.dom, observeMutationsRoot:vnode.dom})\n\t\t/*\n        var hashStr = window.location.hash;\n        hashStr = hashStr.replace(/^#?\\/?/, '');\n        localStorage.setItem('raw_token', hashStr);\n*/\n\t\t//console.log('app running 1')\n\t\t//console.log(\"app oncreate elapsed\", Date.now() - appStartTime)\n\n\t\tm.route(mainStage, \"/launcher\", {\n\t\t\t\"/admin\": {\n\t\t\t\tonmatch: authorize(Admin, Launcher)\n\t\t\t},\n\t\t\t\"/artists/pregame/fix\": {\n\t\t\t\tonmatch: () =>\n\t\t\t\t\tauth\n\t\t\t\t\t\t.getAccessToken()\n\t\t\t\t\t\t.then(FixArtist)\n\t\t\t\t\t\t.catch(forceLoginRoute)\n\t\t\t},\n\t\t\t\"/artists/pregame/fix/:id\": {\n\t\t\t\tonmatch: () =>\n\t\t\t\t\tauth\n\t\t\t\t\t\t.getAccessToken()\n\t\t\t\t\t\t.then(FixArtist)\n\t\t\t\t\t\t.catch(forceLoginRoute)\n\t\t\t},\n\t\t\t\"/artists/pregame/:id\": {\n\t\t\t\tonmatch: routing => {\n\t\t\t\t\t//remoteData.Artists.subjectDetails({subject: routing.id, subjectType: ARTIST})\n\n\t\t\t\t\treturn authorize(ArtistDetail, ArtistDetail)(routing)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"/auth\": {\n\t\t\t\trender: WelcomeView\n\t\t\t},\n\t\t\t\"/auth/:prev\": {\n\t\t\t\trender: WelcomeView\n\t\t\t},\n\t\t\t\"/callback\": {\n\t\t\t\tonmatch: () => {\n\t\t\t\t\tconst query = window.location.href.substring(\n\t\t\t\t\t\twindow.location.href.indexOf(\"?\")\n\t\t\t\t\t)\n\t\t\t\t\tconst handling =\n\t\t\t\t\t\t(/code/.test(query) && /state/.test(query)) || /token/.test(query)\n\t\t\t\t\t//console.log(\"callback query\", handling, query, window.location.href)\n\t\t\t\t\tif (!handling) return m.route.set(\"/launcher\")\n\t\t\t\t\tlocalStorage.clear()\n\t\t\t\t\treturn (\n\t\t\t\t\t\tauth\n\t\t\t\t\t\t\t.handleAuthentication()\n\t\t\t\t\t\t\t/*\n        \t\t.then(x => {\n        \t\t\tconsole.log('auth callback', x)\n        \t\t\treturn x\n        \t\t})\n\t\t\t\t*/\n\n\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\tacb =>\n\t\t\t\t\t\t\t\t\tauth\n\t\t\t\t\t\t\t\t\t\t.isAuthenticated()\n\t\t\t\t\t\t\t\t\t\t.then(rawUserData)\n\t\t\t\t\t\t\t\t\t\t.catch(err => [0, []])\n\t\t\t\t\t\t\t\t\t\t.then(user => (lastUser = user))\n\t\t\t\t\t\t\t\t\t\t.then(() => auth.getGttRawRemote())\n\t\t\t\t\t\t\t\t\t\t.then(() => acb)\n\t\t\t\t\t\t\t\t//.then(udr => [console.log(`callback new raw promise udr/acb`, udr), udr][1])\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t//.then(r => console.log(`callback new raw promise acb`, r) || r)\n\t\t\t\t\t\t\t.then(acb =>\n\t\t\t\t\t\t\t\tacb && acb.appState && acb.appState.route\n\t\t\t\t\t\t\t\t\t? acb.appState.route\n\t\t\t\t\t\t\t\t\t: \"/launcher\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.then(route => m.route.set(route))\n\t\t\t\t\t\t\t.catch(console.error)\n\t\t\t\t\t)\n\t\t\t\t\t//.then(() => m.redraw())\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"/confirm/logout\": {\n\t\t\t\tonmatch: ConfirmLogout\n\t\t\t},\n\t\t\t\"/dates/pregame/new\": {\n\t\t\t\tonmatch: authorize(CreateDate, Launcher)\n\t\t\t},\n\t\t\t\"/dates/pregame/new/:festivalId\": {\n\t\t\t\tonmatch: authorize(CreateDate, Launcher)\n\t\t\t},\n\t\t\t\"/dates/pregame/:id\": {\n\t\t\t\tonmatch: authorize(DateDetail, DateDetail)\n\t\t\t},\n\t\t\t\"/days/pregame/:id\": {\n\t\t\t\tonmatch: authorize(DayDetail, DayDetail)\n\t\t\t},\n\t\t\t\"/discussion/:messageId\": {\n\t\t\t\tonmatch: () =>\n\t\t\t\t\tauth\n\t\t\t\t\t\t.getAccessToken()\n\t\t\t\t\t\t.then(Discussion)\n\t\t\t\t\t\t.catch(forceLoginRoute)\n\t\t\t},\n\t\t\t\"/fests/pregame/assignLineup\": {\n\t\t\t\tonmatch: authorize(SetLineup, Launcher)\n\t\t\t},\n\t\t\t\"/fests/pregame/assignStages\": {\n\t\t\t\tonmatch: () =>\n\t\t\t\t\tauth\n\t\t\t\t\t\t.getAccessToken()\n\t\t\t\t\t\t.then(SetStages)\n\t\t\t\t\t\t.catch(forceLoginRoute)\n\t\t\t},\n\t\t\t\"/fests/pregame/:id\": {\n\t\t\t\tonmatch: authorize(FestivalDetail, FestivalDetail)\n\t\t\t},\n\t\t\t\"/fests/pregame/new\": {\n\t\t\t\tonmatch: routing => {\n\t\t\t\t\treturn authorize(CreateFestival, Launcher)(routing)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"/fests/pregame/new/:seriesId\": {\n\t\t\t\tonmatch: routing => {\n\t\t\t\t\tremoteData.Festivals.remoteCheck(true)\n\t\t\t\t\tremoteData.Series.remoteCheck(true)\n\n\t\t\t\t\treturn authorize(CreateFestival, Launcher)(routing)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"/gametime/locations/:subjectType/:subject\": {\n\t\t\t\tonmatch: authorize(Gametime, Launcher)\n\t\t\t},\n\t\t\t\"/gametime/:subjectType/:subject\": {\n\t\t\t\tonmatch: authorize(Gametime, Launcher)\n\t\t\t},\n\t\t\t\"/launcher\": {\n\t\t\t\tonmatch: authorize(Launcher, Launcher)\n\t\t\t},\n\t\t\t\"/manage/pregame\": {\n\t\t\t\tonmatch: () =>\n\t\t\t\t\tauth\n\t\t\t\t\t\t.getAccessToken()\n\t\t\t\t\t\t.then(() => Promise.all([auth.getFtUserId(), auth.getRoles()]))\n\t\t\t\t\t\t.then(userDataRaw => (\n\t\t\t\t\t\t\t<Launcher\n\t\t\t\t\t\t\t\tuserId={userDataRaw[0]}\n\t\t\t\t\t\t\t\tuserRoles={userDataRaw[1]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))\n\t\t\t\t\t\t//.then(userDataRaw => m(Launcher, {userId: userDataRaw[0], userRoles: userDataRaw[1]}))\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tif (err.error === \"login_required\")\n\t\t\t\t\t\t\t\treturn <Launcher userId={0} userRoles={[]} />\n\t\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t\t})\n\t\t\t},\n\t\t\t\"/messages\": {\n\t\t\t\tonmatch: authorize(Messages, Launcher)\n\t\t\t},\n\t\t\t\"/messages/:filter\": {\n\t\t\t\tonmatch: authorize(Messages, Launcher)\n\t\t\t},\n\t\t\t\"/:mode/subject/:subjectType/:subject\": {\n\t\t\t\tonmatch: rParams => {\n\t\t\t\t\t//console.log('pregame subject', rParams)\n\t\t\t\t\tconst nextParams = _.omit(rParams, [\"mode\", \"subjectType\", \"subject\"])\n\t\t\t\t\tif (rParams.subjectType === `${ARTIST}`)\n\t\t\t\t\t\treturn m.route.set(\n\t\t\t\t\t\t\t`/artists/${rParams.mode}/${rParams.subject}`,\n\t\t\t\t\t\t\tnextParams\n\t\t\t\t\t\t)\n\t\t\t\t\tif (rParams.subjectType === `${SERIES}`)\n\t\t\t\t\t\treturn m.route.set(\n\t\t\t\t\t\t\t`/series/${rParams.mode}/${rParams.subject}`,\n\t\t\t\t\t\t\tnextParams\n\t\t\t\t\t\t)\n\t\t\t\t\tif (rParams.subjectType === `${FESTIVAL}`)\n\t\t\t\t\t\treturn m.route.set(\n\t\t\t\t\t\t\t`/fests/${rParams.mode}/${rParams.subject}`,\n\t\t\t\t\t\t\tnextParams\n\t\t\t\t\t\t)\n\t\t\t\t\tif (rParams.subjectType === `${DATE}`)\n\t\t\t\t\t\treturn m.route.set(\n\t\t\t\t\t\t\t`/dates/${rParams.mode}/${rParams.subject}`,\n\t\t\t\t\t\t\tnextParams\n\t\t\t\t\t\t)\n\t\t\t\t\tif (rParams.subjectType === `${DAY}` && rParams.mode === `pregame`)\n\t\t\t\t\t\treturn m.route.set(\n\t\t\t\t\t\t\t`/days/${rParams.mode}/${rParams.subject}`,\n\t\t\t\t\t\t\tnextParams\n\t\t\t\t\t\t)\n\t\t\t\t\tif (rParams.subjectType === `${DAY}` && rParams.mode === `gametime`)\n\t\t\t\t\t\treturn m.route.set(\n\t\t\t\t\t\t\t`/gametime/${subjectType}/${subject}`,\n\t\t\t\t\t\t\tnextParams\n\t\t\t\t\t\t)\n\t\t\t\t\tif (rParams.subjectType === `${SET}` && rParams.mode === `pregame`)\n\t\t\t\t\t\treturn m.route.set(\n\t\t\t\t\t\t\t`/artists/pregame/${_.get(\n\t\t\t\t\t\t\t\tremoteData.Sets.get(_.toInteger(rParams.subject)),\n\t\t\t\t\t\t\t\t\"band\"\n\t\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t\tnextParams\n\t\t\t\t\t\t)\n\t\t\t\t\tif (rParams.subjectType === `${SET}` && rParams.mode === `gametime`)\n\t\t\t\t\t\treturn m.route.set(\n\t\t\t\t\t\t\t`/gametime/${subjectType}/${subject}`,\n\t\t\t\t\t\t\tnextParams\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"/research\": {\n\t\t\t\tonmatch: authorize(Research, Launcher)\n\t\t\t},\n\t\t\t\"/research/:seriesId\": {\n\t\t\t\tonmatch: authorize(Research, Launcher)\n\t\t\t},\n\t\t\t\"/research/:seriesId/:festivalId\": {\n\t\t\t\tonmatch: authorize(Research, Launcher)\n\t\t\t},\n\t\t\t\"/series/pregame\": {\n\t\t\t\tonmatch: routing => {\n\t\t\t\t\tremoteData.Series.remoteCheck()\n\n\t\t\t\t\treturn authorize(SeriesView, SeriesView)(routing)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"/series/pregame/new\": {\n\t\t\t\tonmatch: authorize(CreateSeries, Launcher)\n\t\t\t},\n\t\t\t\"/series/pregame/:id\": {\n\t\t\t\tonmatch: authorize(SeriesDetail, SeriesDetail)\n\t\t\t},\n\t\t\t\"/sets/pregame/assignDays\": {\n\t\t\t\tonmatch: authorize(AssignDays, Launcher)\n\t\t\t},\n\t\t\t\"/sets/pregame/assignStages\": {\n\t\t\t\tonmatch: authorize(AssignSetStages, Launcher)\n\t\t\t},\n\t\t\t\"/sets/pregame/assignTimes\": {\n\t\t\t\tonmatch: authorize(AssignTimes, Launcher)\n\t\t\t},\n\t\t\t\"/sets/pregame/:id\": {\n\t\t\t\tonmatch: SetDetail\n\t\t\t},\n\t\t\t\"/stages/pregame\": {\n\t\t\t\tonmatch: () =>\n\t\t\t\t\tauth\n\t\t\t\t\t\t.isAuthenticated()\n\t\t\t\t\t\t.then(rawUserData)\n\t\t\t\t\t\t.then(userDataRaw => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tview: () => {\n\t\t\t\t\t\t\t\t\treturn m(FestivalView, {\n\t\t\t\t\t\t\t\t\t\tuserId: userDataRaw[0],\n\t\t\t\t\t\t\t\t\t\tuserRoles: userDataRaw[1]\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t\t\treturn m(FestivalView)\n\t\t\t\t\t\t})\n\t\t\t},\n\t\t\t\"/stages/pregame/:id\": {\n\t\t\t\tonmatch: () =>\n\t\t\t\t\tauth\n\t\t\t\t\t\t.getAccessToken()\n\t\t\t\t\t\t.then(() => SeriesDetail(auth))\n\t\t\t\t\t\t.catch(forceLoginRoute)\n\t\t\t},\n\t\t\t\"/themer/schedule\": {\n\t\t\t\tonmatch: authorize(ScheduleThemer, ScheduleThemer)\n\t\t\t},\n\t\t\t\"/users/account\": {\n\t\t\t\tonmatch: routing => {\n\t\t\t\t\t//remoteData.Users.recent(10)\n\n\t\t\t\t\treturn authorize(Account, WelcomeView)(routing)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"/users/pregame\": {\n\t\t\t\tonmatch: routing => {\n\t\t\t\t\t//remoteData.Users.recent(10)\n\n\t\t\t\t\treturn authorize(UserView, UserView)(routing)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"/users/pregame/:id\": {\n\t\t\t\tonmatch: authorize(UserDetail, UserDetail)\n\t\t\t},\n\t\t\t\"/venues/pregame/new\": {\n\t\t\t\tonmatch: () =>\n\t\t\t\t\tauth\n\t\t\t\t\t\t.getAccessToken()\n\t\t\t\t\t\t.then(() => CreateVenue(auth))\n\t\t\t\t\t\t.catch(forceLoginRoute)\n\t\t\t}\n\t\t})\n\n\t\t//m.mount(document.getElementById(\"DisplayBar\"), {view: function () {return m(LauncherBanner, _.assign({}, lastUser, {}))}})\n\t},\n\tview: ({ children }) => (\n\t\t<div class=\"App\">\n\t\t\t{\n\t\t\t\t//console.log(\"app view elapsed\", Date.now() - appStartTime)\n\t\t\t}\n\t\t\t{/gametime/.test(m.route.get()) ? (\n\t\t\t\t\"\"\n\t\t\t) : (\n\t\t\t\t<LauncherBanner\n\t\t\t\t\tuserId={lastUser[0]}\n\t\t\t\t\tuserRoles={lastUser[1]}\n\t\t\t\t\ttitleGet={bannerTitle}\n\t\t\t\t\teventGet={eventBadge}\n\t\t\t\t\tpopModal={popModal}\n\t\t\t\t\tfocusSubject={focusSubject}\n\t\t\t\t\tbucksUpdate={bucksUpdate}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<div id=\"main-stage\">{children}</div>\n\t\t</div>\n\t)\n}\n\nexport default App\n","// index.jsx\n\nimport m from 'mithril'\n//const Promise = require('promise-polyfill').default\nconst root = document.getElementById(\"app\");\n\n\n\n//console.log('app running index.jsx')\n// Styles\nimport \"./index.css\"\n// images\nimport \"./img/has-access.svg\"\nimport \"./img/live-access.svg\"\nimport \"./img/insignia lighter 512x512.png\"\nimport \"./img/symbol-defs.svg\"\n// other\n//import \"./www/robots.txt\"\n//import \"./www/manifest.json\"\n\n\nimport App from './components/layout/App.jsx';\nif ('serviceWorker' in navigator) {\n  // Use the window load event to keep the page load performant\n  window.addEventListener('load', () => {\n  \tconsole.log('index.js: registering sw')\n    navigator.serviceWorker.register('/service-worker.js', { scope: '/' });\n  });\n}\n\nm.mount(root, App);\n"],"sourceRoot":""}